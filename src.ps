%!PS-Adobe-3.0
%%BoundingBox: 38 24 574 768
%%Title: Enscript Output
%%For: Bilal Khan
%%Creator: GNU enscript 1.6.4
%%CreationDate: Fri Oct 21 09:22:49 2011
%%Orientation: Landscape
%%Pages: (atend)
%%DocumentMedia: Letter 612 792 0 () ()
%%DocumentNeededResources: (atend)
%%EndComments
%%BeginProlog
%%BeginResource: procset Enscript-Prolog 1.6 4
%
% Procedures.
%

/_S {	% save current state
  /_s save def
} def
/_R {	% restore from saved state
  _s restore
} def

/S {	% showpage protecting gstate
  gsave
  showpage
  grestore
} bind def

/MF {	% fontname newfontname -> -	make a new encoded font
  /newfontname exch def
  /fontname exch def

  /fontdict fontname findfont def
  /newfont fontdict maxlength dict def

  fontdict {
    exch
    dup /FID eq {
      % skip FID pair
      pop pop
    } {
      % copy to the new font dictionary
      exch newfont 3 1 roll put
    } ifelse
  } forall

  newfont /FontName newfontname put

  % insert only valid encoding vectors
  encoding_vector length 256 eq {
    newfont /Encoding encoding_vector put
  } if

  newfontname newfont definefont pop
} def

/MF_PS { % fontname newfontname -> -	make a new font preserving its enc
  /newfontname exch def
  /fontname exch def

  /fontdict fontname findfont def
  /newfont fontdict maxlength dict def

  fontdict {
    exch
    dup /FID eq {
      % skip FID pair
      pop pop
    } {
      % copy to the new font dictionary
      exch newfont 3 1 roll put
    } ifelse
  } forall

  newfont /FontName newfontname put

  newfontname newfont definefont pop
} def

/SF { % fontname width height -> -	set a new font
  /height exch def
  /width exch def

  findfont
  [width 0 0 height 0 0] makefont setfont
} def

/SUF { % fontname width height -> -	set a new user font
  /height exch def
  /width exch def

  /F-gs-user-font MF
  /F-gs-user-font width height SF
} def

/SUF_PS { % fontname width height -> -	set a new user font preserving its enc
  /height exch def
  /width exch def

  /F-gs-user-font MF_PS
  /F-gs-user-font width height SF
} def

/M {moveto} bind def
/s {show} bind def

/Box {	% x y w h -> -			define box path
  /d_h exch def /d_w exch def /d_y exch def /d_x exch def
  d_x d_y  moveto
  d_w 0 rlineto
  0 d_h rlineto
  d_w neg 0 rlineto
  closepath
} def

/bgs {	% x y height blskip gray str -> -	show string with bg color
  /str exch def
  /gray exch def
  /blskip exch def
  /height exch def
  /y exch def
  /x exch def

  gsave
    x y blskip sub str stringwidth pop height Box
    gray setgray
    fill
  grestore
  x y M str s
} def

/bgcs { % x y height blskip red green blue str -> -  show string with bg color
  /str exch def
  /blue exch def
  /green exch def
  /red exch def
  /blskip exch def
  /height exch def
  /y exch def
  /x exch def

  gsave
    x y blskip sub str stringwidth pop height Box
    red green blue setrgbcolor
    fill
  grestore
  x y M str s
} def

% Highlight bars.
/highlight_bars {	% nlines lineheight output_y_margin gray -> -
  gsave
    setgray
    /ymarg exch def
    /lineheight exch def
    /nlines exch def

    % This 2 is just a magic number to sync highlight lines to text.
    0 d_header_y ymarg sub 2 sub translate

    /cw d_output_w cols div def
    /nrows d_output_h ymarg 2 mul sub lineheight div cvi def

    % for each column
    0 1 cols 1 sub {
      cw mul /xp exch def

      % for each rows
      0 1 nrows 1 sub {
        /rn exch def
        rn lineheight mul neg /yp exch def
        rn nlines idiv 2 mod 0 eq {
	  % Draw highlight bar.  4 is just a magic indentation.
	  xp 4 add yp cw 8 sub lineheight neg Box fill
	} if
      } for
    } for

  grestore
} def

% Line highlight bar.
/line_highlight {	% x y width height gray -> -
  gsave
    /gray exch def
    Box gray setgray fill
  grestore
} def

% Column separator lines.
/column_lines {
  gsave
    .1 setlinewidth
    0 d_footer_h translate
    /cw d_output_w cols div def
    1 1 cols 1 sub {
      cw mul 0 moveto
      0 d_output_h rlineto stroke
    } for
  grestore
} def

% Column borders.
/column_borders {
  gsave
    .1 setlinewidth
    0 d_footer_h moveto
    0 d_output_h rlineto
    d_output_w 0 rlineto
    0 d_output_h neg rlineto
    closepath stroke
  grestore
} def

% Do the actual underlay drawing
/draw_underlay {
  ul_style 0 eq {
    ul_str true charpath stroke
  } {
    ul_str show
  } ifelse
} def

% Underlay
/underlay {	% - -> -
  gsave
    0 d_page_h translate
    d_page_h neg d_page_w atan rotate

    ul_gray setgray
    ul_font setfont
    /dw d_page_h dup mul d_page_w dup mul add sqrt def
    ul_str stringwidth pop dw exch sub 2 div ul_h_ptsize -2 div moveto
    draw_underlay
  grestore
} def

/user_underlay {	% - -> -
  gsave
    ul_x ul_y translate
    ul_angle rotate
    ul_gray setgray
    ul_font setfont
    0 0 ul_h_ptsize 2 div sub moveto
    draw_underlay
  grestore
} def

% Page prefeed
/page_prefeed {		% bool -> -
  statusdict /prefeed known {
    statusdict exch /prefeed exch put
  } {
    pop
  } ifelse
} def

% Wrapped line markers
/wrapped_line_mark {	% x y charwith charheight type -> -
  /type exch def
  /h exch def
  /w exch def
  /y exch def
  /x exch def

  type 2 eq {
    % Black boxes (like TeX does)
    gsave
      0 setlinewidth
      x w 4 div add y M
      0 h rlineto w 2 div 0 rlineto 0 h neg rlineto
      closepath fill
    grestore
  } {
    type 3 eq {
      % Small arrows
      gsave
        .2 setlinewidth
        x w 2 div add y h 2 div add M
        w 4 div 0 rlineto
        x w 4 div add y lineto stroke

        x w 4 div add w 8 div add y h 4 div add M
        x w 4 div add y lineto
	w 4 div h 8 div rlineto stroke
      grestore
    } {
      % do nothing
    } ifelse
  } ifelse
} def

% EPSF import.

/BeginEPSF {
  /b4_Inc_state save def    		% Save state for cleanup
  /dict_count countdictstack def	% Count objects on dict stack
  /op_count count 1 sub def		% Count objects on operand stack
  userdict begin
  /showpage { } def
  0 setgray 0 setlinecap
  1 setlinewidth 0 setlinejoin
  10 setmiterlimit [ ] 0 setdash newpath
  /languagelevel where {
    pop languagelevel
    1 ne {
      false setstrokeadjust false setoverprint
    } if
  } if
} bind def

/EndEPSF {
  count op_count sub { pos } repeat	% Clean up stacks
  countdictstack dict_count sub { end } repeat
  b4_Inc_state restore
} bind def

% Check PostScript language level.
/languagelevel where {
  pop /gs_languagelevel languagelevel def
} {
  /gs_languagelevel 1 def
} ifelse
%%EndResource
%%BeginResource: procset Enscript-Encoding-88591 1.6 4
/encoding_vector [
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/space        	/exclam       	/quotedbl     	/numbersign   	
/dollar       	/percent      	/ampersand    	/quoteright   	
/parenleft    	/parenright   	/asterisk     	/plus         	
/comma        	/hyphen       	/period       	/slash        	
/zero         	/one          	/two          	/three        	
/four         	/five         	/six          	/seven        	
/eight        	/nine         	/colon        	/semicolon    	
/less         	/equal        	/greater      	/question     	
/at           	/A            	/B            	/C            	
/D            	/E            	/F            	/G            	
/H            	/I            	/J            	/K            	
/L            	/M            	/N            	/O            	
/P            	/Q            	/R            	/S            	
/T            	/U            	/V            	/W            	
/X            	/Y            	/Z            	/bracketleft  	
/backslash    	/bracketright 	/asciicircum  	/underscore   	
/quoteleft    	/a            	/b            	/c            	
/d            	/e            	/f            	/g            	
/h            	/i            	/j            	/k            	
/l            	/m            	/n            	/o            	
/p            	/q            	/r            	/s            	
/t            	/u            	/v            	/w            	
/x            	/y            	/z            	/braceleft    	
/bar          	/braceright   	/tilde        	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/.notdef      	/.notdef      	/.notdef      	/.notdef      	
/space        	/exclamdown   	/cent         	/sterling     	
/currency     	/yen          	/brokenbar    	/section      	
/dieresis     	/copyright    	/ordfeminine  	/guillemotleft	
/logicalnot   	/hyphen       	/registered   	/macron       	
/degree       	/plusminus    	/twosuperior  	/threesuperior	
/acute        	/mu           	/paragraph    	/bullet       	
/cedilla      	/onesuperior  	/ordmasculine 	/guillemotright	
/onequarter   	/onehalf      	/threequarters	/questiondown 	
/Agrave       	/Aacute       	/Acircumflex  	/Atilde       	
/Adieresis    	/Aring        	/AE           	/Ccedilla     	
/Egrave       	/Eacute       	/Ecircumflex  	/Edieresis    	
/Igrave       	/Iacute       	/Icircumflex  	/Idieresis    	
/Eth          	/Ntilde       	/Ograve       	/Oacute       	
/Ocircumflex  	/Otilde       	/Odieresis    	/multiply     	
/Oslash       	/Ugrave       	/Uacute       	/Ucircumflex  	
/Udieresis    	/Yacute       	/Thorn        	/germandbls   	
/agrave       	/aacute       	/acircumflex  	/atilde       	
/adieresis    	/aring        	/ae           	/ccedilla     	
/egrave       	/eacute       	/ecircumflex  	/edieresis    	
/igrave       	/iacute       	/icircumflex  	/idieresis    	
/eth          	/ntilde       	/ograve       	/oacute       	
/ocircumflex  	/otilde       	/odieresis    	/divide       	
/oslash       	/ugrave       	/uacute       	/ucircumflex  	
/udieresis    	/yacute       	/thorn        	/ydieresis    	
] def
%%EndResource
%%EndProlog
%%BeginSetup
%%IncludeResource: font Courier-Bold
%%IncludeResource: font Courier
/HFpt_w 10 def
/HFpt_h 10 def
/Courier-Bold /HF-gs-font MF
/HF /HF-gs-font findfont [HFpt_w 0 0 HFpt_h 0 0] makefont def
/Courier /F-gs-font MF
/F-gs-font 10 10 SF
/#copies 1 def
% Pagedevice definitions:
gs_languagelevel 1 gt {
  <<
    /PageSize [612 792] 
  >> setpagedevice
} if
%%BeginResource: procset Enscript-Header-simple 1.6 4

/do_header {	% print default simple header
  gsave
    d_header_x d_header_y HFpt_h 3 div add translate

    HF setfont
    user_header_p {
      5 0 moveto user_header_left_str show

      d_header_w user_header_center_str stringwidth pop sub 2 div
      0 moveto user_header_center_str show

      d_header_w user_header_right_str stringwidth pop sub 5 sub
      0 moveto user_header_right_str show
    } {
      5 0 moveto fname show
      45 0 rmoveto fmodstr show
      45 0 rmoveto pagenumstr show
    } ifelse

  grestore
} def
%%EndResource
/d_page_w 744 def
/d_page_h 536 def
/d_header_x 0 def
/d_header_y 521 def
/d_header_w 744 def
/d_header_h 15 def
/d_footer_x 0 def
/d_footer_y 0 def
/d_footer_w 744 def
/d_footer_h 0 def
/d_output_w 744 def
/d_output_h 521 def
/cols 1 def
%%EndSetup
%%Page: (1) 1
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/AbstractCancellationDiagramAnalysis.java) def
/fdir (src/cancellation/) def
/ftail (AbstractCancellationDiagramAnalysis.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:41:17 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (AbstractCancellationDiagramAnalysis.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(import java.util.TreeSet;) s
5 420 M
(import java.util.LinkedList;) s
5 409 M
(import java.util.HashMap;) s
5 398 M
(import java.util.Iterator;) s
5 387 M
(import letter.Letter;) s
5 376 M
(import equation.GroupEquation;) s
5 365 M
(import equation.QuadraticSystem;) s
5 343 M
(/**) s
5 332 M
( *) s
5 321 M
( * @author grouptheory) s
5 310 M
( */) s
5 299 M
(public abstract class AbstractCancellationDiagramAnalysis) s
5 288 M
(    implements ICancellationDiagramAnalysis {) s
5 266 M
(    private GroupEquation _problem;) s
5 255 M
(    private QuadraticSystem _qs;) s
5 244 M
(    private HashMap _equiv;) s
5 233 M
(    private GroupEquation _problemQuadratic;) s
5 222 M
(    private LinkedList _decorators;) s
5 200 M
(    protected AbstractCancellationDiagramAnalysis\(GroupEquation problem, QuadraticSystem qs\) {) s
5 189 M
(        _problem = problem;) s
5 178 M
(        _qs = qs;) s
5 156 M
(        _problemQuadratic = qs.getEquation\(\);) s
5 145 M
(        _equiv = new HashMap\(\);) s
5 134 M
(        _equiv.putAll\(qs.getEquivalences\(\)\);) s
5 112 M
(        _decorators = new LinkedList\(\);) s
5 101 M
(    }) s
5 79 M
(    public final void addDecorator\(ICancellationDiagramAnalysisDecorator dec\) {) s
5 68 M
(        _decorators.addLast\(dec\);) s
5 57 M
(    }) s
5 35 M
(    public final Iterator iteratorDecorators\(\) {) s
5 24 M
(        return _decorators.iterator\(\);) s
5 13 M
(    }) s
_R
S
%%Page: (2) 2
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/cancellation/AbstractCancellationDiagramAnalysis.java) def
/fdir (src/cancellation/) def
/ftail (AbstractCancellationDiagramAnalysis.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:41:17 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (AbstractCancellationDiagramAnalysis.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    public final GroupEquation getProblem\(\) {) s
5 497 M
(        return _problem;) s
5 486 M
(    }) s
5 464 M
(    public final QuadraticSystem getQuadraticSystem\(\) {) s
5 453 M
(        return _qs;) s
5 442 M
(    }) s
5 420 M
(    public final GroupEquation getQuadraticEquation\(\) {) s
5 409 M
(        return _problemQuadratic;) s
5 398 M
(    }) s
5 376 M
(    public final HashMap getEquivalences\(\) {) s
5 365 M
(        return _equiv;) s
5 354 M
(    }) s
5 332 M
(    public String toString\(\) {) s
5 321 M
(        String s = "";) s
5 299 M
(        s += \("Quadratic Equation: "+_problemQuadratic+" = 1\\n"\);) s
5 277 M
(        s+="\\n\\nVariable equivalences:\\n\\n";) s
5 266 M
(        for \(Iterator it=_equiv.keySet\(\).iterator\(\); it.hasNext\(\);\) {) s
5 255 M
(            Letter let = \(Letter\)it.next\(\);) s
5 244 M
(            s += \(let.toString\(\) + "="+ \(\(Letter\)_equiv.get\(let\)\).toString\(\) + "; \\n"\);) s
5 233 M
(        }) s
5 211 M
(        return s;) s
5 200 M
(    }) s
5 178 M
(    static class FilteredIterator implements Iterator {) s
5 167 M
(        private Iterator _it;) s
5 156 M
(        private DiagramTreeNode _nextDTN;) s
5 134 M
(        FilteredIterator\(Iterator it\) {) s
5 123 M
(            _it = it;) s
5 112 M
(            _nextDTN = nextDTN\(\);) s
5 101 M
(        }) s
5 90 M
(        ) s
5 79 M
(        public boolean hasNext\(\) {) s
5 68 M
(            return \(_nextDTN!=null\);) s
5 57 M
(        }) s
5 35 M
(        public Object next\(\) {) s
5 24 M
(            DiagramTreeNode nextDTN = _nextDTN;) s
5 13 M
(            _nextDTN = nextDTN\(\);) s
5 2 M
(            return nextDTN;) s
_R
S
%%Page: (3) 3
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/cancellation/AbstractCancellationDiagramAnalysis.java) def
/fdir (src/cancellation/) def
/ftail (AbstractCancellationDiagramAnalysis.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:41:17 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (AbstractCancellationDiagramAnalysis.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        }) s
5 486 M
(        public void remove\(\) {) s
5 475 M
(            _it.remove\(\);) s
5 464 M
(        }) s
5 442 M
(        private DiagramTreeNode nextDTN\(\) {) s
5 431 M
(            DiagramTreeNode answer = null;) s
5 409 M
(            while \(_it.hasNext\(\)\) {) s
5 398 M
(                DiagramTreeNode dtn = \(DiagramTreeNode\)_it.next\(\);) s
5 387 M
(                Diagram nextDiag = dtn.getDiagram\(\);) s
5 365 M
(                if \(!DiagramDegeneracyTester.isDegenerate\(nextDiag\) && dtn.getLeaf\(\)\) {) s
5 354 M
(                    answer = dtn;) s
5 343 M
(                    break;) s
5 332 M
(                }) s
5 321 M
(            }) s
5 299 M
(            return answer;) s
5 288 M
(        }) s
5 277 M
(    }) s
5 266 M
(}) s
_R
S
%%Page: (1) 4
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/BFS.java) def
/fdir (src/cancellation/) def
/ftail (BFS.java) def
% User defined strings:
/fmodstr (Fri Oct 21 08:58:21 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (BFS.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(import java.util.HashMap;) s
5 420 M
(import java.util.HashSet;) s
5 409 M
(import java.util.LinkedList;) s
5 398 M
(import java.util.Iterator;) s
5 387 M
(import java.util.Map;) s
5 376 M
(import java.util.Map.Entry;) s
5 354 M
(/**) s
5 343 M
( *) s
5 332 M
( * @author grouptheory) s
5 321 M
( */) s
5 310 M
(public class BFS {) s
5 288 M
(    private Node _src;) s
5 277 M
(    private LinkedList _frontier;) s
5 266 M
(    private HashSet _markedNodes;) s
5 255 M
(    private HashSet _markedEdges;) s
5 244 M
(    private HashMap _node2prevEdge;) s
5 233 M
(    private HashMap _edge2prevNode;) s
5 222 M
(    private Diagram _d;) s
5 211 M
(    ) s
5 200 M
(    BFS\(Diagram d, Node src\) {) s
5 189 M
(        _d = d;) s
5 178 M
(        _src = src;) s
5 167 M
(        _frontier = new LinkedList\(\);) s
5 156 M
(        _markedNodes = new HashSet\(\);) s
5 145 M
(        _markedEdges = new HashSet\(\);) s
5 134 M
(        _node2prevEdge = new HashMap\(\);) s
5 123 M
(        _edge2prevNode = new HashMap\(\);) s
5 112 M
(        ) s
5 101 M
(        _frontier.addLast\(src\);) s
5 90 M
(        _markedNodes.add\(src\);) s
5 79 M
(        grow\(\);) s
5 68 M
(    }) s
5 46 M
(    void grow\(\) {) s
5 35 M
(        while \(step\(\)\);) s
5 24 M
(        validate\(\);) s
5 13 M
(    }) s
_R
S
%%Page: (2) 5
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/cancellation/BFS.java) def
/fdir (src/cancellation/) def
/ftail (BFS.java) def
% User defined strings:
/fmodstr (Fri Oct 21 08:58:21 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (BFS.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    boolean step\(\) {) s
5 497 M
(        Node nd = \(Node\)_frontier.removeFirst\(\);) s
5 486 M
(        for \(Iterator it = nd.edgeIterator\(\); it.hasNext\(\); \) {) s
5 475 M
(            Edge e = \(Edge\)it.next\(\);) s
5 464 M
(            if \(e.getOccupancy\(\) == 2\) {) s
5 453 M
(                continue;) s
5 442 M
(            }) s
5 431 M
(            Node peer = e.getOpposite\(nd\);) s
5 409 M
(            if \(_markedNodes.contains\(peer\)\) {) s
5 398 M
(                if \( ! _edge2prevNode.containsKey\(e\)\) {) s
5 387 M
(                    _edge2prevNode.put\(e, nd\);) s
5 376 M
(                }) s
5 365 M
(                _markedEdges.add\(e\);) s
5 354 M
(                continue;) s
5 343 M
(            }) s
5 321 M
(            if \(_frontier.contains\(peer\)\) {) s
5 310 M
(                if \( ! _edge2prevNode.containsKey\(e\)\) {) s
5 299 M
(                    _edge2prevNode.put\(e, nd\);) s
5 288 M
(                }) s
5 277 M
(                _markedEdges.add\(e\);) s
5 266 M
(                continue;) s
5 255 M
(            }) s
5 244 M
(            ) s
5 233 M
(            _frontier.add\(peer\);) s
5 222 M
(            _markedEdges.add\(e\);) s
5 211 M
(            ) s
5 200 M
(            _node2prevEdge.put\(peer, e\);) s
5 189 M
(            _edge2prevNode.put\(e, nd\);) s
5 178 M
(        }) s
5 167 M
(        _markedNodes.add\(nd\);) s
5 156 M
(        return _frontier.size\(\)>0;) s
5 145 M
(    }) s
5 123 M
(    boolean reachable\(Node nd\) {) s
5 112 M
(        _d.validateNode\(nd\);) s
5 101 M
(        return _markedNodes.contains\(nd\);) s
5 90 M
(    }) s
5 68 M
(    boolean reachable\(Edge e\) {) s
5 57 M
(        _d.validateEdge\(e\);) s
5 46 M
(        return _markedEdges.contains\(e\);) s
5 35 M
(    }) s
5 24 M
(    ) s
5 13 M
(    Iterator reachableNodesIterator\(\) {) s
5 2 M
(        return _markedNodes.iterator\(\);) s
_R
S
%%Page: (3) 6
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/cancellation/BFS.java) def
/fdir (src/cancellation/) def
/ftail (BFS.java) def
% User defined strings:
/fmodstr (Fri Oct 21 08:58:21 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (BFS.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    }) s
5 486 M
(    Iterator reachableEdgesIterator\(\) {) s
5 475 M
(        return _markedEdges.iterator\(\);) s
5 464 M
(    }) s
5 442 M
(    Path getPathFrom\(Node nd\) {) s
5 431 M
(        _d.validateNode\(nd\);) s
5 420 M
(        ) s
5 409 M
(        Path p = new Path\(nd, _d\);) s
5 387 M
(        // System.out.println\("Trying to go from "+nd+" to "+_src\);) s
5 376 M
(        while \(nd != _src\) {) s
5 365 M
(            // System.out.println\("At node "+nd\);) s
5 343 M
(            Edge e = \(Edge\)_node2prevEdge.get\(nd\);) s
5 332 M
(            if \(e==null\) {) s
5 321 M
(                //System.out.println\("DEBUG BFS\\n"+this\);) s
5 310 M
(                //System.out.println\("DEBUG Diagram "+_d+"\\n"\);) s
5 299 M
(                //System.out.print\("DEBUG Reachable nodes: "\);) s
5 288 M
(                for \(Iterator it = _markedNodes.iterator\(\); it.hasNext\(\); \) {) s
5 277 M
(                    Node rn = \(Node\)it.next\(\);) s
5 266 M
(                    //System.out.print\(""+rn.toStringShort\(\)+", "\);) s
5 255 M
(                }) s
5 244 M
(                //System.out.println\(""\);) s
5 222 M
(                //System.out.println\("DEBUG Missing entry for node "+nd+"\\n"\);) s
5 211 M
(                throw new RuntimeException\("DiagramTreeNode.getPathFrom: traceback from node failed"\);) s
5 200 M
(            }) s
5 189 M
(            nd = \(Node\)_edge2prevNode.get\(e\);) s
5 178 M
(            if \(nd==null\) {) s
5 167 M
(                //System.out.println\("DEBUG BFS\\n"+this\);) s
5 156 M
(                //System.out.println\("DEBUG Diagram "+_d+"\\n"\);) s
5 145 M
(                //System.out.println\("DEBUG Missing entry for edge "+e+"\\n"\);) s
5 134 M
(                throw new RuntimeException\("DiagramTreeNode.getPathFrom: traceback from edge failed"\);) s
5 123 M
(            }) s
5 101 M
(            p.append\(e\);) s
5 90 M
(            p.append\(nd\);) s
5 79 M
(        }) s
5 68 M
(        return p;) s
5 57 M
(    }) s
5 24 M
(    Path getPathFrom\(Edge e\) {) s
5 13 M
(        _d.validateEdge\(e\);) s
_R
S
%%Page: (4) 7
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 4 def
/fname (src/cancellation/BFS.java) def
/fdir (src/cancellation/) def
/ftail (BFS.java) def
% User defined strings:
/fmodstr (Fri Oct 21 08:58:21 2011) def
/pagenumstr (4) def
/user_header_p true def
/user_header_left_str (BFS.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 4 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        Path p = new Path\(e, _d\);) s
5 497 M
(        Node nd = \(Node\)_edge2prevNode.get\(e\);) s
5 486 M
(        p.append\(nd\);) s
5 475 M
(        while \(nd != _src\) {) s
5 464 M
(            Edge e2 = \(Edge\)_node2prevEdge.get\(nd\);) s
5 453 M
(            nd = \(Node\)_edge2prevNode.get\(e2\);) s
5 442 M
(            p.append\(e2\);) s
5 431 M
(            p.append\(nd\);) s
5 420 M
(        }) s
5 409 M
(        return p;) s
5 398 M
(    }) s
5 376 M
(    public String toString\(\) {) s
5 365 M
(        String s = "";) s
5 354 M
(        for \(Iterator it = _edge2prevNode.entrySet\(\).iterator\(\); it.hasNext\(\); \) {) s
5 343 M
(            Map.Entry ent = \(Map.Entry\)it.next\(\);) s
5 332 M
(            s += "edge "+ent.getKey\(\)+" ==> node "+ent.getValue\(\)+"\\n";) s
5 321 M
(        }) s
5 310 M
(        for \(Iterator it = _node2prevEdge.entrySet\(\).iterator\(\); it.hasNext\(\); \) {) s
5 299 M
(            Map.Entry ent = \(Map.Entry\)it.next\(\);) s
5 288 M
(            s += "node "+ent.getKey\(\)+" ==> edge "+ent.getValue\(\)+"\\n";) s
5 277 M
(        }) s
5 266 M
(        return s;) s
5 255 M
(    }) s
5 233 M
(    public void validate\(\) {) s
5 222 M
(        for \(Iterator it = reachableNodesIterator\(\); it.hasNext\(\);\) {) s
5 211 M
(            Node nd = \(Node\)it.next\(\);) s
5 200 M
(            if \(nd == _src\) continue;) s
5 189 M
(            ) s
5 178 M
(            Edge e = \(Edge\)_node2prevEdge.get\(nd\);) s
5 167 M
(            if \(e==null\) {) s
5 156 M
(                //System.out.println\("BAD BFS\\n"+this\);) s
5 145 M
(                throw new RuntimeException\("DiagramTreeNode.getPathFrom: traceback from "+nd+" failed"\);) s
5 134 M
(            }) s
5 123 M
(        }) s
5 101 M
(        for \(Iterator it = reachableEdgesIterator\(\); it.hasNext\(\);\) {) s
5 90 M
(            Edge e = \(Edge\)it.next\(\);) s
5 79 M
(            Node nd = \(Node\)_edge2prevNode.get\(e\);) s
5 68 M
(            if \(nd==null\) {) s
5 57 M
(                //System.out.println\("BAD BFS\\n"+this\);) s
5 46 M
(                throw new RuntimeException\("DiagramTreeNode.getPathFrom: traceback from "+e+" failed"\);) s
5 35 M
(            }) s
5 24 M
(        }) s
5 13 M
(    }) s
5 2 M
(}) s
_R
S
%%Page: (1) 8
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/CancellationDiagramFactory.java) def
/fdir (src/cancellation/) def
/ftail (CancellationDiagramFactory.java) def
% User defined strings:
/fmodstr (Thu Oct 13 14:11:12 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (CancellationDiagramFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(import equation.QuadraticSystem;) s
5 420 M
(import equation.QuadraticSystemFactory;) s
5 409 M
(import equation.GroupEquation;) s
5 398 M
(import java.util.LinkedList;) s
5 387 M
(import java.util.HashMap;) s
5 376 M
(import utility.CompositeIterator;) s
5 354 M
(/**) s
5 343 M
( *) s
5 332 M
( * @author grouptheory) s
5 321 M
( */) s
5 310 M
(public class CancellationDiagramFactory {) s
5 288 M
(    private static CancellationDiagramFactory _instance;) s
5 266 M
(    private CancellationDiagramFactory\(\) {) s
5 255 M
(    }) s
5 233 M
(    public static CancellationDiagramFactory instance\(\) {) s
5 222 M
(        if \(_instance == null\) {) s
5 211 M
(            _instance = new CancellationDiagramFactory\(\);) s
5 200 M
(        }) s
5 189 M
(        return _instance;) s
5 178 M
(    }) s
5 156 M
(    public ICancellationDiagramAnalysis newCancellationDiagramAnalysis\(GroupEquation problem\) {) s
5 145 M
(        return newDiagramProbe\(problem\);) s
5 134 M
(        // return newDiagramTree\(problem\);) s
5 123 M
(    }) s
5 101 M
(    public ICancellationDiagramAnalysis newDiagramTree\(GroupEquation problem\) {) s
5 79 M
(        QuadraticSystem qs;) s
5 68 M
(        qs = QuadraticSystemFactory.instance\(\).newQuadraticSystem\(problem\);) s
5 57 M
(        GroupEquation problemQuadratic = qs.getEquation\(\);) s
5 46 M
(        HashMap equiv = qs.getEquivalences\(\);) s
5 24 M
(        ExtensionVisitor queryvis = new ExtensionVisitor\(problemQuadratic\);) s
5 13 M
(        Diagram actual = new Diagram\(\);) s
5 2 M
(        DiagramTreeNode root = new DiagramTreeNode\(actual\);) s
_R
S
%%Page: (2) 9
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/cancellation/CancellationDiagramFactory.java) def
/fdir (src/cancellation/) def
/ftail (CancellationDiagramFactory.java) def
% User defined strings:
/fmodstr (Thu Oct 13 14:11:12 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (CancellationDiagramFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        root.visitedBy\(queryvis\);) s
5 486 M
(        DiagramTreeNode.CollectionVisitor resultsvis = new DiagramTreeNode.CollectionVisitor\(\);) s
5 475 M
(        root.visitedBy\(resultsvis\);) s
5 453 M
(        LinkedList diagrams = resultsvis.getDiagramTreeNodeList\(\);) s
5 442 M
(        ) s
5 431 M
(        CancellationDiagramTree analysis = new CancellationDiagramTree\(problem, qs, diagrams\);) s
5 420 M
(        return analysis;) s
5 409 M
(    }) s
5 376 M
(    public ICancellationDiagramAnalysis newDiagramProbe\(GroupEquation problem\) {) s
5 365 M
(        QuadraticSystem qs = QuadraticSystemFactory.instance\(\).newQuadraticSystem\(problem\);) s
5 354 M
(        CancellationDiagramProbe analysis = new CancellationDiagramProbe\(problem, qs\);) s
5 343 M
(        return analysis;) s
5 332 M
(    }) s
5 321 M
(}) s
_R
S
%%Page: (1) 10
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/CancellationDiagramProbe.java) def
/fdir (src/cancellation/) def
/ftail (CancellationDiagramProbe.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:42:07 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (CancellationDiagramProbe.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(import java.util.TreeSet;) s
5 420 M
(import java.util.LinkedList;) s
5 409 M
(import java.util.HashMap;) s
5 398 M
(import java.util.Iterator;) s
5 387 M
(import letter.Letter;) s
5 376 M
(import equation.GroupEquation;) s
5 365 M
(import equation.QuadraticSystem;) s
5 354 M
(import utility.CompositeIterator;) s
5 332 M
(/**) s
5 321 M
( *) s
5 310 M
( * @author grouptheory) s
5 299 M
( */) s
5 288 M
(public class CancellationDiagramProbe) s
5 277 M
(        extends AbstractCancellationDiagramAnalysis {) s
5 266 M
(    ) s
5 255 M
(    CancellationDiagramProbe\(GroupEquation problem, QuadraticSystem qs\) {) s
5 244 M
(        super\(problem, qs\);) s
5 233 M
(    }) s
5 222 M
(    ) s
5 211 M
(    public Iterator iteratorDiagramTreeNodes\(\) {) s
5 200 M
(        Diagram d = new Diagram\(\);) s
5 189 M
(        GroupEquation problemQuadratic = getQuadraticEquation\(\);) s
5 178 M
(        ComposableDiagramIterator cdi = new ComposableDiagramIterator\(null, d, problemQuadratic, 0\);) s
5 167 M
(        CompositeIterator compiter = new CompositeIterator\(cdi, true\);) s
5 156 M
(        ) s
5 145 M
(        // return compiter;) s
5 134 M
(        return new AbstractCancellationDiagramAnalysis.FilteredIterator\(compiter\);) s
5 123 M
(    }) s
5 101 M
(    public String toString\(\) {) s
5 90 M
(        String s = "";) s
5 79 M
(        s += "CancellationDiagramProbe: ";) s
5 68 M
(        s += super.toString\(\);) s
5 57 M
(        return s;) s
5 46 M
(    }) s
5 35 M
(}) s
_R
S
%%Page: (1) 11
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/CancellationDiagramTree.java) def
/fdir (src/cancellation/) def
/ftail (CancellationDiagramTree.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:42:58 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (CancellationDiagramTree.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(import java.util.TreeSet;) s
5 420 M
(import java.util.LinkedList;) s
5 409 M
(import java.util.HashMap;) s
5 398 M
(import java.util.Iterator;) s
5 387 M
(import letter.Letter;) s
5 376 M
(import equation.GroupEquation;) s
5 365 M
(import equation.QuadraticSystem;) s
5 343 M
(/**) s
5 332 M
( *) s
5 321 M
( * @author grouptheory) s
5 310 M
( */) s
5 299 M
(public class CancellationDiagramTree ) s
5 288 M
(        extends AbstractCancellationDiagramAnalysis {) s
5 277 M
(    ) s
5 266 M
(    private LinkedList _diagrams;) s
5 255 M
(    ) s
5 244 M
(    CancellationDiagramTree\(GroupEquation problem, QuadraticSystem qs, LinkedList diagrams\) {) s
5 233 M
(        super\(problem, qs\);) s
5 211 M
(        _diagrams = new LinkedList\(\);) s
5 200 M
(        _diagrams.addAll\(diagrams\);) s
5 189 M
(    }) s
5 167 M
(    int getDiagramTreeNodesCount\(\) {) s
5 156 M
(        return _diagrams.size\(\);) s
5 145 M
(    }) s
5 123 M
(    public Iterator iteratorDiagramTreeNodes\(\) {) s
5 112 M
(        // return _diagrams.iterator\(\);) s
5 101 M
(        return new AbstractCancellationDiagramAnalysis.FilteredIterator\(_diagrams.iterator\(\)\);) s
5 90 M
(    }) s
5 68 M
(    public String toString\(\) {) s
5 57 M
(        String s = "";) s
5 46 M
(        s += "CancellationDiagramTree: ";) s
5 35 M
(        s += super.toString\(\);) s
5 24 M
(        ) s
5 13 M
(        s+="\\n"+_diagrams.size\(\)+" cancellation diagrams enumerated:\\n";) s
5 2 M
(        for \(Iterator it = _diagrams.iterator\(\);it.hasNext\(\); \) {) s
_R
S
%%Page: (2) 12
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/cancellation/CancellationDiagramTree.java) def
/fdir (src/cancellation/) def
/ftail (CancellationDiagramTree.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:42:58 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (CancellationDiagramTree.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            DiagramTreeNode dtn2 = \(DiagramTreeNode\)it.next\(\);) s
5 497 M
(            s+=dtn2.getDiagram\(\).toString\(\);) s
5 486 M
(        }) s
5 475 M
(        s += "\\n";) s
5 464 M
(        return s;) s
5 453 M
(    }) s
5 442 M
(}) s
_R
S
%%Page: (1) 13
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/ComposableDiagramIterator.java) def
/fdir (src/cancellation/) def
/ftail (ComposableDiagramIterator.java) def
% User defined strings:
/fmodstr (Thu Oct 13 16:37:36 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (ComposableDiagramIterator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(import utility.AbstractComposableIterator;) s
5 420 M
(import utility.ComposableIterator;) s
5 409 M
(import equation.GroupEquation;) s
5 398 M
(import letter.Letter;) s
5 376 M
(/**) s
5 365 M
( *) s
5 354 M
( * @author grouptheory) s
5 343 M
( */) s
5 332 M
(public class ComposableDiagramIterator) s
5 321 M
(        extends AbstractComposableIterator) s
5 310 M
(        implements ComposableIterator {) s
5 288 M
(    private Diagram _d;) s
5 277 M
(    private Letter _let;) s
5 266 M
(    private GroupEquation _subeq;) s
5 255 M
(    private ExtensionIterator _eiReading;) s
5 244 M
(    private ExtensionIterator _eiChildren;) s
5 233 M
(    private int _IAmChildNumber;) s
5 222 M
(    private int _YouAreChildNumber;) s
5 200 M
(    public ComposableDiagramIterator\(ComposableIterator parent, Diagram d, GroupEquation eq, int childNumber\) {) s
5 189 M
(        setParent\(parent\);) s
5 178 M
(        ) s
5 167 M
(        _d = d;) s
5 145 M
(        if \(eq.length\(\) > 0\) {) s
5 134 M
(            GroupEquation eq2 = new GroupEquation\(eq\);) s
5 123 M
(            _let = eq2.popLetter\(\);) s
5 112 M
(            _subeq = eq2;) s
5 90 M
(            if \(_subeq.length\(\) > 0\) {) s
5 79 M
(                _eiReading = ExtensionIteratorFactory.instance\(\).newExtensionIterator\(_d, _let\);) s
5 68 M
(                _eiChildren = ExtensionIteratorFactory.instance\(\).newExtensionIterator\(_d, _let\);) s
5 57 M
(            }) s
5 46 M
(            else {) s
5 35 M
(                _eiReading = ExtensionIteratorFactory.instance\(\).newExtensionIteratorLast\(_d, _let\);) s
5 24 M
(                _eiChildren = ExtensionIteratorFactory.instance\(\).newExtensionIteratorLast\(_d, _let\);) s
5 13 M
(            }) s
5 2 M
(        }) s
_R
S
%%Page: (2) 14
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/cancellation/ComposableDiagramIterator.java) def
/fdir (src/cancellation/) def
/ftail (ComposableDiagramIterator.java) def
% User defined strings:
/fmodstr (Thu Oct 13 16:37:36 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (ComposableDiagramIterator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        else {) s
5 497 M
(            throw new RuntimeException\("ComposableDiagramIterator.ctor: empty eqn"\);) s
5 486 M
(        }) s
5 475 M
(        _IAmChildNumber = childNumber;) s
5 464 M
(        _YouAreChildNumber = 0;) s
5 453 M
(        ) s
5 442 M
(        setState\(null\);) s
5 431 M
(    }) s
5 409 M
(    public ComposableIterator newComposableIterator\(ComposableIterator parent\) {) s
5 398 M
(        if \(_subeq.length\(\) > 0\) {) s
5 387 M
(            Extension ex = _eiChildren.next\(\);) s
5 376 M
(            Diagram dnext = ex.apply\(_d\);) s
5 365 M
(            _YouAreChildNumber++;) s
5 354 M
(            // System.out.println\("DEBUG NOT NULL\\n"\);) s
5 343 M
(            return new ComposableDiagramIterator\(parent, dnext, _subeq, _YouAreChildNumber\);) s
5 332 M
(        }) s
5 321 M
(        else {) s
5 310 M
(            // System.out.println\("DEBUG I AM RET NULL\\n"\);) s
5 299 M
(            return null;) s
5 288 M
(        }) s
5 277 M
(    }) s
5 266 M
(    ) s
5 255 M
(    public boolean hasNext\(\) {) s
5 244 M
(        return _eiReading.hasNext\(\);) s
5 233 M
(    }) s
5 211 M
(    public Object next\(\) {) s
5 200 M
(        DiagramTreeNode answer = null;) s
5 178 M
(        Extension ex = _eiReading.next\(\);) s
5 167 M
(        Diagram  dnext = ex.apply\(_d\);) s
5 145 M
(        ComposableIterator parent = this.getParent\(\);) s
5 134 M
(        if \(parent==null\) {) s
5 123 M
(            // System.out.println\("PARENT NULL"\);) s
5 112 M
(            answer = new DiagramTreeNode\(dnext\);) s
5 101 M
(        }) s
5 90 M
(        else {) s
5 79 M
(            // System.out.println\("*** not null"\);) s
5 68 M
(            answer = new DiagramTreeNode\(\(DiagramTreeNode\)parent.getState\(\), _IAmChildNumber, dnext\);) s
5 57 M
(        }) s
5 35 M
(        if \(_subeq.length\(\) == 0\) {) s
5 24 M
(            answer.setLeaf\(\);) s
5 13 M
(        }) s
_R
S
%%Page: (3) 15
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/cancellation/ComposableDiagramIterator.java) def
/fdir (src/cancellation/) def
/ftail (ComposableDiagramIterator.java) def
% User defined strings:
/fmodstr (Thu Oct 13 16:37:36 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (ComposableDiagramIterator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        return answer;) s
5 497 M
(    }) s
5 475 M
(    public void remove\(\) {) s
5 464 M
(        throw new RuntimeException\("ComposableDiagramIterator.remove: not implemented"\);) s
5 453 M
(    }) s
5 431 M
(    public String toString\(\) {) s
5 420 M
(        String s="";) s
5 409 M
(        s += "ComposableDiagramIterator BEGIN\\n";) s
5 398 M
(        if \(_let==null\) {) s
5 387 M
(            s += "    Letter: null\\n";) s
5 376 M
(        }) s
5 365 M
(        else {) s
5 354 M
(            s += "    Letter: "+_let.toString\(\) +"\\n";) s
5 343 M
(        }) s
5 332 M
(        s += "   Diagram: "+_d.toString\(\)+"";) s
5 321 M
(        s += "ComposableDiagramIterator END\\n";) s
5 310 M
(        return s;) s
5 299 M
(    }) s
5 288 M
(}) s
_R
S
%%Page: (1) 16
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/Diagram.java) def
/fdir (src/cancellation/) def
/ftail (Diagram.java) def
% User defined strings:
/fmodstr (Thu Oct 13 16:41:23 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Diagram.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 9) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(import java.util.HashMap;) s
5 420 M
(import java.util.Iterator;) s
5 409 M
(import java.util.HashSet;) s
5 398 M
(import java.util.LinkedList;) s
5 387 M
(import letter.Letter;) s
5 376 M
(import letter.Variable;) s
5 354 M
(/**) s
5 343 M
( *) s
5 332 M
( * @author grouptheory) s
5 321 M
( */) s
5 310 M
(public class Diagram {) s
5 288 M
(    private int _nextID;) s
5 277 M
(    private int _nodeCount;) s
5 266 M
(    private HashMap _nodes;) s
5 255 M
(    ) s
5 244 M
(    private int _edgeCount;) s
5 233 M
(    private HashSet _edges;) s
5 211 M
(    private Node _begin;) s
5 200 M
(    private Node _end;) s
5 178 M
(    LinkedList _labeledPaths;) s
5 167 M
(    ) s
5 156 M
(    public Diagram\(\) {) s
5 145 M
(        _nodes = new HashMap\(\);) s
5 134 M
(        _nodeCount = 0;) s
5 123 M
(        _edges = new HashSet\(\);) s
5 112 M
(        _edgeCount = 0;) s
5 90 M
(        _labeledPaths = new LinkedList\(\);) s
5 68 M
(        _nextID = 0;) s
5 57 M
(        ) s
5 46 M
(        _begin = addNode\(\);) s
5 35 M
(        _end = _begin;) s
5 24 M
(    }) s
5 2 M
(    Diagram\(Diagram d\) {) s
_R
S
%%Page: (2) 17
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/cancellation/Diagram.java) def
/fdir (src/cancellation/) def
/ftail (Diagram.java) def
% User defined strings:
/fmodstr (Thu Oct 13 16:41:23 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Diagram.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 9) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        _nodes = new HashMap\(\);) s
5 497 M
(        _nodeCount = 0;) s
5 486 M
(        _edges = new HashSet\(\);) s
5 475 M
(        _edgeCount = 0;) s
5 464 M
(        _labeledPaths = new LinkedList\(\);) s
5 442 M
(        _nextID = d._nextID;) s
5 431 M
(        ) s
5 420 M
(        for \(Iterator it = d._nodes.keySet\(\).iterator\(\); it.hasNext\(\);\) {) s
5 409 M
(            Integer id = \(Integer\)it.next\(\);) s
5 398 M
(            this.addNode\(id.intValue\(\)\);) s
5 387 M
(        }) s
5 365 M
(        for \(Iterator it = d._edges.iterator\(\); it.hasNext\(\);\) {) s
5 354 M
(            Edge e = \(Edge\)it.next\(\);) s
5 343 M
(            Node na = \(Node\)_nodes.get\(new Integer\(e.getA\(\).getID\(\)\)\);) s
5 332 M
(            Node nb = \(Node\)_nodes.get\(new Integer\(e.getB\(\).getID\(\)\)\);) s
5 321 M
(            this.addEdge\(na, nb\);) s
5 310 M
(        }) s
5 299 M
(        ) s
5 288 M
(        _begin = \(Node\)_nodes.get\(new Integer\(d._begin.getID\(\)\)\);) s
5 277 M
(        _end = \(Node\)_nodes.get\(new Integer\(d._end.getID\(\)\)\);) s
5 266 M
(        ) s
5 255 M
(        for \(Iterator it = d._labeledPaths.iterator\(\); it.hasNext\(\);\) {) s
5 244 M
(            LabeledPath lp = \(LabeledPath\)it.next\(\);) s
5 233 M
(            this.addLabeledPath\(LabeledPath.project\(lp, this\)\);) s
5 222 M
(        }) s
5 211 M
(    }) s
5 189 M
(    public Node getBegin\(\) {) s
5 178 M
(        return _begin;) s
5 167 M
(    }) s
5 145 M
(    public Node getEnd\(\) {) s
5 134 M
(        return _end;) s
5 123 M
(    }) s
5 101 M
(    public boolean isClosed\(\) {) s
5 90 M
(        return this.getBegin\(\)==this.getEnd\(\);) s
5 79 M
(    }) s
5 68 M
(    ) s
5 57 M
(    Node addNode\(\) {) s
5 46 M
(        Node nd = addNode\(_nextID\);) s
5 35 M
(        _nextID++;) s
5 24 M
(        return nd;) s
5 13 M
(    }) s
5 2 M
(    ) s
_R
S
%%Page: (3) 18
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/cancellation/Diagram.java) def
/fdir (src/cancellation/) def
/ftail (Diagram.java) def
% User defined strings:
/fmodstr (Thu Oct 13 16:41:23 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (Diagram.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 9) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    private Node addNode\(int id\) {) s
5 497 M
(        Node nd = new Node\(id\);) s
5 486 M
(        Node exists = \(Node\)_nodes.get\(id\);) s
5 475 M
(        if \(exists!=null\) {) s
5 464 M
(            throw new RuntimeException\("Diagram.addNode: duplicate node "+id\);) s
5 453 M
(        }) s
5 442 M
(        _nodes.put\(id, nd\);) s
5 431 M
(        _nodeCount++;) s
5 420 M
(        return nd;) s
5 409 M
(    }) s
5 387 M
(    Node lookupNode\(int id\) {) s
5 376 M
(        Node nd = \(Node\)_nodes.get\(id\);) s
5 365 M
(        if \(nd==null\) {) s
5 354 M
(            throw new RuntimeException\("Diagram.lookupNode: nonexistent node"\);) s
5 343 M
(        }) s
5 332 M
(        return nd;) s
5 321 M
(    }) s
5 299 M
(    int getNumberOfNodes\(\) {) s
5 288 M
(        return _nodes.size\(\);) s
5 277 M
(    }) s
5 255 M
(    public Iterator iteratorEdges\(\) {) s
5 244 M
(        return _edges.iterator\(\);) s
5 233 M
(    }) s
5 211 M
(    Iterator iteratorNodes\(\) {) s
5 200 M
(        return _nodes.values\(\).iterator\(\);) s
5 189 M
(    }) s
5 167 M
(    public Iterator iteratorLabeledPaths\(\) {) s
5 156 M
(        return _labeledPaths.iterator\(\);) s
5 145 M
(    }) s
5 123 M
(    public LabeledPath getDual\(LabeledPath lp\) {) s
5 112 M
(        validateLabeledPath\(lp\);) s
5 101 M
(        ) s
5 90 M
(        Letter let = lp.getLabel\(\);) s
5 79 M
(        if \(let.isConstant\(\)\) return null;) s
5 57 M
(        LabeledPath answer = null;) s
5 46 M
(        int found = 0;) s
5 35 M
(        for \(Iterator it = _labeledPaths.iterator\(\); it.hasNext\(\);\) {) s
5 24 M
(            LabeledPath lp2 = \(LabeledPath\)it.next\(\);) s
5 13 M
(            Letter let2 = lp2.getLabel\(\);) s
_R
S
%%Page: (4) 19
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 4 def
/fname (src/cancellation/Diagram.java) def
/fdir (src/cancellation/) def
/ftail (Diagram.java) def
% User defined strings:
/fmodstr (Thu Oct 13 16:41:23 2011) def
/pagenumstr (4) def
/user_header_p true def
/user_header_left_str (Diagram.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 4 of 9) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            if \(\(let==let2\) || \(let==let2.getInverse\(\)\)\) {) s
5 497 M
(                if \(lp2 == lp\) continue;) s
5 486 M
(                else {) s
5 475 M
(                    found++;) s
5 464 M
(                    answer = lp2;) s
5 453 M
(                }) s
5 442 M
(            }) s
5 431 M
(        }) s
5 409 M
(        if \(found > 1\) {) s
5 398 M
(            throw new RuntimeException\("Diagram.getDual: variable occurs more than 2 times"\);) s
5 387 M
(        }) s
5 376 M
(        return answer;) s
5 365 M
(    }) s
5 343 M
(    public LabeledPath[] getPaths\(Edge e\) {) s
5 332 M
(        validateEdge\(e\);) s
5 310 M
(        LabeledPath[] lpArray = new LabeledPath[2];) s
5 288 M
(        int found = 0;) s
5 277 M
(        for \(Iterator it = _labeledPaths.iterator\(\); it.hasNext\(\);\) {) s
5 266 M
(            LabeledPath lp2 = \(LabeledPath\)it.next\(\);) s
5 255 M
(            Path p2 = lp2.getPath\(\);) s
5 244 M
(            Letter let2 = lp2.getLabel\(\);) s
5 222 M
(            if \(p2.hasEdge\(e\)\) {) s
5 211 M
(                if \(found >= 2\) {) s
5 200 M
(                    throw new RuntimeException\("Diagram.getPaths: more than 2 paths on an edge!"\);) s
5 189 M
(                }) s
5 178 M
(                lpArray[found]=lp2;) s
5 167 M
(                found++;) s
5 156 M
(            }) s
5 145 M
(        }) s
5 123 M
(        if \(found != 2\) {) s
5 112 M
(            throw new RuntimeException\("Diagram.getPaths: didn't find 2 paths on an edge!"\);) s
5 101 M
(        }) s
5 79 M
(        return lpArray;) s
5 68 M
(    }) s
5 46 M
(    public LabeledPath getVariablePath\(Variable v\) {) s
5 24 M
(        // System.out.println\("Searching for "+v+"\\n"\);) s
5 2 M
(        LabeledPath answer = null;) s
_R
S
%%Page: (5) 20
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 5 def
/fname (src/cancellation/Diagram.java) def
/fdir (src/cancellation/) def
/ftail (Diagram.java) def
% User defined strings:
/fmodstr (Thu Oct 13 16:41:23 2011) def
/pagenumstr (5) def
/user_header_p true def
/user_header_left_str (Diagram.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 5 of 9) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        int found = 0;) s
5 497 M
(        for \(Iterator it = _labeledPaths.iterator\(\); it.hasNext\(\);\) {) s
5 486 M
(            LabeledPath lp2 = \(LabeledPath\)it.next\(\);) s
5 475 M
(            Letter let2 = lp2.getLabel\(\);) s
5 453 M
(            if \(\(v==let2\) || \(v==let2.getInverse\(\)\)\) {) s
5 442 M
(                found++;) s
5 431 M
(                if \(answer==null\) {) s
5 420 M
(                    answer = lp2;) s
5 398 M
(                    // System.out.println\("Found "+lp2+"\\n"\);) s
5 387 M
(                }) s
5 376 M
(            }) s
5 365 M
(        }) s
5 343 M
(        if \(found != 2\) {) s
5 332 M
(            throw new RuntimeException\("Diagram.getDual: equivalent variable occurs != 2 times"\);) s
5 321 M
(        }) s
5 310 M
(        return answer;) s
5 299 M
(    }) s
5 277 M
(    int getNumberOfEdges\(\) {) s
5 266 M
(        return _edges.size\(\);) s
5 255 M
(    }) s
5 233 M
(    Edge lookupEdge\(int id1, int id2\) {) s
5 222 M
(        Node nd1 = lookupNode\(id1\);) s
5 211 M
(        Node nd2 = lookupNode\(id2\);) s
5 200 M
(        Edge e = nd1.getEdge\(nd2\);) s
5 189 M
(        return e;) s
5 178 M
(    }) s
5 156 M
(    Edge addEdge\(Node a, Node b\) {) s
5 145 M
(        validateNode\(a\);) s
5 134 M
(        validateNode\(b\);) s
5 112 M
(        int a1=a.degree\(\);) s
5 101 M
(        int b1=b.degree\(\);) s
5 79 M
(        Edge e = a.addEdge\(b\);) s
5 68 M
(        _edges.add\(e\);) s
5 57 M
(        _edgeCount++;) s
5 35 M
(        int a2=a.degree\(\);) s
5 24 M
(        int b2=b.degree\(\);) s
5 13 M
(        if \( a2 != a1+1\) {) s
5 2 M
(            throw new RuntimeException\("Diagram.addEdge: failed on "+a\);) s
_R
S
%%Page: (6) 21
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 6 def
/fname (src/cancellation/Diagram.java) def
/fdir (src/cancellation/) def
/ftail (Diagram.java) def
% User defined strings:
/fmodstr (Thu Oct 13 16:41:23 2011) def
/pagenumstr (6) def
/user_header_p true def
/user_header_left_str (Diagram.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 6 of 9) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        }) s
5 497 M
(        if \( b2 != b1+1\) {) s
5 486 M
(            throw new RuntimeException\("Diagram.addEdge: failed on "+b\);) s
5 475 M
(        }) s
5 453 M
(        return e;) s
5 442 M
(    }) s
5 420 M
(    void delEdge\(Edge e\) {) s
5 409 M
(        validateEdge\(e\);) s
5 387 M
(        Node a = e.getA\(\);) s
5 376 M
(        Node b = e.getB\(\);) s
5 365 M
(        a.delEdge\(b\);) s
5 354 M
(        b.delEdge\(a\);) s
5 343 M
(        ) s
5 332 M
(        _edges.remove\(e\);) s
5 321 M
(        _edgeCount--;) s
5 310 M
(    }) s
5 288 M
(    boolean isCuttableEdge\(Edge e\) {) s
5 277 M
(        for \(Iterator it = _labeledPaths.iterator\(\); it.hasNext\(\);\) {) s
5 266 M
(            LabeledPath lp = \(LabeledPath\)it.next\(\);) s
5 255 M
(            if \(lp.hasEdge\(e\)\) {) s
5 244 M
(                Letter let = lp.getLabel\(\);) s
5 233 M
(                if \(let.isConstant\(\)\) return false;) s
5 222 M
(            }) s
5 211 M
(        }) s
5 200 M
(        return true;) s
5 189 M
(    }) s
5 167 M
(    Node cutEdge\(Edge e\) {) s
5 156 M
(        validateEdge\(e\);) s
5 145 M
(        ) s
5 134 M
(        Node a = e.getA\(\);) s
5 123 M
(        Node b = e.getB\(\);) s
5 101 M
(        Node c = addNode\(\);) s
5 90 M
(        Edge ac = addEdge\(a,c\);) s
5 79 M
(        Edge bc = addEdge\(b,c\);) s
5 68 M
(        ac.setOccupancy\(e.getOccupancy\(\)\);) s
5 57 M
(        bc.setOccupancy\(e.getOccupancy\(\)\);) s
5 35 M
(        for \(Iterator it = _labeledPaths.iterator\(\); it.hasNext\(\);\) {) s
5 24 M
(            LabeledPath lp = \(LabeledPath\)it.next\(\);) s
5 13 M
(            lp.cutEdge\(e, c\);) s
5 2 M
(        }) s
_R
S
%%Page: (7) 22
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 7 def
/fname (src/cancellation/Diagram.java) def
/fdir (src/cancellation/) def
/ftail (Diagram.java) def
% User defined strings:
/fmodstr (Thu Oct 13 16:41:23 2011) def
/pagenumstr (7) def
/user_header_p true def
/user_header_left_str (Diagram.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 7 of 9) def
/user_footer_p false def
%%EndPageSetup
do_header
5 497 M
(        delEdge\(e\);) s
5 475 M
(        return c;) s
5 464 M
(    }) s
5 442 M
(    void addLabeledPath\(LabeledPath lp\) {) s
5 431 M
(        lp.validate\(this\);) s
5 420 M
(        _labeledPaths.addLast\(lp\);) s
5 398 M
(        for \(Iterator it = lp.iteratorEdges\(\); it.hasNext\(\);\) {) s
5 387 M
(            Edge e = \(Edge\)it.next\(\);) s
5 376 M
(            e.incrementOccupancy\(\);) s
5 365 M
(        }) s
5 354 M
(        ) s
5 343 M
(        _end = lp.getNewEnd\(\);) s
5 332 M
(    }) s
5 321 M
(    ) s
5 310 M
(    public String toString\(\) {) s
5 299 M
(        String s = "";) s
5 288 M
(        s+=">>>>>>>>>>>>>>>>>>>>>>>>>>>>\\n";) s
5 277 M
(        s += "nodes: ";) s
5 266 M
(        for \(Iterator it = _nodes.values\(\).iterator\(\); it.hasNext\(\);\) {) s
5 255 M
(            Node nd = \(Node\)it.next\(\);) s
5 244 M
(            s += nd.toStringShort\(\)+", ";) s
5 233 M
(        }) s
5 222 M
(        s += "\\nstart: "+_begin.toStringShort\(\)+" ---> ";) s
5 211 M
(        s += "end: "+_end.toStringShort\(\)+"\\n";) s
5 200 M
(        ) s
5 189 M
(        s += "edges: ";) s
5 178 M
(        ) s
5 167 M
(        for \(Iterator it = _edges.iterator\(\); it.hasNext\(\);\) {) s
5 156 M
(            Edge e = \(Edge\)it.next\(\);) s
5 145 M
(            s += e.toString\(\)+", ";) s
5 134 M
(        }) s
5 123 M
(        s += "\\n";) s
5 112 M
(        s += "labeled paths:\\n";) s
5 90 M
(        for \(Iterator it = _labeledPaths.iterator\(\); it.hasNext\(\);\) {) s
5 79 M
(            LabeledPath lp = \(LabeledPath\)it.next\(\);) s
5 68 M
(            s += "   "+lp.toString\(\)+"\\n";) s
5 57 M
(        }) s
5 46 M
(        s+=" <<<\\n";) s
5 35 M
(        ) s
5 24 M
(        return s;) s
5 13 M
(    }) s
_R
S
%%Page: (8) 23
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 8 def
/fname (src/cancellation/Diagram.java) def
/fdir (src/cancellation/) def
/ftail (Diagram.java) def
% User defined strings:
/fmodstr (Thu Oct 13 16:41:23 2011) def
/pagenumstr (8) def
/user_header_p true def
/user_header_left_str (Diagram.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 8 of 9) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    void validateNode\(Node node\) {) s
5 497 M
(        Node exists = \(Node\)_nodes.get\(node.getID\(\)\);) s
5 486 M
(        if \(exists==null\) {) s
5 475 M
(            throw new RuntimeException\("Diagram.validateNode: nonexistent node"\);) s
5 464 M
(        }) s
5 453 M
(        if \(exists!=node\) {) s
5 442 M
(            throw new RuntimeException\("Diagram.validateNode: bad node"\);) s
5 431 M
(        }) s
5 420 M
(    }) s
5 398 M
(    void validateEdge\(Edge e\) {) s
5 387 M
(        if \( ! _edges.contains\(e\)\) {) s
5 376 M
(            throw new RuntimeException\("Diagram.validateNode: nonexistent edge"\);) s
5 365 M
(        }) s
5 354 M
(    }) s
5 332 M
(    void validateLabeledPath\(LabeledPath lp\) {) s
5 321 M
(        if \( ! _labeledPaths.contains\(lp\)\) {) s
5 310 M
(            throw new RuntimeException\("Diagram.validateLabeledPath: nonexistent path"\);) s
5 299 M
(        }) s
5 288 M
(    }) s
5 266 M
(    void validate\(\) {) s
5 255 M
(        if \(_edges.size\(\) != _edgeCount\) {) s
5 244 M
(            throw new RuntimeException\("Diagram.validate: bad _edgeCount"\);) s
5 233 M
(        }) s
5 222 M
(        if \(_nodes.size\(\) != _nodeCount\) {) s
5 211 M
(            throw new RuntimeException\("Diagram.validate: bad _nodeCount"\);) s
5 200 M
(        }) s
5 189 M
(        if \( ! _nodes.containsValue\(_begin\)\) {) s
5 178 M
(            throw new RuntimeException\("Diagram.validate: bad _begin"\);) s
5 167 M
(        }) s
5 156 M
(        if \( ! _nodes.containsValue\(_end\)\) {) s
5 145 M
(            throw new RuntimeException\("Diagram.validate: bad _end"\);) s
5 134 M
(        }) s
5 123 M
(    }) s
5 90 M
(    public interface Decorator {) s
5 79 M
(    }) s
5 68 M
(    ) s
5 57 M
(    private Decorator _decorator;) s
5 35 M
(    Decorator getDecorator\(\) {) s
5 24 M
(        return _decorator;) s
5 13 M
(    }) s
_R
S
%%Page: (9) 24
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 9 def
/fname (src/cancellation/Diagram.java) def
/fdir (src/cancellation/) def
/ftail (Diagram.java) def
% User defined strings:
/fmodstr (Thu Oct 13 16:41:23 2011) def
/pagenumstr (9) def
/user_header_p true def
/user_header_left_str (Diagram.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 9 of 9) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    void setDecorator\(Decorator dec\) {) s
5 497 M
(        _decorator = dec;) s
5 486 M
(    }) s
5 475 M
(}) s
_R
S
%%Page: (1) 25
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/DiagramDecoratorLayout.java) def
/fdir (src/cancellation/) def
/ftail (DiagramDecoratorLayout.java) def
% User defined strings:
/fmodstr (Wed Oct 12 11:59:24 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (DiagramDecoratorLayout.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(import jigglecore.*;) s
5 420 M
(import java.util.Iterator;) s
5 409 M
(import java.util.HashMap;) s
5 387 M
(/**) s
5 376 M
( *) s
5 365 M
( * @author grouptheory) s
5 354 M
( */) s
5 343 M
(public class DiagramDecoratorLayout extends Graph implements Diagram.Decorator {) s
5 321 M
(    public DiagramDecoratorLayout \(Diagram cd\) {super \(\); initialize \(cd\);}) s
5 310 M
(    public DiagramDecoratorLayout \(Diagram cd, int d\) {super \(d\); initialize \(cd\);}) s
5 288 M
(    private void initialize \(Diagram cd\) {) s
5 277 M
(        int n = cd.getNumberOfNodes\(\);) s
5 255 M
(        // System.out.println\("DEBUG DiagramDecoratorLayout n="+n\);) s
5 233 M
(        Vertex V [] = new Vertex [n];) s
5 222 M
(        for \(int i=0;i<n;i++\) {) s
5 211 M
(            V[i] = this.insertVertex\(\);) s
5 200 M
(        }) s
5 178 M
(        // System.out.println\("DEBUG DiagramDecoratorLayout e="+cd.getNumberOfEdges\(\)\);) s
5 156 M
(        for \(Iterator it = cd.iteratorEdges\(\); it.hasNext\(\);\) {) s
5 145 M
(            cancellation.Edge e =) s
5 134 M
(                    \(cancellation.Edge\)it.next\(\);) s
5 123 M
(            insertEdge \(V [e.getA\(\).getID\(\)], V [e.getB\(\).getID\(\)]\);) s
5 112 M
(        }) s
5 90 M
(        // System.out.println\("BEFORE: "+this.toString\(\)\);) s
5 79 M
(        _vertices = layout\(cd\);) s
5 68 M
(        // System.out.println\("AFTER: "+this.toString\(\)\);) s
5 57 M
(        // System.out.println\("AFTER: "+this.validate\(cd\)\);) s
5 46 M
(    }) s
5 24 M
(    private Vertex getVertex\(Node nd\) {) s
5 13 M
(        Vertex v = \(Vertex\)_vertices.get\(nd.getID\(\)\);) s
5 2 M
(        if \(v==null\) {) s
_R
S
%%Page: (2) 26
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/cancellation/DiagramDecoratorLayout.java) def
/fdir (src/cancellation/) def
/ftail (DiagramDecoratorLayout.java) def
% User defined strings:
/fmodstr (Wed Oct 12 11:59:24 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (DiagramDecoratorLayout.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            throw new RuntimeException\("DiagramLayout.getVertex: unknown Node "+nd\);) s
5 497 M
(        }) s
5 486 M
(        return v;) s
5 464 M
(    }) s
5 453 M
(    ) s
5 442 M
(    public double getX\(Node nd\) {) s
5 431 M
(        Vertex v = getVertex\(nd\);) s
5 420 M
(        return v.getCoords\(\)[0];) s
5 409 M
(    }) s
5 387 M
(    public double getY\(Node nd\) {) s
5 376 M
(        Vertex v = getVertex\(nd\);) s
5 365 M
(        return v.getCoords\(\)[1];) s
5 354 M
(    }) s
5 343 M
(    ) s
5 332 M
(    private HashMap _vertices;) s
5 321 M
(    ) s
5 310 M
(    private final static double LAYOUT_SIDE = 6.0;) s
5 299 M
(    private final static double MAX_ERROR = 0.1;) s
5 277 M
(    private HashMap layout\(Diagram cd\) {) s
5 255 M
(      _vertices = new HashMap\(\);) s
5 233 M
(      int crossings = 0;) s
5 211 M
(      do {) s
5 200 M
(          _vertices.clear\(\);) s
5 178 M
(          int d = this.getDimensions \(\);) s
5 167 M
(          int n = this.numberOfVertices;) s
5 156 M
(          ) s
5 145 M
(          double kspring = 10.0;) s
5 134 M
(          double kvv = 1.0;) s
5 123 M
(          double kve = 1.0;) s
5 101 M
(          QuadraticSpringLaw springLaw = ) s
5 90 M
(                  new QuadraticSpringLaw \(this, kspring\);) s
5 79 M
(          InverseSquareVertexVertexRepulsionLaw vvRepulsionLaw = ) s
5 68 M
(                  new InverseSquareVertexVertexRepulsionLaw \(this, kvv\);) s
5 57 M
(          InverseSquareVertexEdgeRepulsionLaw veRepulsionLaw =) s
5 46 M
(                  new InverseSquareVertexEdgeRepulsionLaw \(this, kve\);) s
5 24 M
(          ForceModel fm = new ForceModel\(this\);) s
5 13 M
(          fm.addForceLaw \(springLaw\);) s
5 2 M
(          fm.addForceLaw \(vvRepulsionLaw\);) s
_R
S
%%Page: (3) 27
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/cancellation/DiagramDecoratorLayout.java) def
/fdir (src/cancellation/) def
/ftail (DiagramDecoratorLayout.java) def
% User defined strings:
/fmodstr (Wed Oct 12 11:59:24 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (DiagramDecoratorLayout.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(          fm.addForceLaw \(veRepulsionLaw\);) s
5 486 M
(          // make optimization procedure) s
5 464 M
(          FirstOrderOptimizationProcedure opt = null;) s
5 453 M
(          double acc = 0.5;) s
5 442 M
(          double rt = 0.2;) s
5 431 M
(          opt = new ConjugateGradients \(this, fm, acc, rt\);) s
5 420 M
(          opt.setConstrained \(true\);) s
5 398 M
(          // set vertex sizes) s
5 376 M
(          for \(int i = 0; i < n; i++\) {) s
5 365 M
(              double size [] = this.vertices [i].getSize \(\);) s
5 354 M
(              size [0] = 10;) s
5 343 M
(              size [1] = 10;) s
5 332 M
(          }) s
5 310 M
(          // scramble vertices) s
5 288 M
(          double w = LAYOUT_SIDE,  h = LAYOUT_SIDE;) s
5 277 M
(          for \(int i = 0; i < n; i++\) {) s
5 266 M
(              double coords [] = this.vertices [i].getCoords \(\);) s
5 255 M
(              for \(int j = 0; j < d; j++\) coords [j] = Math.random \(\) * w;) s
5 244 M
(          }) s
5 233 M
(          double sumX = 0, sumY = 0;) s
5 222 M
(          for \(int i = 0; i < n; i++\) {) s
5 211 M
(              double coords [] = this.vertices [i].getCoords \(\);) s
5 200 M
(              sumX += coords [0]; sumY += coords [1];) s
5 189 M
(          }) s
5 178 M
(          for \(int i = 0; i < n; i++\) {) s
5 167 M
(              Vertex v = this.vertices [i];) s
5 156 M
(              double coords [] = this.vertices [i].getCoords \(\);) s
5 145 M
(              coords [0] += \(w / 2\) - \(sumX / n\);) s
5 134 M
(              coords [1] += \(h / 2\) - \(sumY / n\);) s
5 123 M
(          }) s
5 101 M
(          // Optimization here) s
5 79 M
(          int iter = 0;) s
5 68 M
(          double val = 999.0;) s
5 57 M
(          do {) s
5 46 M
(              val = opt.improveGraph\(\);) s
5 35 M
(              // System.out.println\("iter:"+iter+", err = "+val\);) s
5 24 M
(              iter++;) s
5 13 M
(          }) s
5 2 M
(          while\(val > MAX_ERROR\);) s
_R
S
%%Page: (4) 28
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 4 def
/fname (src/cancellation/DiagramDecoratorLayout.java) def
/fdir (src/cancellation/) def
/ftail (DiagramDecoratorLayout.java) def
% User defined strings:
/fmodstr (Wed Oct 12 11:59:24 2011) def
/pagenumstr (4) def
/user_header_p true def
/user_header_left_str (DiagramDecoratorLayout.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 4 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 497 M
(          // renormalize vertex coordinates) s
5 475 M
(          double minx=999, miny=999, maxx=-999, maxy=-999;) s
5 453 M
(          for \(int i = 0; i < n; i++\) {) s
5 442 M
(              double coords [] = this.vertices [i].getCoords \(\);) s
5 431 M
(              if \(coords [0]>maxx\) maxx=coords[0];) s
5 420 M
(              if \(coords [1]>maxy\) maxy=coords[1];) s
5 409 M
(              if \(coords [0]<minx\) minx=coords[0];) s
5 398 M
(              if \(coords [1]<miny\) miny=coords[1];) s
5 387 M
(          }) s
5 365 M
(          for \(int i = 0; i < n; i++\) {) s
5 354 M
(              double coords [] = this.vertices [i].getCoords \(\);) s
5 343 M
(              coords[0] = \(coords[0]-minx\) * LAYOUT_SIDE/\(maxx-minx\);) s
5 332 M
(              coords[1] = \(coords[1]-miny\) * LAYOUT_SIDE/\(maxy-miny\);) s
5 321 M
(              _vertices.put\(new Integer\(i\), this.vertices [i]\);) s
5 310 M
(          }) s
5 288 M
(          crossings = Intersector.crossingNumber\(this\);) s
5 266 M
(          /*) s
5 255 M
(          if \(crossings == 0\) {) s
5 244 M
(              System.out.println\("Diagram "+cd.toString\(\)\);) s
5 233 M
(              System.out.println\(this.validate\(cd\)\);) s
5 222 M
(              System.out.println\("Converged after "+iter+" iterations, err = "+val+", crossings = "+crossings\);) s
5 211 M
(          }) s
5 200 M
(          */) s
5 189 M
(      }) s
5 178 M
(      while \(crossings > 0\);) s
5 156 M
(      return _vertices;) s
5 145 M
(    }) s
5 123 M
(    public String toString\(\) {) s
5 112 M
(        String s = "";) s
5 101 M
(        int n = this.numberOfVertices;) s
5 90 M
(        for \(int i = 0; i < n; i++\) {) s
5 79 M
(           double coords [] = this.vertices [i].getCoords \(\);) s
5 68 M
(           s += "Vertex "+i+" @ "+coords[0]+" , "+coords[1]+"\\n";) s
5 57 M
(        }) s
5 46 M
(        return s;) s
5 35 M
(    }) s
5 2 M
(    public String validate\(Diagram d\) {) s
_R
S
%%Page: (5) 29
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 5 def
/fname (src/cancellation/DiagramDecoratorLayout.java) def
/fdir (src/cancellation/) def
/ftail (DiagramDecoratorLayout.java) def
% User defined strings:
/fmodstr (Wed Oct 12 11:59:24 2011) def
/pagenumstr (5) def
/user_header_p true def
/user_header_left_str (DiagramDecoratorLayout.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 5 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        String s = "";) s
5 497 M
(        for \(Iterator it = d.iteratorNodes\(\); it.hasNext\(\);\) {) s
5 486 M
(            Node nd = \(Node\)it.next\(\);) s
5 475 M
(            s += "Node "+nd.getID\(\)+" @ "+getX\(nd\)+" , "+this.getY\(nd\)+"\\n";) s
5 464 M
(        }) s
5 453 M
(        return s;) s
5 442 M
(    }) s
5 431 M
(}) s
_R
S
%%Page: (1) 30
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/DiagramDegeneracyTester.java) def
/fdir (src/cancellation/) def
/ftail (DiagramDegeneracyTester.java) def
% User defined strings:
/fmodstr (Sat Oct 15 05:43:39 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (DiagramDegeneracyTester.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public class DiagramDegeneracyTester {) s
5 365 M
(    public static boolean isDegenerate\(Diagram d\) {) s
5 343 M
(        if \( ! d.isClosed\(\)\) return true;) s
5 332 M
(        else) s
5 321 M
(            return false;) s
5 310 M
(    }) s
5 288 M
(}) s
_R
S
%%Page: (1) 31
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/DiagramTreeNode.java) def
/fdir (src/cancellation/) def
/ftail (DiagramTreeNode.java) def
% User defined strings:
/fmodstr (Thu Oct 13 14:55:58 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (DiagramTreeNode.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(import letter.Letter;) s
5 420 M
(import equation.GroupEquation;) s
5 409 M
(import java.util.LinkedList;) s
5 398 M
(import java.util.Iterator;) s
5 376 M
(/**) s
5 365 M
( *) s
5 354 M
( * @author grouptheory) s
5 343 M
( */) s
5 332 M
(public class DiagramTreeNode {) s
5 321 M
(    private Diagram _d;) s
5 310 M
(    private ExtensionIterator _ei;) s
5 299 M
(    private LinkedList _children;) s
5 288 M
(    private String _name;) s
5 277 M
(    private int _depth;) s
5 266 M
(    private boolean _leaf;) s
5 255 M
(    ) s
5 244 M
(    DiagramTreeNode\(Diagram d\) {) s
5 233 M
(        _d = d;) s
5 222 M
(        _children = new LinkedList\(\);) s
5 211 M
(        _name = "root";) s
5 200 M
(        _depth = 0;) s
5 189 M
(        _leaf = false;) s
5 178 M
(    }) s
5 156 M
(    DiagramTreeNode\(DiagramTreeNode parent, int childNumber, Diagram d\) {) s
5 145 M
(        _d = d;) s
5 134 M
(        _children = new LinkedList\(\);) s
5 123 M
(        _name = parent._name+"."+childNumber;) s
5 112 M
(        _depth = parent._depth+1;) s
5 101 M
(        _leaf = false;) s
5 90 M
(    }) s
5 79 M
(    ) s
5 68 M
(    public Diagram getDiagram\(\) {) s
5 57 M
(        return _d;) s
5 46 M
(    }) s
5 35 M
(    ) s
5 24 M
(    public String getName\(\) {) s
5 13 M
(        return _name;) s
5 2 M
(    }) s
_R
S
%%Page: (2) 32
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/cancellation/DiagramTreeNode.java) def
/fdir (src/cancellation/) def
/ftail (DiagramTreeNode.java) def
% User defined strings:
/fmodstr (Thu Oct 13 14:55:58 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (DiagramTreeNode.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 497 M
(    void setLeaf\(\) {) s
5 486 M
(        _leaf = true;) s
5 475 M
(    }) s
5 453 M
(    public boolean getLeaf\(\) {) s
5 442 M
(        return _leaf;) s
5 431 M
(    }) s
5 420 M
(    ) s
5 409 M
(    int getDepth\(\) {) s
5 398 M
(        return _depth;) s
5 387 M
(    }) s
5 365 M
(    void extend\(Letter let, boolean last\) {) s
5 354 M
(        if \(_ei != null\) {) s
5 343 M
(            throw new RuntimeException\("DiagramTreeNode.extend: multiple calls to extend"\);) s
5 332 M
(        }) s
5 310 M
(        if \(last\) {) s
5 299 M
(            _ei = ExtensionIteratorFactory.instance\(\).newExtensionIteratorLast\(_d, let\);) s
5 288 M
(        }) s
5 277 M
(        else {) s
5 266 M
(            _ei = ExtensionIteratorFactory.instance\(\).newExtensionIterator\(_d, let\);) s
5 255 M
(        }) s
5 244 M
(        int childNumber = 0;) s
5 222 M
(        // System.out.println\("DEBUG OUTSIDE LOOP Extension of _d="+_d\);) s
5 200 M
(        for \( ;_ei.hasNext\(\); \) {) s
5 189 M
(            Extension ex = _ei.next\(\);) s
5 167 M
(            // System.out.println\("DEBUG INSIDE LOOP Extension of _d="+_d\);) s
5 156 M
(            // System.out.println\("DEBUG Extension: "+ex\);) s
5 134 M
(            Diagram d2 = ex.apply\(_d\);) s
5 123 M
(            DiagramTreeNode dtn2 = new DiagramTreeNode\(this, childNumber, d2\);) s
5 112 M
(            if \(last\) {) s
5 101 M
(                dtn2.setLeaf\(\);) s
5 90 M
(            }) s
5 79 M
(            _children.add\(dtn2\);) s
5 68 M
(            childNumber++;) s
5 57 M
(        }) s
5 46 M
(    }) s
5 24 M
(    public String toString\(\) {) s
5 13 M
(        String s = "DiagramTreeNode BEGIN\\n";) s
5 2 M
(        s += _d.toString\(\);) s
_R
S
%%Page: (3) 33
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/cancellation/DiagramTreeNode.java) def
/fdir (src/cancellation/) def
/ftail (DiagramTreeNode.java) def
% User defined strings:
/fmodstr (Thu Oct 13 14:55:58 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (DiagramTreeNode.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        s += "DiagramTreeNode END\\n";) s
5 497 M
(        return s;) s
5 486 M
(    }) s
5 464 M
(    void visitedBy\(ExtensionVisitor ev\) {) s
5 453 M
(        ev.visit\(this\);) s
5 431 M
(        // DEBUG) s
5 420 M
(        // this.visitedBy\(new DiagramTreeNode.ConsoleVisitor\(\)\);) s
5 398 M
(        Iterator it = _children.iterator\(\);) s
5 387 M
(        for \( ;it.hasNext\(\); \) {) s
5 376 M
(            DiagramTreeNode dtn2 = \(DiagramTreeNode\)it.next\(\);) s
5 365 M
(            ExtensionVisitor ev2 = ev.makeSubVisitor\(\);) s
5 354 M
(            dtn2.visitedBy\(ev2\);) s
5 343 M
(        }) s
5 332 M
(    }) s
5 321 M
(    ) s
5 310 M
(    void visitedBy\(ConsoleVisitor pv\) {) s
5 299 M
(        pv.visit\(this\);) s
5 288 M
(        Iterator it = _children.iterator\(\);) s
5 277 M
(        for \( ;it.hasNext\(\); \) {) s
5 266 M
(            DiagramTreeNode dtn2 = \(DiagramTreeNode\)it.next\(\);) s
5 255 M
(            dtn2.visitedBy\(pv\);) s
5 244 M
(        }) s
5 233 M
(    }) s
5 211 M
(    void visitedBy\(CollectionVisitor cv\) {) s
5 200 M
(        cv.visit\(this\);) s
5 189 M
(        Iterator it = _children.iterator\(\);) s
5 178 M
(        for \( ;it.hasNext\(\); \) {) s
5 167 M
(            DiagramTreeNode dtn2 = \(DiagramTreeNode\)it.next\(\);) s
5 156 M
(            dtn2.visitedBy\(cv\);) s
5 145 M
(        }) s
5 134 M
(    }) s
5 112 M
(    static class ConsoleVisitor {) s
5 101 M
(        ConsoleVisitor\(\) { }) s
5 90 M
(        void visit\(DiagramTreeNode dtn\) {) s
5 79 M
(            System.out.println\("DiagramTreeNode: "+dtn._name+"\(depth="+dtn._depth+"\)"\);) s
5 68 M
(            System.out.println\(dtn._d\);) s
5 57 M
(        }) s
5 46 M
(    }) s
5 35 M
(    ) s
5 24 M
(    static class CollectionVisitor {) s
5 13 M
(        private LinkedList _treenodes;) s
_R
S
%%Page: (4) 34
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 4 def
/fname (src/cancellation/DiagramTreeNode.java) def
/fdir (src/cancellation/) def
/ftail (DiagramTreeNode.java) def
% User defined strings:
/fmodstr (Thu Oct 13 14:55:58 2011) def
/pagenumstr (4) def
/user_header_p true def
/user_header_left_str (DiagramTreeNode.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 4 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        CollectionVisitor\(\) {) s
5 497 M
(            _treenodes = new LinkedList\(\);) s
5 486 M
(        }) s
5 464 M
(        void visit\(DiagramTreeNode dtn\) {) s
5 453 M
(            Node begin = dtn._d.getBegin\(\);) s
5 442 M
(            Node end = dtn._d.getEnd\(\);) s
5 431 M
(            if \(\(begin==end\) && dtn.getLeaf\(\)\) {) s
5 420 M
(                _treenodes.add\(dtn\);) s
5 409 M
(            }) s
5 398 M
(        }) s
5 387 M
(        ) s
5 376 M
(        public String toString\(\) {) s
5 365 M
(            String s = "";) s
5 354 M
(            Iterator it = _treenodes.iterator\(\);) s
5 343 M
(            for \( ;it.hasNext\(\); \) {) s
5 332 M
(                DiagramTreeNode dtn2 = \(DiagramTreeNode\)it.next\(\);) s
5 321 M
(                s+=dtn2._d.toString\(\);) s
5 310 M
(            }) s
5 299 M
(            s+=""+_treenodes.size\(\)+" cancellation diagrams were enumerated.\\n";) s
5 288 M
(            return s;) s
5 277 M
(        }) s
5 255 M
(        public LinkedList getDiagramTreeNodeList\(\) {) s
5 244 M
(            return _treenodes;) s
5 233 M
(        }) s
5 222 M
(    }) s
5 211 M
(}) s
_R
S
%%Page: (1) 35
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/DiagramTreeNodeComparator.java) def
/fdir (src/cancellation/) def
/ftail (DiagramTreeNodeComparator.java) def
% User defined strings:
/fmodstr (Thu Oct 13 00:37:04 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (DiagramTreeNodeComparator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(import java.util.Comparator;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(public class DiagramTreeNodeComparator implements Comparator {) s
5 343 M
(    public int compare\(Object o1, Object o2\) {) s
5 332 M
(        DiagramTreeNode d1 = \(DiagramTreeNode\)o1;) s
5 321 M
(        DiagramTreeNode d2 = \(DiagramTreeNode\)o2;) s
5 288 M
(        if \(d1.hashCode\(\) < d2.hashCode\(\)\) {) s
5 277 M
(            return -1;) s
5 266 M
(        }) s
5 255 M
(        else if \(d1.hashCode\(\) > d2.hashCode\(\)\) {) s
5 244 M
(            return +1;) s
5 233 M
(        }) s
5 222 M
(        else {) s
5 211 M
(            return 0;) s
5 200 M
(        }) s
5 189 M
(    }) s
5 167 M
(    public boolean equals\(Object obj\) {) s
5 156 M
(        return obj==this;) s
5 145 M
(    }) s
5 134 M
(}) s
_R
S
%%Page: (1) 36
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/Edge.java) def
/fdir (src/cancellation/) def
/ftail (Edge.java) def
% User defined strings:
/fmodstr (Wed Oct 12 01:21:17 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Edge.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public class Edge {) s
5 376 M
(    private Node _a, _b;) s
5 365 M
(    private int _occupancy;) s
5 354 M
(    private Edge _reverse;) s
5 343 M
(    ) s
5 332 M
(    Edge\(Node a, Node b\) {) s
5 321 M
(        if \(a==b\) {) s
5 310 M
(            throw new RuntimeException\("Edge.ctor: loop edge"\);) s
5 299 M
(        }) s
5 288 M
(        _a = a;) s
5 277 M
(        _b = b;) s
5 266 M
(        _occupancy = 0;) s
5 255 M
(        _reverse = null;) s
5 244 M
(    }) s
5 222 M
(    void setReverse\(Edge rev\) {) s
5 211 M
(        _reverse = rev;) s
5 200 M
(    }) s
5 178 M
(    Node getA\(\) {) s
5 167 M
(        return _a;) s
5 156 M
(    }) s
5 134 M
(    Node getB\(\) {) s
5 123 M
(        return _b;) s
5 112 M
(    }) s
5 90 M
(    int getOccupancy\(\) {) s
5 79 M
(        return _occupancy;) s
5 68 M
(    }) s
5 46 M
(    void setOccupancy\(int occupancy\) {) s
5 35 M
(        _occupancy = occupancy;) s
5 24 M
(    }) s
5 2 M
(    void incrementOccupancy\(\) {) s
_R
S
%%Page: (2) 37
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/cancellation/Edge.java) def
/fdir (src/cancellation/) def
/ftail (Edge.java) def
% User defined strings:
/fmodstr (Wed Oct 12 01:21:17 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Edge.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        _occupancy++;) s
5 497 M
(    }) s
5 475 M
(    Node getOpposite\(Node x\) {) s
5 464 M
(        if \(_a == x\) return _b;) s
5 453 M
(        else if\(_b == x\) return _a;) s
5 442 M
(        else {) s
5 431 M
(            throw new RuntimeException\("Edge.getOpposite: bad edge"\);) s
5 420 M
(        }) s
5 409 M
(    }) s
5 398 M
(    ) s
5 387 M
(    public String toString\(\) {) s
5 376 M
(        String s = "";) s
5 365 M
(        s += "\(" + _a.toStringShort\(\) + "," + _b.toStringShort\(\) + "\)";) s
5 354 M
(        if \(getOccupancy\(\)==2\) s+="*";) s
5 343 M
(        return s;) s
5 332 M
(    }) s
5 321 M
(}) s
_R
S
%%Page: (1) 38
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/Extension.java) def
/fdir (src/cancellation/) def
/ftail (Extension.java) def
% User defined strings:
/fmodstr (Tue Oct 11 19:44:22 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Extension.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(import letter.Letter;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(public abstract class Extension {) s
5 354 M
(    protected Letter _label;) s
5 332 M
(    protected Extension\(Letter label\) {) s
5 321 M
(        _label = label;) s
5 310 M
(    }) s
5 299 M
(    ) s
5 288 M
(    abstract Diagram apply\(Diagram d\);) s
5 277 M
(}) s
_R
S
%%Page: (1) 39
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/ExtensionIterator.java) def
/fdir (src/cancellation/) def
/ftail (ExtensionIterator.java) def
% User defined strings:
/fmodstr (Thu Oct 13 13:08:19 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (ExtensionIterator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(import java.util.LinkedList;) s
5 420 M
(import java.util.Iterator;) s
5 409 M
(import java.util.ListIterator;) s
5 387 M
(/**) s
5 376 M
( *) s
5 365 M
( * @author grouptheory) s
5 354 M
( */) s
5 343 M
(public class ExtensionIterator {) s
5 321 M
(    private LinkedList _extensions;) s
5 310 M
(    private Iterator _it;) s
5 288 M
(    ExtensionIterator\(LinkedList exts\) {) s
5 277 M
(        _extensions = new LinkedList\(\);) s
5 266 M
(        _extensions.addAll\(exts\);) s
5 255 M
(        _it = _extensions.iterator\(\);) s
5 244 M
(    }) s
5 222 M
(    boolean hasNext\(\) {) s
5 211 M
(        return _it.hasNext\(\);) s
5 200 M
(    }) s
5 178 M
(    Extension next\(\) {) s
5 167 M
(        return \(Extension\)_it.next\(\);) s
5 156 M
(    }) s
5 134 M
(    public String toString\(\) {) s
5 123 M
(        String s = "";) s
5 112 M
(        for \(Iterator it = _extensions.iterator\(\); it.hasNext\(\);\) {) s
5 101 M
(            s += \(\(Extension\)it.next\(\)\).toString\(\)+"\\n";) s
5 90 M
(        }) s
5 79 M
(        return s;) s
5 68 M
(    }) s
5 57 M
(}) s
_R
S
%%Page: (1) 40
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/ExtensionIteratorFactory.java) def
/fdir (src/cancellation/) def
/ftail (ExtensionIteratorFactory.java) def
% User defined strings:
/fmodstr (Thu Oct 13 14:27:20 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (ExtensionIteratorFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(import letter.Letter;) s
5 420 M
(import java.util.LinkedList;) s
5 409 M
(import java.util.Iterator;) s
5 387 M
(/**) s
5 376 M
( *) s
5 365 M
( * @author grouptheory) s
5 354 M
( */) s
5 343 M
(public class ExtensionIteratorFactory {) s
5 321 M
(    private static ExtensionIteratorFactory _instance;) s
5 299 M
(    private ExtensionIteratorFactory\(\) {) s
5 288 M
(    }) s
5 266 M
(    public static ExtensionIteratorFactory instance\(\) {) s
5 255 M
(        if \(_instance == null\) {) s
5 244 M
(            _instance = new ExtensionIteratorFactory\(\);) s
5 233 M
(        }) s
5 222 M
(        return _instance;) s
5 211 M
(    }) s
5 189 M
(    ExtensionIterator newExtensionIteratorLast\(Diagram d, Letter let\) {) s
5 178 M
(        LinkedList exts = new LinkedList\(\);) s
5 156 M
(        Node dst = d.getEnd\(\);) s
5 145 M
(        BFS bfs = new BFS\(d,dst\);) s
5 134 M
(        Node src = d.getBegin\(\);) s
5 112 M
(        Path p1 = bfs.getPathFrom\(src\);) s
5 90 M
(        if \(let.isConstant\(\)\) {) s
5 79 M
(            // constants) s
5 68 M
(            if \(p1.length\(\)==1\) {) s
5 57 M
(                Extension ex1=new ExtensionToVertexExact\(let, src\);) s
5 46 M
(                exts.add\(ex1\);) s
5 35 M
(            }) s
5 24 M
(        }) s
5 13 M
(        else {) s
5 2 M
(            // variables) s
_R
S
%%Page: (2) 41
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/cancellation/ExtensionIteratorFactory.java) def
/fdir (src/cancellation/) def
/ftail (ExtensionIteratorFactory.java) def
% User defined strings:
/fmodstr (Thu Oct 13 14:27:20 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (ExtensionIteratorFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            if \(p1.length\(\) > 0\) {) s
5 497 M
(                Extension ex1=new ExtensionToVertexExact\(let, src\);) s
5 486 M
(                exts.add\(ex1\);) s
5 475 M
(            }) s
5 464 M
(        }) s
5 442 M
(        return new ExtensionIterator\(exts\);) s
5 431 M
(    }) s
5 409 M
(    ExtensionIterator newExtensionIterator\(Diagram d, Letter let\) {) s
5 398 M
(        LinkedList exts = new LinkedList\(\);) s
5 376 M
(        Node dst = d.getEnd\(\);) s
5 365 M
(        BFS bfs = new BFS\(d,dst\);) s
5 343 M
(        Iterator srcNodeIt = bfs.reachableNodesIterator\(\);) s
5 332 M
(        for \( ;srcNodeIt.hasNext\(\); \) {) s
5 321 M
(            Node src = \(Node\)srcNodeIt.next\(\);) s
5 310 M
(            Path p1 = bfs.getPathFrom\(src\);) s
5 288 M
(            if \(let.isConstant\(\)\) {) s
5 277 M
(                // constants) s
5 266 M
(                if \(p1.length\(\)==1\) {) s
5 255 M
(                    Extension ex1=new ExtensionToVertexExact\(let, src\);) s
5 244 M
(                    exts.add\(ex1\);) s
5 233 M
(                }) s
5 211 M
(                if \(p1.length\(\)==0\) {) s
5 200 M
(                    Extension ex1=new ExtensionToVertexSpur\(let, src\);) s
5 189 M
(                    exts.add\(ex1\);) s
5 178 M
(                }) s
5 167 M
(            }) s
5 156 M
(            else {) s
5 145 M
(                // variables) s
5 134 M
(                if \(p1.length\(\) > 0\) {) s
5 123 M
(                    Extension ex1=new ExtensionToVertexExact\(let, src\);) s
5 112 M
(                    exts.add\(ex1\);) s
5 101 M
(                }) s
5 79 M
(                Extension ex2=new ExtensionToVertexSpur\(let, src\);) s
5 68 M
(                exts.add\(ex2\);) s
5 57 M
(            }) s
5 46 M
(        }) s
5 13 M
(        Iterator srcEdgeIt = bfs.reachableEdgesIterator\(\);) s
5 2 M
(        for \( ;srcEdgeIt.hasNext\(\); \) {) s
_R
S
%%Page: (3) 42
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/cancellation/ExtensionIteratorFactory.java) def
/fdir (src/cancellation/) def
/ftail (ExtensionIteratorFactory.java) def
% User defined strings:
/fmodstr (Thu Oct 13 14:27:20 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (ExtensionIteratorFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            Edge src = \(Edge\)srcEdgeIt.next\(\);) s
5 486 M
(            if \( ! d.isCuttableEdge\(src\)\) {) s
5 475 M
(                continue;) s
5 464 M
(            }) s
5 442 M
(            Path p1 = bfs.getPathFrom\(src\);) s
5 420 M
(            if \(let.isConstant\(\)\) {) s
5 409 M
(                // constants) s
5 398 M
(                if \(p1.length\(\)==1\) {) s
5 387 M
(                    Extension ex1=new ExtensionToEdgeExact\(let, src\);) s
5 376 M
(                    exts.add\(ex1\);) s
5 365 M
(                }) s
5 354 M
(            }) s
5 343 M
(            else {) s
5 332 M
(                // variables) s
5 321 M
(                Extension ex1=new ExtensionToEdgeExact\(let, src\);) s
5 310 M
(                exts.add\(ex1\);) s
5 288 M
(                Extension ex2=new ExtensionToEdgeSpur\(let, src\);) s
5 277 M
(                exts.add\(ex2\);) s
5 266 M
(            }) s
5 255 M
(        }) s
5 233 M
(        return new ExtensionIterator\(exts\);) s
5 222 M
(    }) s
5 211 M
(}) s
_R
S
%%Page: (1) 43
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/ExtensionToEdgeExact.java) def
/fdir (src/cancellation/) def
/ftail (ExtensionToEdgeExact.java) def
% User defined strings:
/fmodstr (Tue Oct 11 23:13:31 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (ExtensionToEdgeExact.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(import letter.Letter;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(public class ExtensionToEdgeExact extends Extension {) s
5 354 M
(    private static String NAME = "ExtensionToEdgeExact";) s
5 343 M
(    private Edge _srcEdge;) s
5 321 M
(    ExtensionToEdgeExact\(Letter label, Edge src\) {) s
5 310 M
(        super\(label\);) s
5 299 M
(        _srcEdge = src;) s
5 288 M
(    }) s
5 266 M
(    Diagram apply\(Diagram d\) {) s
5 255 M
(        Diagram d2 = new Diagram\(d\);) s
5 244 M
(        Node end = d2.getEnd\(\);) s
5 233 M
(        Edge src = d2.lookupEdge\(_srcEdge.getA\(\).getID\(\), _srcEdge.getB\(\).getID\(\)\);) s
5 222 M
(        Node cutNode = d2.cutEdge\(src\);) s
5 200 M
(        BFS bfs = new BFS\(d2, end\);) s
5 189 M
(        Path p = bfs.getPathFrom\(cutNode\);) s
5 178 M
(        LabeledPath lp = new LabeledPath\(_label, p\);) s
5 167 M
(        d2.addLabeledPath\(lp\);) s
5 156 M
(        return d2;) s
5 145 M
(    }) s
5 123 M
(    public String toString\(\) {) s
5 112 M
(         return ""+NAME+"->"+_srcEdge+"";) s
5 101 M
(    }) s
5 90 M
(}) s
_R
S
%%Page: (1) 44
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/ExtensionToEdgeSpur.java) def
/fdir (src/cancellation/) def
/ftail (ExtensionToEdgeSpur.java) def
% User defined strings:
/fmodstr (Tue Oct 11 23:13:41 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (ExtensionToEdgeSpur.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(import letter.Letter;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(public class ExtensionToEdgeSpur extends Extension {) s
5 354 M
(    private static String NAME = "ExtensionToEdgeSpur";) s
5 343 M
(    private Edge _srcEdge;) s
5 321 M
(    ExtensionToEdgeSpur\(Letter label, Edge src\) {) s
5 310 M
(        super\(label\);) s
5 299 M
(        _srcEdge = src;) s
5 288 M
(    }) s
5 266 M
(    Diagram apply\(Diagram d\) {) s
5 255 M
(        Diagram d2 = new Diagram\(d\);) s
5 244 M
(        Node end = d2.getEnd\(\);) s
5 233 M
(        Edge src = d2.lookupEdge\(_srcEdge.getA\(\).getID\(\), _srcEdge.getB\(\).getID\(\)\);) s
5 222 M
(        Node cutNode = d2.cutEdge\(src\);) s
5 211 M
(        Node spurNode = d2.addNode\(\);) s
5 200 M
(        d2.addEdge\(cutNode, spurNode\);) s
5 178 M
(        BFS bfs = new BFS\(d2, end\);) s
5 167 M
(        Path p = bfs.getPathFrom\(spurNode\);) s
5 156 M
(        LabeledPath lp = new LabeledPath\(_label, p\);) s
5 145 M
(        d2.addLabeledPath\(lp\);) s
5 134 M
(        return d2;) s
5 123 M
(    }) s
5 101 M
(    public String toString\(\) {) s
5 90 M
(         return ""+NAME+"->"+_srcEdge+"";) s
5 79 M
(    }) s
5 68 M
(}) s
_R
S
%%Page: (1) 45
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/ExtensionToVertexExact.java) def
/fdir (src/cancellation/) def
/ftail (ExtensionToVertexExact.java) def
% User defined strings:
/fmodstr (Tue Oct 11 23:12:05 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (ExtensionToVertexExact.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(import letter.Letter;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(public class ExtensionToVertexExact extends Extension {) s
5 354 M
(    private static String NAME = "ExtensionToVertexExact";) s
5 343 M
(    private Node _srcNode;) s
5 321 M
(    ExtensionToVertexExact\(Letter label, Node src\) {) s
5 310 M
(        super\(label\);) s
5 299 M
(        _srcNode = src;) s
5 288 M
(    }) s
5 266 M
(    Diagram apply\(Diagram d\) {) s
5 255 M
(        Diagram d2 = new Diagram\(d\);) s
5 244 M
(        Node end = d2.getEnd\(\);) s
5 233 M
(        Node src = d2.lookupNode\(_srcNode.getID\(\)\);) s
5 222 M
(        ) s
5 211 M
(        BFS bfs = new BFS\(d2, end\);) s
5 200 M
(        Path p = bfs.getPathFrom\(src\);) s
5 189 M
(        LabeledPath lp = new LabeledPath\(_label, p\);) s
5 178 M
(        d2.addLabeledPath\(lp\);) s
5 167 M
(        return d2;) s
5 156 M
(    }) s
5 134 M
(    public String toString\(\) {) s
5 123 M
(         return ""+NAME+"->"+_srcNode.toStringShort\(\)+"";) s
5 112 M
(    }) s
5 101 M
(}) s
_R
S
%%Page: (1) 46
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/ExtensionToVertexSpur.java) def
/fdir (src/cancellation/) def
/ftail (ExtensionToVertexSpur.java) def
% User defined strings:
/fmodstr (Tue Oct 11 23:17:51 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (ExtensionToVertexSpur.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(import letter.Letter;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(public class ExtensionToVertexSpur extends Extension {) s
5 354 M
(    private static String NAME = "ExtensionToVertexSpur";) s
5 343 M
(    private Node _srcNode;) s
5 321 M
(    ExtensionToVertexSpur\(Letter label, Node src\) {) s
5 310 M
(        super\(label\);) s
5 299 M
(        _srcNode = src;) s
5 288 M
(    }) s
5 266 M
(    Diagram apply\(Diagram d\) {) s
5 255 M
(        Diagram d2 = new Diagram\(d\);) s
5 244 M
(        Node end = d2.getEnd\(\);) s
5 233 M
(        Node spurNode = d2.addNode\(\);) s
5 222 M
(        Node src = d2.lookupNode\(_srcNode.getID\(\)\);) s
5 211 M
(        d2.addEdge\(src, spurNode\);) s
5 189 M
(        // System.out.println\("DEBUG ExtensionToVertexSpur "+d2\);) s
5 178 M
(        ) s
5 167 M
(        BFS bfs = new BFS\(d2, end\);) s
5 156 M
(        Path p = bfs.getPathFrom\(spurNode\);) s
5 145 M
(        LabeledPath lp = new LabeledPath\(_label, p\);) s
5 134 M
(        d2.addLabeledPath\(lp\);) s
5 123 M
(        return d2;) s
5 112 M
(    }) s
5 90 M
(    public String toString\(\) {) s
5 79 M
(         return ""+NAME+"->"+_srcNode.toStringShort\(\)+"";) s
5 68 M
(    }) s
5 57 M
(}) s
_R
S
%%Page: (1) 47
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/ExtensionVisitor.java) def
/fdir (src/cancellation/) def
/ftail (ExtensionVisitor.java) def
% User defined strings:
/fmodstr (Thu Oct 13 14:32:45 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (ExtensionVisitor.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 420 M
(import letter.Letter;) s
5 409 M
(import equation.GroupEquation;) s
5 398 M
(import java.util.LinkedList;) s
5 387 M
(import java.util.Iterator;) s
5 365 M
(/**) s
5 354 M
( *) s
5 343 M
( * @author grouptheory) s
5 332 M
( */) s
5 310 M
(class ExtensionVisitor {) s
5 299 M
(    private int _maxdepth;) s
5 288 M
(    private GroupEquation _eq;) s
5 266 M
(    ExtensionVisitor\(GroupEquation eq\) {) s
5 255 M
(        _eq = eq;) s
5 244 M
(        _maxdepth = eq.length\(\)+1;) s
5 233 M
(    }) s
5 211 M
(    ExtensionVisitor\(GroupEquation eq, int maxdepth\) {) s
5 200 M
(        _eq = eq;) s
5 189 M
(        _maxdepth = maxdepth;) s
5 178 M
(    }) s
5 156 M
(    ExtensionVisitor makeSubVisitor\(\) {) s
5 145 M
(        GroupEquation eq2 = new GroupEquation\(_eq\);) s
5 134 M
(        eq2.popLetter\(\);) s
5 123 M
(        ExtensionVisitor ev2 = new ExtensionVisitor\(eq2, _maxdepth\);) s
5 112 M
(        return ev2;) s
5 101 M
(    }) s
5 79 M
(    void visit\(DiagramTreeNode dtn\) {) s
5 68 M
(        if \(dtn.getDepth\(\) < _maxdepth\) {) s
5 57 M
(            if \(_eq.length\(\)>0\) {) s
5 46 M
(                GroupEquation eq2 = new GroupEquation\(_eq\);) s
5 35 M
(                Letter let = eq2.popLetter\(\);) s
5 24 M
(                ) s
5 13 M
(                boolean last = false;) s
5 2 M
(                if \(_eq.length\(\) == 1\) last = true;) s
_R
S
%%Page: (2) 48
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/cancellation/ExtensionVisitor.java) def
/fdir (src/cancellation/) def
/ftail (ExtensionVisitor.java) def
% User defined strings:
/fmodstr (Thu Oct 13 14:32:45 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (ExtensionVisitor.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                dtn.extend\(let, last\);) s
5 497 M
(            }) s
5 486 M
(            else {) s
5 475 M
(                dtn.setLeaf\(\);) s
5 464 M
(            }) s
5 453 M
(        }) s
5 442 M
(    }) s
5 431 M
(}) s
_R
S
%%Page: (1) 49
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/ICancellationDiagramAnalysis.java) def
/fdir (src/cancellation/) def
/ftail (ICancellationDiagramAnalysis.java) def
% User defined strings:
/fmodstr (Thu Oct 13 13:25:17 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (ICancellationDiagramAnalysis.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(import java.util.TreeSet;) s
5 420 M
(import java.util.LinkedList;) s
5 409 M
(import java.util.HashMap;) s
5 398 M
(import java.util.Iterator;) s
5 387 M
(import letter.Letter;) s
5 376 M
(import equation.GroupEquation;) s
5 365 M
(import equation.QuadraticSystem;) s
5 354 M
(/**) s
5 343 M
( *) s
5 332 M
( * @author grouptheory) s
5 321 M
( */) s
5 310 M
(public interface ICancellationDiagramAnalysis {) s
5 288 M
(    public void addDecorator\(ICancellationDiagramAnalysisDecorator dec\);) s
5 277 M
(    public Iterator iteratorDecorators\(\);) s
5 266 M
(    ) s
5 255 M
(    public Iterator iteratorDiagramTreeNodes\(\);) s
5 244 M
(    ) s
5 233 M
(    public GroupEquation getProblem\(\);) s
5 222 M
(    public QuadraticSystem getQuadraticSystem\(\);) s
5 211 M
(    public GroupEquation getQuadraticEquation\(\) ;) s
5 200 M
(    public HashMap getEquivalences\(\);) s
5 189 M
(    public String toString\(\);) s
5 178 M
(}) s
_R
S
%%Page: (1) 50
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/ICancellationDiagramAnalysisDecorator.java) def
/fdir (src/cancellation/) def
/ftail (ICancellationDiagramAnalysisDecorator.java) def
% User defined strings:
/fmodstr (Thu Oct 13 13:46:26 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (ICancellationDiagramAnalysisDecorator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public interface ICancellationDiagramAnalysisDecorator {) s
5 376 M
(    ) s
5 365 M
(    public String texify\(ICancellationDiagramAnalysis analysis, DiagramTreeNode dtn\);) s
5 354 M
(}) s
_R
S
%%Page: (1) 51
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/LabeledPath.java) def
/fdir (src/cancellation/) def
/ftail (LabeledPath.java) def
% User defined strings:
/fmodstr (Thu Oct 13 01:13:07 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (LabeledPath.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(import letter.Letter;) s
5 420 M
(import java.util.Iterator;) s
5 398 M
(/**) s
5 387 M
( *) s
5 376 M
( * @author grouptheory) s
5 365 M
( */) s
5 354 M
(public class LabeledPath {) s
5 343 M
(    private Path _path;) s
5 332 M
(    private Letter _label;) s
5 310 M
(    LabeledPath\(Letter label, Path path\) {) s
5 299 M
(        _label = label;) s
5 288 M
(        _path = path;) s
5 277 M
(    }) s
5 255 M
(    static LabeledPath project\(LabeledPath lp, Diagram d2\) {) s
5 244 M
(        LabeledPath lp2 = new LabeledPath\(lp._label, lp._path, d2\);) s
5 233 M
(        return lp2;) s
5 222 M
(    }) s
5 200 M
(    private LabeledPath\(Letter label, Path path, Diagram d2\) {) s
5 189 M
(        _label = label;) s
5 178 M
(        _path = Path.project\(path, d2\);) s
5 167 M
(    }) s
5 145 M
(    public int length\(\) {) s
5 134 M
(        return _path.length\(\);) s
5 123 M
(    }) s
5 101 M
(    void cutEdge\(Edge e, Node insert\) {) s
5 90 M
(        if \(this.hasEdge\(e\)\) {) s
5 79 M
(            _path.cutEdge\(e, insert\);) s
5 68 M
(        }) s
5 57 M
(    }) s
5 35 M
(    boolean hasEdge\(Edge e\) {) s
5 24 M
(        return _path.hasEdge\(e\);) s
5 13 M
(    }) s
_R
S
%%Page: (2) 52
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/cancellation/LabeledPath.java) def
/fdir (src/cancellation/) def
/ftail (LabeledPath.java) def
% User defined strings:
/fmodstr (Thu Oct 13 01:13:07 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (LabeledPath.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    public int getEdgeIndex\(Edge e\) {) s
5 497 M
(        return _path.getEdgeIndex\(e\);) s
5 486 M
(    }) s
5 464 M
(    Node getNewEnd\(\) {) s
5 453 M
(        return _path.getSrcNode\(\);) s
5 442 M
(    }) s
5 420 M
(    public Path getPath\(\) {) s
5 409 M
(        return _path;) s
5 398 M
(    }) s
5 376 M
(    public Letter getLabel\(\) {) s
5 365 M
(        return _label;) s
5 354 M
(    }) s
5 343 M
(    ) s
5 332 M
(    Iterator iteratorEdges\(\) {) s
5 321 M
(        return _path.iteratorEdges\(\);) s
5 310 M
(    }) s
5 288 M
(    public String toString\(\) {) s
5 277 M
(        String s = "{ "+_label+" :: "+_path+" }";) s
5 266 M
(        return s;) s
5 255 M
(    }) s
5 233 M
(    void validate\(Diagram d\) {) s
5 222 M
(        _path.validate\(d\);) s
5 211 M
(    }) s
5 200 M
(}) s
_R
S
%%Page: (1) 53
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/Latex.java) def
/fdir (src/cancellation/) def
/ftail (Latex.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:52:23 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Latex.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 7) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(import java.util.Formatter;) s
5 420 M
(import java.util.LinkedList;) s
5 409 M
(import java.util.Iterator;) s
5 398 M
(import java.util.HashMap;) s
5 387 M
(import letter.Letter;) s
5 365 M
(/**) s
5 354 M
( *) s
5 343 M
( * @author grouptheory) s
5 332 M
( */) s
5 321 M
(public class Latex {) s
5 299 M
(    private static Latex _instance;) s
5 277 M
(    private Latex\(\) {) s
5 266 M
(    }) s
5 244 M
(    public static Latex instance\(\) {) s
5 233 M
(        if \(_instance == null\) {) s
5 222 M
(            _instance = new Latex\(\);) s
5 211 M
(        }) s
5 200 M
(        return _instance;) s
5 189 M
(    }) s
5 167 M
(    private static final double OFFSET_PATHS = 0.25;) s
5 145 M
(    static final int SYMBOL_LEN = 4;) s
5 134 M
(    static final String FORMAT_STR = "%.2f";) s
5 123 M
(    static Formatter _formatter = new Formatter\(\);) s
5 101 M
(    public String renderDiagram\(Diagram d\) {) s
5 79 M
(        DiagramDecoratorLayout layout;) s
5 68 M
(        layout = \(DiagramDecoratorLayout\)d.getDecorator\(\);) s
5 57 M
(        if \(layout == null\) {) s
5 46 M
(            layout = new DiagramDecoratorLayout\(d\);) s
5 35 M
(            d.setDecorator\(layout\);) s
5 24 M
(        }) s
5 13 M
(        ) s
5 2 M
(        String str = "";) s
_R
S
%%Page: (2) 54
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/cancellation/Latex.java) def
/fdir (src/cancellation/) def
/ftail (Latex.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:52:23 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Latex.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 7) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        str+="\\\\begin{center}\\n";) s
5 497 M
(        str+="\\\\begin{pspicture}\(-0.5,-0.5\)\(6.5,6.5\)\\n";) s
5 486 M
(        str+="{\\\\psset{fillstyle=ccslope,slopebegin=yellow!40,slopeend=gray}\\n";) s
5 464 M
(        for \(Iterator it = d.iteratorNodes\(\); it.hasNext\(\);\) {) s
5 453 M
(            Node nd = \(Node\)it.next\(\);) s
5 442 M
(            double x = layout.getX\(nd\);) s
5 431 M
(            double y = layout.getY\(nd\);) s
5 420 M
(            _formatter = new Formatter\(\);) s
5 409 M
(            String xstr = ""+_formatter.format\(FORMAT_STR, x\);) s
5 398 M
(            _formatter = new Formatter\(\);) s
5 387 M
(            String ystr = ""+_formatter.format\(FORMAT_STR, y\);) s
5 365 M
(            int id = nd.getID\(\);) s
5 354 M
(            str+="\\\\cnodeput\("+xstr+","+ystr+"\){"+id+"}{\\\\strut\\\\boldmath$"+id+"$}\\n";) s
5 343 M
(        }) s
5 321 M
(        str+="}\\n";) s
5 310 M
(        str+="\\\\newcommand\\\\arc[3]{%\\n";) s
5 299 M
(        str+="  \\\\ncline{#1}{#2}{#3}\\n";) s
5 288 M
(        str+="}\\n";) s
5 266 M
(        for \(Iterator it=d.iteratorEdges\(\); it.hasNext\(\);\) {) s
5 255 M
(            Edge e = \(Edge\)it.next\(\);) s
5 244 M
(            str += "\\\\arc{-}{"+e.getA\(\).getID\(\)+"}{"+e.getB\(\).getID\(\)+"}{}\\n";) s
5 233 M
(        }) s
5 211 M
(        HashMap canonical2covered = new HashMap\(\);) s
5 189 M
(        for \(Iterator it=d.iteratorLabeledPaths\(\);it.hasNext\(\);\) {) s
5 167 M
(            LabeledPath lp = \(LabeledPath\)it.next\(\);) s
5 156 M
(            ) s
5 145 M
(            Letter let = lp.getLabel\(\);) s
5 134 M
(            Path p = lp.getPath\(\);) s
5 112 M
(            boolean line = \(p.length\(\)==1\);) s
5 101 M
(            String arrowhead = "{|->>}";) s
5 90 M
(            if \(!let.isPositive\(\)\) {) s
5 79 M
(                arrowhead = "{<<-|}";) s
5 68 M
(            }) s
5 46 M
(            String colorStr="";) s
5 35 M
(            if \(let.isConstant\(\)\) {) s
5 24 M
(                if \(let.modulus\(3\)==0\) {) s
5 13 M
(                    colorStr="yellow";) s
5 2 M
(                }) s
_R
S
%%Page: (3) 55
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/cancellation/Latex.java) def
/fdir (src/cancellation/) def
/ftail (Latex.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:52:23 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (Latex.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 7) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                else if \(let.modulus\(3\)==1\) {) s
5 497 M
(                    colorStr="blue";) s
5 486 M
(                }) s
5 475 M
(                else if \(let.modulus\(3\)==2\) {) s
5 464 M
(                    colorStr="green";) s
5 453 M
(                }) s
5 442 M
(            }) s
5 431 M
(            else {) s
5 420 M
(                colorStr="red";) s
5 409 M
(            }) s
5 387 M
(            if \(!line\) str+="\\\\pscurve";) s
5 376 M
(            else str+="\\\\psline";) s
5 354 M
(            str+="[linecolor="+colorStr+"]"+arrowhead;) s
5 332 M
(            LinkedList curves = new LinkedList\(\);) s
5 310 M
(            int midpoint = \(p.length\(\)+1\)/2;) s
5 299 M
(            int segnum = 1;) s
5 288 M
(            boolean virgin=true;) s
5 277 M
(            String labelStr = "";) s
5 266 M
(            boolean prevcovered=false;) s
5 244 M
(            Node s = p.getSrcNode\(\);) s
5 233 M
(            ) s
5 222 M
(            for \(Iterator it2=p.iteratorEdges\(\); it2.hasNext\(\);\){) s
5 211 M
(                Edge e=\(Edge\)it2.next\(\);) s
5 189 M
(                Node t = e.getOpposite\(s\);) s
5 178 M
(                ) s
5 167 M
(                double xs = layout.getX\(s\);) s
5 156 M
(                double ys = layout.getY\(s\);) s
5 145 M
(                double xt = layout.getX\(t\);) s
5 134 M
(                double yt = layout.getY\(t\);) s
5 123 M
(                double angle = Math.atan2\(yt-ys, xt-xs\);) s
5 101 M
(                boolean covered = \(canonical2covered.get\(e\)!=null\);) s
5 90 M
(                angle+=\(Math.PI/2.0\);) s
5 79 M
(                if \(\(covered!=prevcovered\) && \(!virgin\)\) {) s
5 68 M
(                    curves.removeLast\(\);) s
5 57 M
(                }) s
5 46 M
(                prevcovered=covered;) s
5 24 M
(                double dy = OFFSET_PATHS*Math.sin\(angle\);) s
5 13 M
(                double dx = OFFSET_PATHS*Math.cos\(angle\);) s
5 2 M
(                xs += dx;) s
_R
S
%%Page: (4) 56
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 4 def
/fname (src/cancellation/Latex.java) def
/fdir (src/cancellation/) def
/ftail (Latex.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:52:23 2011) def
/pagenumstr (4) def
/user_header_p true def
/user_header_left_str (Latex.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 4 of 7) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                ys += dy;) s
5 497 M
(                xt += dx;) s
5 486 M
(                yt += dy;) s
5 464 M
(                _formatter = new Formatter\(\);) s
5 453 M
(                String xsstr = ""+_formatter.format\(FORMAT_STR, xs\);) s
5 442 M
(                _formatter = new Formatter\(\);) s
5 431 M
(                String ysstr = ""+_formatter.format\(FORMAT_STR, ys\);) s
5 420 M
(                _formatter = new Formatter\(\);) s
5 409 M
(                String xtstr = ""+_formatter.format\(FORMAT_STR, xt\);) s
5 398 M
(                _formatter = new Formatter\(\);) s
5 387 M
(                String ytstr = ""+_formatter.format\(FORMAT_STR, yt\);) s
5 376 M
(                if \(virgin\) {) s
5 365 M
(                    curves.addLast\("\("+xsstr+","+ysstr+"\)"\);) s
5 354 M
(                    virgin = false;) s
5 343 M
(                }) s
5 332 M
(                double xm = \(xs+xt\)/2.0;) s
5 321 M
(                double ym = \(ys+yt\)/2.0;) s
5 310 M
(                _formatter = new Formatter\(\);) s
5 299 M
(                String xmstr = ""+_formatter.format\(FORMAT_STR, xm\);) s
5 288 M
(                _formatter = new Formatter\(\);) s
5 277 M
(                String ymstr = ""+_formatter.format\(FORMAT_STR, ym\);) s
5 266 M
(                if \(segnum==midpoint\) {) s
5 255 M
(                    String letStr = letter.Latex.instance\(\).render\(let\);) s
5 244 M
(                    if \(!let.isPositive\(\)\) {) s
5 233 M
(                        letStr = letter.Latex.instance\(\).render\(let.getInverse\(\)\);) s
5 222 M
(                    }) s
5 200 M
(                    angle-=\(Math.PI/2.0\);) s
5 189 M
(                    if \(angle>Math.PI/2.0\) angle-=Math.PI;) s
5 178 M
(                    if \(angle<-Math.PI/2.0\) angle+=Math.PI;) s
5 167 M
(                    double deg = \(angle*180.0/Math.PI\);) s
5 156 M
(                    while \(deg < 0\) deg+=360.0;) s
5 145 M
(                    _formatter = new Formatter\(\);) s
5 134 M
(                    String degstr = ""+_formatter.format\("%d", \(int\)deg\);) s
5 123 M
(                    labelStr="\\\\rput{"+) s
5 112 M
(                            degstr) s
5 101 M
(                            +"}\("+xmstr+","+ymstr+"\){$"+letStr+"$}";) s
5 90 M
(                }) s
5 79 M
(                curves.addLast\("\("+xmstr+","+ymstr+"\)"\);) s
5 68 M
(                curves.addLast\("\("+xtstr+","+ytstr+"\)"\);) s
5 57 M
(                canonical2covered.put\(e, Boolean.TRUE\);) s
5 46 M
(                segnum++;) s
5 24 M
(                s = t;) s
5 13 M
(            }) s
_R
S
%%Page: (5) 57
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 5 def
/fname (src/cancellation/Latex.java) def
/fdir (src/cancellation/) def
/ftail (Latex.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:52:23 2011) def
/pagenumstr (5) def
/user_header_p true def
/user_header_left_str (Latex.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 5 of 7) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            for\(Iterator it3=curves.iterator\(\);it3.hasNext\(\);\) {) s
5 497 M
(                String str2 = \(String\)it3.next\(\);) s
5 486 M
(                str+=str2;) s
5 475 M
(            }) s
5 464 M
(            str += labelStr+"\\n";) s
5 453 M
(        }) s
5 431 M
(        str+="\\\\end{pspicture}\\n";) s
5 420 M
(        str+="\\\\end{center}\\n";) s
5 387 M
(        str+="\\\\begin{center}\\n";) s
5 376 M
(        str+="\\\\begin{tabular}{|ll|}\\n";) s
5 365 M
(        str+="\\\\hline\\n";) s
5 354 M
(        for \(Iterator it=d.iteratorLabeledPaths\(\);it.hasNext\(\);\) {) s
5 343 M
(            LabeledPath lp = \(LabeledPath\)it.next\(\);) s
5 332 M
(            Letter let = lp.getLabel\(\);) s
5 321 M
(            Path p = lp.getPath\(\);) s
5 299 M
(            str+="$"+letter.Latex.instance\(\).render\(let\)+"$";) s
5 288 M
(            str+=" & ";) s
5 255 M
(            Node s = p.getSrcNode\(\);) s
5 244 M
(            Node t = null;) s
5 233 M
(            str += "$";) s
5 222 M
(            for \(Iterator it2=p.iteratorEdges\(\); it2.hasNext\(\);\){) s
5 211 M
(                Edge e=\(Edge\)it2.next\(\);) s
5 189 M
(                t = e.getOpposite\(s\);) s
5 178 M
(                ) s
5 167 M
(                str += ""+s.getID\(\)+"\\\\leftarrow ";) s
5 145 M
(                s = t;) s
5 134 M
(            }) s
5 123 M
(            str += ""+t.getID\(\)+"";) s
5 112 M
(            str += "$";) s
5 90 M
(            str+="\\\\\\\\\\n";) s
5 79 M
(        }) s
5 68 M
(        str+="\\\\hline\\n";) s
5 57 M
(        str+="\\\\end{tabular}\\n";) s
5 46 M
(        str+="\\\\end{center}\\n";) s
5 35 M
(        return str;) s
5 24 M
(    }) s
_R
S
%%Page: (6) 58
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 6 def
/fname (src/cancellation/Latex.java) def
/fdir (src/cancellation/) def
/ftail (Latex.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:52:23 2011) def
/pagenumstr (6) def
/user_header_p true def
/user_header_left_str (Latex.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 6 of 7) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    public String renderCancellationDiagramAnalysis\(ICancellationDiagramAnalysis analysis\) {) s
5 497 M
(        String s = "";) s
5 486 M
(        s += "We report on the cancellation diagrams of ";) s
5 475 M
(        s += "$";) s
5 464 M
(        s += equation.Latex.instance\(\).renderGroupEquation\(analysis.getProblem\(\)\);) s
5 453 M
(        s += "$";) s
5 431 M
(        s += ",\\n";) s
5 420 M
(        s += "which can be re-expressed as a quadratic system ";) s
5 409 M
(        s += "$";) s
5 398 M
(        s += equation.Latex.instance\(\).renderQuadraticSystem\(analysis.getQuadraticSystem\(\)\);) s
5 387 M
(        s += "$";) s
5 376 M
(        s += ".\\n";) s
5 365 M
(        s += "Below, we list the possible cancellation diagrams and then represent each as a generalized equation \(GE\).\\n\\) s
5 354 M
(n";) s
5 343 M
(        for \(Iterator it = analysis.iteratorDiagramTreeNodes\(\); it.hasNext\(\);\) {) s
5 332 M
(            DiagramTreeNode dtn = \(DiagramTreeNode\)it.next\(\);) s
5 310 M
(            /*) s
5 299 M
(            if \(DiagramDegeneracyTester.isDegenerate\(dtn.getDiagram\(\)\)\) {) s
5 288 M
(                continue;) s
5 277 M
(            }) s
5 255 M
(            if \(!dtn.getLeaf\(\)\) {) s
5 244 M
(                // this can happen if |w| is odd and) s
5 233 M
(                // we return back to 1 with at the) s
5 222 M
(                // penultimate symbol.) s
5 211 M
(                continue;) s
5 200 M
(            }) s
5 189 M
(            */) s
5 167 M
(            s += "\\\\newpage ";) s
5 156 M
(            s += "\\n\\n{\\\\bf Cancellation diagram ";) s
5 145 M
(            s+=dtn.getName\(\);) s
5 134 M
(            s += ":}\\n";) s
5 112 M
(            // System.out.println\(dtn.getName\(\)\);) s
5 90 M
(            if \(params.MKParams.FLAG_REPORT_CANCELLATION_PICTURES\) {) s
5 79 M
(                s+=this.renderDiagram\(dtn.getDiagram\(\)\);) s
5 68 M
(            }) s
5 57 M
(            ) s
5 46 M
(            for \(Iterator itdec=analysis.iteratorDecorators\(\); itdec.hasNext\(\);\) {) s
5 35 M
(                ICancellationDiagramAnalysisDecorator dec =) s
5 24 M
(                        \(ICancellationDiagramAnalysisDecorator\)itdec.next\(\);) s
5 13 M
(                s += dec.texify\(analysis, dtn\);) s
5 2 M
(            }) s
_R
S
%%Page: (7) 59
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 7 def
/fname (src/cancellation/Latex.java) def
/fdir (src/cancellation/) def
/ftail (Latex.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:52:23 2011) def
/pagenumstr (7) def
/user_header_p true def
/user_header_left_str (Latex.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 7 of 7) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        }) s
5 497 M
(        return s;) s
5 486 M
(    }) s
5 475 M
(}) s
_R
S
%%Page: (1) 60
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/Main.java) def
/fdir (src/cancellation/) def
/ftail (Main.java) def
% User defined strings:
/fmodstr (Thu Oct 13 13:45:25 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Main.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(import java.util.Iterator;) s
5 420 M
(import letter.LetterFactory;) s
5 409 M
(import letter.Letter;) s
5 398 M
(import equation.GroupEquation;) s
5 376 M
(/**) s
5 365 M
( *) s
5 354 M
( * @author grouptheory) s
5 343 M
( */) s
5 332 M
(public class Main {) s
5 310 M
(    /**) s
5 299 M
(     * @param args the command line arguments) s
5 288 M
(     */) s
5 277 M
(    public static void main\(String[] args\) {) s
5 266 M
(        // TODO code application logic here) s
5 244 M
(        /*) s
5 233 M
(        Diagram d = new Diagram\(\);) s
5 211 M
(        Node n0 = d.getBegin\(\);) s
5 200 M
(        Node n1 = d.addNode\(\);) s
5 189 M
(        Node n2 = d.addNode\(\);) s
5 178 M
(        Node n3 = d.addNode\(\);) s
5 167 M
(        Node n4 = d.addNode\(\);) s
5 156 M
(        Node n5 = d.addNode\(\);) s
5 145 M
(        Edge e1 = d.addEdge\(n0, n1\);) s
5 134 M
(        Edge e2 = d.addEdge\(n1, n2\);) s
5 123 M
(        Edge e3 = d.addEdge\(n2, n3\);) s
5 112 M
(        Edge e4 = d.addEdge\(n3, n4\);) s
5 101 M
(        Edge e5 = d.addEdge\(n4, n5\);) s
5 90 M
(        Edge e6 = d.addEdge\(n5, n0\);) s
5 79 M
(        ) s
5 68 M
(        System.out.println\("\\nTEST diagram construction:\\n"\);) s
5 57 M
(        System.out.println\("d: "+d\);) s
5 35 M
(        Node dst = n0;) s
5 24 M
(        BFS b1 = new BFS\(d,dst\);) s
5 2 M
(        System.out.println\("\\nTEST node path routing:\\n"\);) s
_R
S
%%Page: (2) 61
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/cancellation/Main.java) def
/fdir (src/cancellation/) def
/ftail (Main.java) def
% User defined strings:
/fmodstr (Thu Oct 13 13:45:25 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Main.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        Iterator srcNodeIt = b1.reachableNodesIterator\(\);) s
5 497 M
(        for \( ;srcNodeIt.hasNext\(\); \) {) s
5 486 M
(            Node src = \(Node\)srcNodeIt.next\(\);) s
5 475 M
(            Path p1 = b1.getPathFrom\(src\);) s
5 464 M
(            System.out.println\("from: "+src+" to: "+dst+" === path: "+p1\);) s
5 453 M
(        }) s
5 431 M
(        System.out.println\("\\nTEST edge path routing:\\n"\);) s
5 420 M
(        Iterator srcEdgeIt = b1.reachableEdgesIterator\(\);) s
5 409 M
(        for \( ;srcEdgeIt.hasNext\(\); \) {) s
5 398 M
(            Edge e = \(Edge\)srcEdgeIt.next\(\);) s
5 387 M
(            Path p1 = b1.getPathFrom\(e\);) s
5 376 M
(            System.out.println\("from: "+e+" to: "+dst+" === path: "+p1\);) s
5 365 M
(        }) s
5 354 M
(        ) s
5 343 M
(        System.out.println\("\\nTEST extensions by variable:\\n"\);) s
5 332 M
(        Letter varlet = LetterFactory.instance\(\).getVariable\(1, Boolean.TRUE\);) s
5 321 M
(        ExtensionIterator eit1 = ExtensionIteratorFactory.instance\(\).newExtensionIterator\(d, varlet\);) s
5 310 M
(        System.out.println\(eit1.toString\(\)\);) s
5 288 M
(        System.out.println\("\\nTEST extensions by constant:\\n"\);) s
5 277 M
(        Letter constlet = LetterFactory.instance\(\).getConstant\(1, Boolean.TRUE\);) s
5 266 M
(        ExtensionIterator eit2 = ExtensionIteratorFactory.instance\(\).newExtensionIterator\(d, constlet\);) s
5 255 M
(        System.out.println\(eit2.toString\(\)\);) s
5 233 M
(        System.out.println\("\\nTEST node path routing from "+n2+" pre Diagram edge cut\\n"\);) s
5 222 M
(        Path px = b1.getPathFrom\(n2\);) s
5 211 M
(        System.out.println\("pre cut:\\n"+px\);) s
5 189 M
(        Edge ex = d.lookupEdge\(n1.getID\(\), n2.getID\(\)\);) s
5 178 M
(        System.out.println\("\\nTEST cutting Diagram edge "+ex+"\\n"\);) s
5 167 M
(        System.out.println\("pre cut:\\n"+d\);) s
5 156 M
(        Node newNode = d.cutEdge\(ex\);) s
5 145 M
(        System.out.println\("post cut:\\n"+d\);) s
5 123 M
(        System.out.println\("\\nTEST cloning cut Diagram:\\n"\);) s
5 112 M
(        System.out.println\("d: "+d\);) s
5 101 M
(        Diagram dcopy = new Diagram\(d\);) s
5 90 M
(        System.out.println\("dcopy: "+dcopy\);) s
5 68 M
(        System.out.println\("\\nTEST node path routing from "+n2+" post Diagram edge cut "+ex+"\\n"\);) s
5 57 M
(        BFS b2 = new BFS\(d,n0\);) s
5 46 M
(        px = b2.getPathFrom\(n2\);) s
5 35 M
(        System.out.println\("post cut:\\n"+px\);) s
5 13 M
(        System.out.println\("\\nTEST cloning post path routing:\\n"\);) s
5 2 M
(        System.out.println\("d: "+d\);) s
_R
S
%%Page: (3) 62
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/cancellation/Main.java) def
/fdir (src/cancellation/) def
/ftail (Main.java) def
% User defined strings:
/fmodstr (Thu Oct 13 13:45:25 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (Main.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        Diagram d2 = new Diagram\(d\);) s
5 497 M
(        System.out.println\("d2: "+d2\);) s
5 475 M
(        System.out.println\("\\nTEST path projection\\n"\);) s
5 464 M
(        System.out.println\("path in d:\\n"+px\);) s
5 453 M
(        Path px2 = Path.project\(px, d2\);) s
5 442 M
(        System.out.println\("path in d2:\\n"+px2\);) s
5 420 M
(        System.out.println\("\\nTEST adding labeled path\\n"\);) s
5 409 M
(        System.out.println\("pre add:\\n"\);) s
5 398 M
(        System.out.println\("d2: "+d2\);) s
5 387 M
(        d2.addLabeledPath\(new LabeledPath\(varlet, px2\)\);) s
5 376 M
(        System.out.println\("\\npost addition: "+px+"\\n"\);) s
5 365 M
(        System.out.println\("d2: "+d2\);) s
5 354 M
(        ) s
5 343 M
(        System.out.println\("\\nTEST cloning with labelled paths:\\n"\);) s
5 332 M
(        Diagram d3 = new Diagram\(d2\);) s
5 321 M
(        System.out.println\("d3: "+d3\);) s
5 299 M
(        Diagram tree = new Diagram\(\);) s
5 277 M
(        Node v0 = tree.getBegin\(\);) s
5 266 M
(        Node v1 = tree.addNode\(\);) s
5 255 M
(        Node v2 = tree.addNode\(\);) s
5 244 M
(        Node v3 = tree.addNode\(\);) s
5 233 M
(        Edge f1 = tree.addEdge\(v0, v1\);) s
5 222 M
(        Edge f2 = tree.addEdge\(v1, v2\);) s
5 211 M
(        Edge f3 = tree.addEdge\(v2, v3\);) s
5 189 M
(        System.out.println\("\\nTEST DiagramTreeNode:\\n"\);) s
5 178 M
(        DiagramTreeNode dtn = new DiagramTreeNode\(tree\);) s
5 167 M
(        dtn.visitedBy\(new DiagramTreeNode.ConsoleVisitor\(\)\);) s
5 156 M
(        ) s
5 145 M
(        System.out.println\("\\nTEST DiagramTreeNode var extension\\n"\);) s
5 134 M
(        dtn.extend\(varlet\);) s
5 123 M
(        dtn.visitedBy\(new DiagramTreeNode.ConsoleVisitor\(\)\);) s
5 112 M
(        System.out.println\("\\nThere should be 3+4+3+3=13 \(i.e. 0-12\)\\n"\);) s
5 79 M
(        System.out.println\("\\nTEST DiagramTreeNode off same diagram:\\n"\);) s
5 68 M
(        DiagramTreeNode dtn2 = new DiagramTreeNode\(tree\);) s
5 57 M
(        System.out.println\("\\nOriginal:\\n"\);) s
5 46 M
(        dtn.visitedBy\(new DiagramTreeNode.ConsoleVisitor\(\)\);) s
5 35 M
(        System.out.println\("\\nNew:\\n"\);) s
5 24 M
(        dtn2.visitedBy\(new DiagramTreeNode.ConsoleVisitor\(\)\);) s
5 2 M
(        System.out.println\("\\nTEST DiagramTreeNode const extension\\n"\);) s
_R
S
%%Page: (4) 63
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 4 def
/fname (src/cancellation/Main.java) def
/fdir (src/cancellation/) def
/ftail (Main.java) def
% User defined strings:
/fmodstr (Thu Oct 13 13:45:25 2011) def
/pagenumstr (4) def
/user_header_p true def
/user_header_left_str (Main.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 4 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        dtn2.extend\(constlet\);) s
5 497 M
(        dtn2.visitedBy\(new DiagramTreeNode.ConsoleVisitor\(\)\);) s
5 486 M
(        System.out.println\("\\nThere should be 1+1+1 \(i.e. 0-2\)\\n"\);) s
5 453 M
(        ) s
5 431 M
(        GroupEquation eqn = new GroupEquation\("z1+.c1+.z2+."\);) s
5 420 M
(        DiagramTreeNode.ExtensionVisitor vis = new DiagramTreeNode.ExtensionVisitor\(eqn, 3\);) s
5 409 M
(        ) s
5 398 M
(        System.out.println\("\\nTEST Another DiagramTreeNode off same diagram:\\n"\);) s
5 387 M
(        DiagramTreeNode dtn3 = new DiagramTreeNode\(tree\);) s
5 376 M
(        System.out.println\("\\nTree before:\\n"\);) s
5 365 M
(        dtn3.visitedBy\(new DiagramTreeNode.ConsoleVisitor\(\)\);) s
5 343 M
(        dtn3.visitedBy\(vis\);) s
5 321 M
(        System.out.println\("\\nTree after:\\n"\);) s
5 310 M
(        dtn3.visitedBy\(new DiagramTreeNode.ConsoleVisitor\(\)\);) s
5 288 M
(        //*************************************************) s
5 277 M
(        //*************************************************) s
5 255 M
(        System.out.println\("\\nTEST Real-world EQUATION:\\n"\);) s
5 233 M
(        GroupEquation problem = new GroupEquation\("z1+.c1+.z2+."\);) s
5 222 M
(        System.out.println\("equation: "+problem+" = 1\\n"\);) s
5 200 M
(        DiagramTreeNode.ExtensionVisitor queryvis = new DiagramTreeNode.ExtensionVisitor\(problem\);) s
5 189 M
(        Diagram actual = new Diagram\(\);) s
5 178 M
(        DiagramTreeNode root = new DiagramTreeNode\(actual\);) s
5 156 M
(        root.visitedBy\(queryvis\);) s
5 134 M
(        DiagramTreeNode.CollectionVisitor resultsvis = new DiagramTreeNode.CollectionVisitor\(\);) s
5 123 M
(        root.visitedBy\(resultsvis\);) s
5 112 M
(        ) s
5 101 M
(        System.out.println\("\\nTEST Real-world test RESULTS\\n"\);) s
5 90 M
(        System.out.println\(""+resultsvis.toString\(\)\);) s
5 68 M
(*/) s
5 57 M
(        ) s
5 46 M
(        //*************************************************) s
5 35 M
(        //*************************************************) s
5 13 M
(        System.out.println\("\\nTEST Real-world EQUATION TEST:\\n"\);) s
_R
S
%%Page: (5) 64
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 5 def
/fname (src/cancellation/Main.java) def
/fdir (src/cancellation/) def
/ftail (Main.java) def
% User defined strings:
/fmodstr (Thu Oct 13 13:45:25 2011) def
/pagenumstr (5) def
/user_header_p true def
/user_header_left_str (Main.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 5 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        GroupEquation prob = new GroupEquation\("z1+.c1+.z1+.c2+.z1+."\);) s
5 497 M
(        System.out.println\("Original Equation: "+prob+" = 1\\n"\);) s
5 475 M
(        ICancellationDiagramAnalysis analysis =) s
5 464 M
(                CancellationDiagramFactory.instance\(\).newDiagramTree\(prob\);) s
5 453 M
(        ) s
5 442 M
(        System.out.println\("Analysis: \\n\\n"\);) s
5 431 M
(        System.out.println\(analysis.toString\(\)\);) s
5 409 M
(        System.out.println\(Latex.instance\(\).renderCancellationDiagramAnalysis\(analysis\)\);) s
5 398 M
(    }) s
5 387 M
(}) s
_R
S
%%Page: (1) 65
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/Main2.java) def
/fdir (src/cancellation/) def
/ftail (Main2.java) def
% User defined strings:
/fmodstr (Thu Oct 13 16:25:34 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Main2.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(import java.util.Iterator;) s
5 420 M
(import letter.LetterFactory;) s
5 409 M
(import letter.Letter;) s
5 398 M
(import equation.GroupEquation;) s
5 387 M
(import equation.QuadraticSystem;) s
5 376 M
(import equation.QuadraticSystemFactory;) s
5 365 M
(import utility.CompositeIterator;) s
5 343 M
(/**) s
5 332 M
( *) s
5 321 M
( * @author grouptheory) s
5 310 M
( */) s
5 299 M
(public class Main2 {) s
5 277 M
(    /**) s
5 266 M
(     * @param args the command line arguments) s
5 255 M
(     */) s
5 244 M
(    public static void main\(String[] args\) {) s
5 233 M
(        ) s
5 222 M
(        System.out.println\("\\nTEST COMPOSABLE ITERATORS:\\n"\);) s
5 200 M
(        GroupEquation problem = new GroupEquation\("z1+.c1+.z2+.c2+.z1-.c3+.z2-."\);) s
5 189 M
(        //GroupEquation problem = new GroupEquation\("z1+.z3+.z1+.z1+.z3+.z1+."\);) s
5 178 M
(        ) s
5 167 M
(        System.out.println\("Original Equation: "+problem+" = 1\\n"\);) s
5 145 M
(        QuadraticSystem qs = QuadraticSystemFactory.instance\(\).newQuadraticSystem\(problem\);) s
5 123 M
(        GroupEquation problemQuadratic = qs.getEquation\(\);) s
5 112 M
(        Diagram d = new Diagram\(\);) s
5 90 M
(        ComposableDiagramIterator cdi = new ComposableDiagramIterator\(null, d, problemQuadratic, 0\);) s
5 79 M
(        CompositeIterator compiter = new CompositeIterator\(cdi, false\);) s
5 57 M
(        System.out.println\("*********** NEW Analysis: \\n\\n"\);) s
5 35 M
(        int good, bad;) s
5 24 M
(        good=bad=0;) s
5 13 M
(        while \(compiter.hasNext\(\)\) {) s
5 2 M
(            CompositeIterator.State state = \(CompositeIterator.State\)compiter.next\(\);) s
_R
S
%%Page: (2) 66
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/cancellation/Main2.java) def
/fdir (src/cancellation/) def
/ftail (Main2.java) def
% User defined strings:
/fmodstr (Thu Oct 13 16:25:34 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Main2.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            DiagramTreeNode dtn = \(DiagramTreeNode\)state.getLeafIteratorState\(\);) s
5 497 M
(            Diagram diag = dtn.getDiagram\(\);) s
5 475 M
(            if \(diag.getBegin\(\) == diag.getEnd\(\) && dtn.getLeaf\(\)\) {) s
5 464 M
(                good++;) s
5 453 M
(                System.out.println\("NEW diagram = "+diag\);) s
5 442 M
(            }) s
5 431 M
(            else {) s
5 420 M
(                bad++;) s
5 409 M
(            }) s
5 398 M
(        }) s
5 387 M
(        System.out.println\("Using ComposableIterators, we found "+good+"/"+bad+" good/bad Diagrams."\);) s
5 365 M
(        ICancellationDiagramAnalysis analysis =) s
5 354 M
(                CancellationDiagramFactory.instance\(\).newDiagramTree\(problem\);) s
5 332 M
(        System.out.println\("*********** OLD Analysis: \\n\\n"\);) s
5 321 M
(        System.out.println\(analysis.toString\(\)\);) s
5 310 M
(        ) s
5 299 M
(        int oldWay = \(\(CancellationDiagramTree\)analysis\).getDiagramTreeNodesCount\(\);) s
5 277 M
(        System.out.println\("Using ComposableIterators, we found "+good+"/"+bad+" good/bad Diagrams."\);) s
5 266 M
(        System.out.println\("Using full tree expansion, we found "+oldWay+" Diagrams."\);) s
5 244 M
(        //System.out.println\("FINAL compiter="+compiter.toString\(\)\);) s
5 233 M
(    }) s
5 222 M
(}) s
_R
S
%%Page: (1) 67
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/Node.java) def
/fdir (src/cancellation/) def
/ftail (Node.java) def
% User defined strings:
/fmodstr (Tue Oct 11 20:34:31 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Node.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(import java.util.HashMap;) s
5 420 M
(import java.util.HashSet;) s
5 409 M
(import java.util.Iterator;) s
5 387 M
(/**) s
5 376 M
( *) s
5 365 M
( * @author grouptheory) s
5 354 M
( */) s
5 343 M
(public class Node {) s
5 332 M
(    private int _id;) s
5 321 M
(    private HashMap _edges;) s
5 299 M
(    Node\(int id\) {) s
5 288 M
(        _id = id;) s
5 277 M
(        _edges = new HashMap\(\);) s
5 266 M
(    }) s
5 244 M
(    int getID\(\) {) s
5 233 M
(        return _id;) s
5 222 M
(    }) s
5 200 M
(    int degree\(\) {) s
5 189 M
(        return _edges.size\(\);) s
5 178 M
(    }) s
5 156 M
(    private void addEdge\(Edge e\) {) s
5 145 M
(        Node peer = e.getOpposite\(this\);) s
5 134 M
(        Edge eprior = \(Edge\)_edges.get\(peer\);) s
5 123 M
(        if \(eprior == null\) {) s
5 112 M
(            _edges.put\(peer, e\);) s
5 101 M
(        }) s
5 90 M
(        else {) s
5 79 M
(            throw new RuntimeException\("Node.addEdge: parallel duplicate edge"\);) s
5 68 M
(        }) s
5 57 M
(    }) s
5 35 M
(    Edge addEdge\(Node peer\) {) s
5 24 M
(        Edge e = \(Edge\)_edges.get\(peer\);) s
5 13 M
(        if \(e == null\) {) s
5 2 M
(            e = new Edge\(this, peer\);) s
_R
S
%%Page: (2) 68
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/cancellation/Node.java) def
/fdir (src/cancellation/) def
/ftail (Node.java) def
% User defined strings:
/fmodstr (Tue Oct 11 20:34:31 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Node.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            _edges.put\(peer, e\);) s
5 497 M
(            peer.addEdge\(e\);) s
5 486 M
(        }) s
5 475 M
(        return e;) s
5 464 M
(    }) s
5 442 M
(    Edge getEdge\(Node peer\) {) s
5 431 M
(        Edge e = \(Edge\)_edges.get\(peer\);) s
5 420 M
(        if \(e == null\) {) s
5 409 M
(            throw new RuntimeException\("Node.getEdge: edge not found"\);) s
5 398 M
(        }) s
5 387 M
(        return e;) s
5 376 M
(    }) s
5 354 M
(    private void delEdge\(Edge e\) {) s
5 343 M
(        Node peer = e.getOpposite\(this\);) s
5 332 M
(        Edge eprior = \(Edge\)_edges.get\(peer\);) s
5 321 M
(        if \(eprior != null\) {) s
5 310 M
(            _edges.remove\(peer\);) s
5 299 M
(        }) s
5 288 M
(        else {) s
5 277 M
(            throw new RuntimeException\("Node.delEdge: nonexistent edge"\);) s
5 266 M
(        }) s
5 255 M
(    }) s
5 233 M
(    Edge delEdge\(Node peer\) {) s
5 222 M
(        Edge e = \(Edge\)_edges.get\(peer\);) s
5 211 M
(        if \(e != null\) {) s
5 200 M
(            _edges.remove\(peer\);) s
5 189 M
(            peer.delEdge\(e\);) s
5 178 M
(        }) s
5 167 M
(        return e;) s
5 156 M
(    }) s
5 134 M
(    Iterator edgeIterator\(\) {) s
5 123 M
(        return _edges.values\(\).iterator\(\);) s
5 112 M
(    }) s
5 101 M
(    ) s
5 90 M
(    public String toString\(\) {) s
5 79 M
(        String s = "";) s
5 68 M
(        s += _id;) s
5 57 M
(        s += "\("+_edges.size\(\)+"\)";) s
5 46 M
(        return s;) s
5 35 M
(    }) s
5 24 M
(    ) s
5 13 M
(    String toStringShort\(\) {) s
5 2 M
(        String s = "";) s
_R
S
%%Page: (3) 69
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/cancellation/Node.java) def
/fdir (src/cancellation/) def
/ftail (Node.java) def
% User defined strings:
/fmodstr (Tue Oct 11 20:34:31 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (Node.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        s += _id;) s
5 497 M
(        return s;) s
5 486 M
(    }) s
5 475 M
(}) s
_R
S
%%Page: (1) 70
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/cancellation/Path.java) def
/fdir (src/cancellation/) def
/ftail (Path.java) def
% User defined strings:
/fmodstr (Thu Oct 13 00:49:59 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Path.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package cancellation;) s
5 431 M
(import java.util.LinkedList;) s
5 420 M
(import java.util.Iterator;) s
5 398 M
(/**) s
5 387 M
( *) s
5 376 M
( * @author grouptheory) s
5 365 M
( */) s
5 354 M
(public class Path {) s
5 343 M
(    private LinkedList _nodeList;) s
5 332 M
(    private LinkedList _edgeList;) s
5 321 M
(    private Node _srcNode;) s
5 310 M
(    private Edge _srcEdge;) s
5 299 M
(    private Diagram _d;) s
5 277 M
(    Path\(Node src, Diagram d\) {) s
5 266 M
(        _d = d;) s
5 255 M
(        _srcNode = src;) s
5 244 M
(        _srcEdge = null;) s
5 233 M
(        _edgeList = new LinkedList\(\);) s
5 222 M
(        _nodeList = new LinkedList\(\);) s
5 211 M
(        _nodeList.add\(src\);) s
5 200 M
(    }) s
5 189 M
(    ) s
5 178 M
(    Path\(Edge src, Diagram d\) {) s
5 167 M
(        _d = d;) s
5 156 M
(        _srcNode = null;) s
5 145 M
(        _srcEdge = src;) s
5 134 M
(        _nodeList = new LinkedList\(\);) s
5 123 M
(        _edgeList = new LinkedList\(\);) s
5 112 M
(        _edgeList.add\(src\);) s
5 101 M
(    }) s
5 79 M
(    static Path project\(Path p, Diagram d2\) {) s
5 68 M
(        Path p2 = new Path\(p, d2\);) s
5 57 M
(        p2.validate\(d2\);) s
5 46 M
(        return p2;) s
5 35 M
(    }) s
5 24 M
(    ) s
5 13 M
(    private Path\(Path p, Diagram d2\) {) s
5 2 M
(        _d = d2;) s
_R
S
%%Page: (2) 71
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/cancellation/Path.java) def
/fdir (src/cancellation/) def
/ftail (Path.java) def
% User defined strings:
/fmodstr (Thu Oct 13 00:49:59 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Path.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 497 M
(        if \(p._srcNode == null\) _srcNode=null;) s
5 486 M
(        else _srcNode = d2.lookupNode\(p._srcNode.getID\(\)\);) s
5 453 M
(        if \(p._srcEdge == null\) _srcEdge=null;) s
5 442 M
(        else _srcEdge = d2.lookupEdge\(p._srcEdge.getA\(\).getID\(\), p._srcEdge.getB\(\).getID\(\)\);) s
5 420 M
(        _edgeList = new LinkedList\(\);) s
5 409 M
(        _nodeList = new LinkedList\(\);) s
5 387 M
(        Iterator itNodes = p._nodeList.iterator\(\);) s
5 376 M
(        for \( ;itNodes.hasNext\(\);\) {) s
5 365 M
(            Node nd = \(Node\)itNodes.next\(\);) s
5 354 M
(            _nodeList.add\(d2.lookupNode\(nd.getID\(\)\)\);) s
5 343 M
(        }) s
5 321 M
(        Iterator itEdges = p._edgeList.iterator\(\);) s
5 310 M
(        for \( ;itEdges.hasNext\(\);\) {) s
5 299 M
(            Edge e = \(Edge\)itEdges.next\(\);) s
5 288 M
(            _edgeList.add\(d2.lookupEdge\(e.getA\(\).getID\(\), e.getB\(\).getID\(\)\)\);) s
5 277 M
(        }) s
5 266 M
(    }) s
5 244 M
(    Iterator iteratorEdges\(\) {) s
5 233 M
(        return _edgeList.iterator\(\);) s
5 222 M
(    }) s
5 211 M
(    ) s
5 200 M
(    boolean isNodePath\(\) {) s
5 189 M
(        return _srcEdge==null;) s
5 178 M
(    }) s
5 156 M
(    Node getSrcNode\(\) {) s
5 145 M
(        if \( ! isNodePath\(\)\) {) s
5 134 M
(            throw new RuntimeException\("Path.getSrcNode: on a non NodePath"\);) s
5 123 M
(        }) s
5 112 M
(        return _srcNode;) s
5 101 M
(    }) s
5 79 M
(    public int length\(\) {) s
5 68 M
(        int sz = _nodeList.size\(\) - 1;) s
5 57 M
(        if \(isEdgePath\(\)\) sz++;) s
5 46 M
(        return sz;) s
5 35 M
(    }) s
5 13 M
(    boolean isEdgePath\(\) {) s
5 2 M
(        return _srcNode==null;) s
_R
S
%%Page: (3) 72
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/cancellation/Path.java) def
/fdir (src/cancellation/) def
/ftail (Path.java) def
% User defined strings:
/fmodstr (Thu Oct 13 00:49:59 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (Path.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    }) s
5 486 M
(    Edge getSrcEdge\(\) {) s
5 475 M
(        if \( ! isEdgePath\(\)\) {) s
5 464 M
(            throw new RuntimeException\("Path.getSrcEdge: on a non EdgePath"\);) s
5 453 M
(        }) s
5 442 M
(        return _srcEdge;) s
5 431 M
(    }) s
5 409 M
(    void append\(Edge e\) {) s
5 398 M
(        _d.validateEdge\(e\);) s
5 387 M
(        ) s
5 376 M
(        _edgeList.add\(e\);) s
5 365 M
(    }) s
5 343 M
(    void append\(Node nd\) {) s
5 332 M
(        _d.validateNode\(nd\);) s
5 310 M
(        _nodeList.add\(nd\);) s
5 299 M
(    }) s
5 277 M
(    boolean hasEdge\(Edge e\) {) s
5 266 M
(        _d.validateEdge\(e\);) s
5 255 M
(        return _edgeList.contains\(e\);) s
5 244 M
(    }) s
5 222 M
(    int getEdgeIndex\(Edge e\) {) s
5 211 M
(        _d.validateEdge\(e\);) s
5 200 M
(        return _edgeList.indexOf\(e\);) s
5 189 M
(    }) s
5 178 M
(    ) s
5 167 M
(    void cutEdge\(Edge e, Node insert\) {) s
5 156 M
(        _d.validateEdge\(e\);) s
5 145 M
(        _d.validateNode\(insert\);) s
5 123 M
(        if \( ! _edgeList.contains\(e\)\) {) s
5 112 M
(            throw new RuntimeException\("Path.cutEdge: nonexistent edge"\);) s
5 101 M
(        }) s
5 90 M
(        ) s
5 79 M
(        int i = _edgeList.indexOf\(e\);) s
5 68 M
(        Node a = e.getA\(\);) s
5 57 M
(        Node b = e.getB\(\);) s
5 46 M
(        int ai = _nodeList.indexOf\(a\);) s
5 35 M
(        int bi = _nodeList.indexOf\(b\);) s
5 24 M
(        if \(ai<0 || bi<0\) {) s
5 13 M
(            throw new RuntimeException\("Path.cutEdge: nonexistent edge"\);) s
5 2 M
(        }) s
_R
S
%%Page: (4) 73
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 4 def
/fname (src/cancellation/Path.java) def
/fdir (src/cancellation/) def
/ftail (Path.java) def
% User defined strings:
/fmodstr (Thu Oct 13 00:49:59 2011) def
/pagenumstr (4) def
/user_header_p true def
/user_header_left_str (Path.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 4 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        Node first, second;) s
5 497 M
(        int firsti, secondi;) s
5 486 M
(        if \(ai < bi\) {) s
5 475 M
(            first = a;) s
5 464 M
(            firsti = ai;) s
5 453 M
(            second = b;) s
5 442 M
(            secondi = bi;) s
5 431 M
(        }) s
5 420 M
(        else if \(bi < ai\) {) s
5 409 M
(            first = b;) s
5 398 M
(            firsti = bi;) s
5 387 M
(            second = a;) s
5 376 M
(            secondi = ai;) s
5 365 M
(        }) s
5 354 M
(        else {) s
5 343 M
(            throw new RuntimeException\("Path.cutEdge: loop edge"\);) s
5 332 M
(        }) s
5 310 M
(        if \(firsti+1 != secondi\) {) s
5 299 M
(            throw new RuntimeException\("Path.cutEdge: nodeList-edgeList inconsistency"\);) s
5 288 M
(        }) s
5 266 M
(        _edgeList.remove\(e\);) s
5 255 M
(        _nodeList.add\(secondi, insert\);) s
5 244 M
(        // System.out.println\("DEBUG inserting "+insert\);) s
5 233 M
(        Edge e1 = insert.addEdge\(first\);) s
5 222 M
(        Edge e2 = insert.addEdge\(second\);) s
5 211 M
(        _edgeList.add\(i, e2\);) s
5 200 M
(        _edgeList.add\(i, e1\);) s
5 189 M
(    }) s
5 167 M
(    public String toString\(\) {) s
5 156 M
(        String s = "[len="+length\(\)+"] ";) s
5 145 M
(        Iterator itNodes = _nodeList.iterator\(\);) s
5 134 M
(        Iterator itEdges = _edgeList.iterator\(\);) s
5 123 M
(        if \(this.isNodePath\(\)\) {) s
5 112 M
(            Node src = \(Node\)itNodes.next\(\);) s
5 101 M
(            s += src.toStringShort\(\)+", ";) s
5 90 M
(        }) s
5 79 M
(        else if \(this.isEdgePath\(\)\) {) s
5 68 M
(            Edge src = \(Edge\)itEdges.next\(\);) s
5 57 M
(            s += src.toString\(\)+", ";) s
5 46 M
(        }) s
5 24 M
(        for \( ;itNodes.hasNext\(\);\) {) s
5 13 M
(            if \(this.isNodePath\(\)\) {) s
5 2 M
(                Edge e = \(Edge\)itEdges.next\(\);) s
_R
S
%%Page: (5) 74
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 5 def
/fname (src/cancellation/Path.java) def
/fdir (src/cancellation/) def
/ftail (Path.java) def
% User defined strings:
/fmodstr (Thu Oct 13 00:49:59 2011) def
/pagenumstr (5) def
/user_header_p true def
/user_header_left_str (Path.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 5 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                s += e.toString\(\)+", ";) s
5 497 M
(                Node nd = \(Node\)itNodes.next\(\);) s
5 486 M
(                s += nd.toStringShort\(\)+", ";) s
5 475 M
(            }) s
5 464 M
(            else if \(this.isEdgePath\(\)\) {) s
5 453 M
(                Node nd = \(Node\)itNodes.next\(\);) s
5 442 M
(                s += nd.toStringShort\(\)+", ";) s
5 431 M
(                if \(itEdges.hasNext\(\)\) {) s
5 420 M
(                    Edge e = \(Edge\)itEdges.next\(\);) s
5 409 M
(                    s += e.toString\(\)+", ";) s
5 398 M
(                }) s
5 387 M
(            }) s
5 376 M
(        }) s
5 365 M
(        return s;) s
5 354 M
(    }) s
5 332 M
(    private void validate\(\) {) s
5 321 M
(        Iterator itNodes = _nodeList.iterator\(\);) s
5 310 M
(        for \( ;itNodes.hasNext\(\);\) {) s
5 299 M
(            Node nd = \(Node\)itNodes.next\(\);) s
5 288 M
(            _d.validateNode\(nd\);) s
5 277 M
(        }) s
5 255 M
(        Iterator itEdges = _edgeList.iterator\(\);) s
5 244 M
(        for \( ;itEdges.hasNext\(\);\) {) s
5 233 M
(            Edge e = \(Edge\)itEdges.next\(\);) s
5 222 M
(            _d.validateEdge\(e\);) s
5 211 M
(        }) s
5 189 M
(        if \(\(_srcNode != null\) && \(_srcNode != _nodeList.getFirst\(\)\)\) {) s
5 178 M
(            throw new RuntimeException\("Path.validate: _srcNode inconsistency"\);) s
5 167 M
(        }) s
5 156 M
(        if \(\(_srcEdge != null\) && \(_srcEdge != _edgeList.getFirst\(\)\)\) {) s
5 145 M
(            throw new RuntimeException\("Path.validate: _srcEdge inconsistency"\);) s
5 134 M
(        }) s
5 123 M
(    }) s
5 112 M
(    ) s
5 101 M
(    void validate\(Diagram d\) {) s
5 90 M
(        if \(_d != d\) {) s
5 79 M
(            throw new RuntimeException\("Path.validate: invalid associated Diagram"\);) s
5 68 M
(        }) s
5 57 M
(        validate\(\);) s
5 46 M
(    }) s
5 24 M
(}) s
_R
S
%%Page: (1) 75
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/equation/GroupEquation.java) def
/fdir (src/equation/) def
/ftail (GroupEquation.java) def
% User defined strings:
/fmodstr (Tue Oct 11 23:55:14 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (GroupEquation.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package equation;) s
5 431 M
(import java.util.LinkedList;) s
5 420 M
(import java.util.Iterator;) s
5 409 M
(import letter.Letter;) s
5 398 M
(import letter.LetterFactory;) s
5 376 M
(/**) s
5 365 M
( *) s
5 354 M
( * @author grouptheory) s
5 343 M
( */) s
5 332 M
(public class GroupEquation {) s
5 310 M
(    private LinkedList _letters;) s
5 288 M
(    public GroupEquation\(String s\) {) s
5 277 M
(        _letters = new LinkedList\(\);) s
5 266 M
(        _letters.addAll\(LetterFactory.instance\(\).parse\(s\)\);) s
5 255 M
(    }) s
5 233 M
(    public GroupEquation\(GroupEquation eq\) {) s
5 222 M
(        _letters = new LinkedList\(\);) s
5 211 M
(        _letters.addAll\(eq._letters\);) s
5 200 M
(    }) s
5 178 M
(    public String toString\(\) {) s
5 167 M
(        String s = "";) s
5 156 M
(        for \(Iterator it = _letters.iterator\(\); it.hasNext\(\); \) {) s
5 145 M
(            Letter let = \(Letter\)it.next\(\);) s
5 134 M
(            s += \(let.toString\(\)\);) s
5 123 M
(        }) s
5 112 M
(        return s;) s
5 101 M
(    }) s
5 90 M
(    ) s
5 79 M
(    GroupEquation\(\) {) s
5 68 M
(        _letters = new LinkedList\(\);) s
5 57 M
(    }) s
5 46 M
(    ) s
5 35 M
(    void appendLetter\(Letter let\) {) s
5 24 M
(        _letters.addLast\(let\);) s
5 13 M
(    }) s
_R
S
%%Page: (2) 76
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/equation/GroupEquation.java) def
/fdir (src/equation/) def
/ftail (GroupEquation.java) def
% User defined strings:
/fmodstr (Tue Oct 11 23:55:14 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (GroupEquation.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    public int length\(\) {) s
5 497 M
(        return _letters.size\(\);) s
5 486 M
(    }) s
5 464 M
(    public Letter popLetter\(\) {) s
5 453 M
(        return \(Letter\)_letters.removeFirst\(\);) s
5 442 M
(    }) s
5 420 M
(    public LetterIterator getLetterIterator\(\) {) s
5 409 M
(        LetterIterator letit = new LetterIterator\(\);) s
5 398 M
(        return letit;) s
5 387 M
(    }) s
5 365 M
(    public class LetterIterator {) s
5 354 M
(        private java.util.Iterator _iterator;) s
5 343 M
(        ) s
5 332 M
(        LetterIterator\(\) {) s
5 321 M
(            _iterator = _letters.iterator\(\);) s
5 310 M
(        }) s
5 288 M
(        public Letter next\(\) {) s
5 277 M
(            return \(Letter\)_iterator.next\(\);) s
5 266 M
(        }) s
5 255 M
(        ) s
5 244 M
(        public Boolean hasNext\(\) {) s
5 233 M
(            return _iterator.hasNext\(\);) s
5 222 M
(        }) s
5 211 M
(    }) s
5 200 M
(}) s
_R
S
%%Page: (1) 77
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/equation/Latex.java) def
/fdir (src/equation/) def
/ftail (Latex.java) def
% User defined strings:
/fmodstr (Thu Oct 20 08:20:41 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Latex.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package equation;) s
5 431 M
(import java.util.Iterator;) s
5 420 M
(import java.util.HashMap;) s
5 409 M
(import letter.Letter;) s
5 387 M
(/**) s
5 376 M
( *) s
5 365 M
( * @author grouptheory) s
5 354 M
( */) s
5 343 M
(public class Latex {) s
5 321 M
(    private static Latex _instance;) s
5 299 M
(    private Latex\(\) {) s
5 288 M
(    }) s
5 266 M
(    public static Latex instance\(\) {) s
5 255 M
(        if \(_instance == null\) {) s
5 244 M
(            _instance = new Latex\(\);) s
5 233 M
(        }) s
5 222 M
(        return _instance;) s
5 211 M
(    }) s
5 189 M
(    public String renderGroupEquation\(GroupEquation eq\) {) s
5 178 M
(        String s = "";) s
5 167 M
(        for \(GroupEquation.LetterIterator it = eq.getLetterIterator\(\); it.hasNext\(\);\) {) s
5 156 M
(            Letter let = it.next\(\);) s
5 145 M
(            s += letter.Latex.instance\(\).render\(let\);) s
5 134 M
(        }) s
5 123 M
(        s += "=_F 1";) s
5 112 M
(        return s;) s
5 101 M
(    }) s
5 79 M
(    public String renderQuadraticSystem\(QuadraticSystem qs\) {) s
5 68 M
(        String s = "";) s
5 57 M
(        s += equation.Latex.instance\(\).renderGroupEquation\(qs.getEquation\(\)\);) s
5 46 M
(        HashMap equiv = qs.getEquivalences\(\);) s
5 35 M
(        if \(equiv.size\(\)>0\) {) s
5 24 M
(            s += " $, where $";) s
5 13 M
(            for \(Iterator it=equiv.keySet\(\).iterator\(\); it.hasNext\(\);\) {) s
5 2 M
(                Letter let = \(Letter\)it.next\(\);) s
_R
S
%%Page: (2) 78
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/equation/Latex.java) def
/fdir (src/equation/) def
/ftail (Latex.java) def
% User defined strings:
/fmodstr (Thu Oct 20 08:20:41 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Latex.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                Letter leteq = \(Letter\)equiv.get\(let\);) s
5 486 M
(                s += letter.Latex.instance\(\).render\(let\);) s
5 475 M
(                s += "=";) s
5 464 M
(                s += letter.Latex.instance\(\).render\(leteq\);) s
5 453 M
(                if \(it.hasNext\(\)\) s+= ", ";) s
5 442 M
(            }) s
5 431 M
(        }) s
5 420 M
(        s += ".";) s
5 409 M
(        return s;) s
5 398 M
(    }) s
5 365 M
(    public String renderQSAsText\(QuadraticSystem qs\) {) s
5 354 M
(        String s = "{\\\\bf Quadratic System:}\\n";) s
5 343 M
(        s += "$";) s
5 332 M
(        s += renderQuadraticSystem\(qs\);) s
5 321 M
(        s += "$";) s
5 310 M
(        return s;) s
5 299 M
(    }) s
5 288 M
(}) s
_R
S
%%Page: (1) 79
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/equation/Main.java) def
/fdir (src/equation/) def
/ftail (Main.java) def
% User defined strings:
/fmodstr (Tue Oct 11 00:35:15 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Main.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package equation;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public class Main {) s
5 365 M
(    /**) s
5 354 M
(     * @param args the command line arguments) s
5 343 M
(     */) s
5 332 M
(    public static void main\(String[] args\) {) s
5 321 M
(        // TODO code application logic here) s
5 299 M
(        GroupEquation eqn = new GroupEquation\("z1+.z2+.z1-.z2-.c1+.c2+.c1-.c2-.z1+.z2+.z1-.z2-.c1+.c2+.c1-.c2-."\);) s
5 277 M
(        QuadraticSystem qs;) s
5 266 M
(        qs = QuadraticSystemFactory.instance\(\).newQuadraticSystem\(eqn\);) s
5 244 M
(        System.out.println\("eqn: "+eqn\);) s
5 233 M
(        System.out.println\("qs: "+qs\);) s
5 222 M
(    }) s
5 211 M
(}) s
_R
S
%%Page: (1) 80
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/equation/QuadraticSystem.java) def
/fdir (src/equation/) def
/ftail (QuadraticSystem.java) def
% User defined strings:
/fmodstr (Wed Oct 12 02:14:39 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (QuadraticSystem.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package equation;) s
5 431 M
(import java.util.HashMap;) s
5 420 M
(import java.util.LinkedList;) s
5 409 M
(import java.util.Iterator;) s
5 398 M
(import letter.Variable;) s
5 387 M
(import letter.Letter;) s
5 365 M
(/**) s
5 354 M
( *) s
5 343 M
( * @author grouptheory) s
5 332 M
( */) s
5 321 M
(public class QuadraticSystem {) s
5 310 M
(    private GroupEquation _eqn;) s
5 299 M
(    private HashMap _equivalences;) s
5 288 M
(    private HashMap _equivalencesReverse;) s
5 266 M
(    QuadraticSystem\(\) {) s
5 255 M
(        _eqn = new GroupEquation\(\);) s
5 244 M
(        _equivalences = new HashMap\(\);) s
5 233 M
(        _equivalencesReverse = new HashMap\(\);) s
5 222 M
(    }) s
5 211 M
(    ) s
5 200 M
(    void appendLetter\(Letter let\) {) s
5 189 M
(        _eqn.appendLetter\(let\);) s
5 178 M
(    }) s
5 156 M
(    void addEquivalence\(Variable v1, Variable v2\) {) s
5 145 M
(        if \(v1 == v2\) {) s
5 134 M
(            throw new RuntimeException\("QuadraticSystem.addEquivalence: v1 == v2"\);) s
5 123 M
(        }) s
5 112 M
(        _equivalences.put\(v1, v2\);) s
5 101 M
(        _equivalencesReverse.put\(v2, v1\);) s
5 90 M
(    }) s
5 68 M
(    public GroupEquation getEquation\(\) {) s
5 57 M
(        GroupEquation eqn = new GroupEquation\(_eqn\);) s
5 46 M
(        return eqn;) s
5 35 M
(    }) s
5 24 M
(    ) s
5 13 M
(    public HashMap getEquivalences\(\) {) s
5 2 M
(        HashMap equiv = new HashMap\(\);) s
_R
S
%%Page: (2) 81
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/equation/QuadraticSystem.java) def
/fdir (src/equation/) def
/ftail (QuadraticSystem.java) def
% User defined strings:
/fmodstr (Wed Oct 12 02:14:39 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (QuadraticSystem.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        equiv.putAll\(_equivalences\);) s
5 497 M
(        equiv.putAll\(_equivalencesReverse\);) s
5 486 M
(        return equiv;) s
5 475 M
(    }) s
5 453 M
(    public String toString\(\) {) s
5 442 M
(        String s = "";) s
5 431 M
(        s += _eqn.toString\(\) + "=1; \\n";) s
5 420 M
(        for \(Iterator it=_equivalences.keySet\(\).iterator\(\); it.hasNext\(\);\) {) s
5 409 M
(            Letter let = \(Letter\)it.next\(\);) s
5 398 M
(            s += \(let.toString\(\) + "="+ \(\(Letter\)_equivalences.get\(let\)\).toString\(\) + "; \\n"\);) s
5 387 M
(        }) s
5 376 M
(        s += "\\n";) s
5 365 M
(        return s;) s
5 354 M
(    }) s
5 343 M
(}) s
_R
S
%%Page: (1) 82
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/equation/QuadraticSystemFactory.java) def
/fdir (src/equation/) def
/ftail (QuadraticSystemFactory.java) def
% User defined strings:
/fmodstr (Wed Oct 19 19:17:12 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (QuadraticSystemFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package equation;) s
5 431 M
(import letter.Letter;) s
5 420 M
(import letter.Variable;) s
5 409 M
(import letter.LetterFactory;) s
5 398 M
(import java.util.HashMap;) s
5 387 M
(import java.util.HashSet;) s
5 365 M
(/**) s
5 354 M
( *) s
5 343 M
( * @author grouptheory) s
5 332 M
( */) s
5 321 M
(public class QuadraticSystemFactory {) s
5 299 M
(    private static QuadraticSystemFactory _instance;) s
5 277 M
(    private QuadraticSystemFactory\(\) {) s
5 266 M
(    }) s
5 244 M
(    public static QuadraticSystemFactory instance\(\) {) s
5 233 M
(        if \(_instance == null\) {) s
5 222 M
(            _instance = new QuadraticSystemFactory\(\);) s
5 211 M
(        }) s
5 200 M
(        return _instance;) s
5 189 M
(    }) s
5 167 M
(    public QuadraticSystem newQuadraticSystem\(GroupEquation eqn\) {) s
5 156 M
(        QuadraticSystem qs = new QuadraticSystem\(\);) s
5 123 M
(        HashSet vars = new HashSet\(\);) s
5 112 M
(        for \(GroupEquation.LetterIterator it = eqn.getLetterIterator\(\); it.hasNext\(\);\) {) s
5 101 M
(            Letter let = it.next\(\);) s
5 90 M
(            vars.add\(let\);) s
5 79 M
(        }) s
5 68 M
(        ) s
5 57 M
(        HashMap letter2count = new HashMap\(\);) s
5 46 M
(        for \(GroupEquation.LetterIterator it = eqn.getLetterIterator\(\); it.hasNext\(\);\) {) s
5 35 M
(            Letter let = it.next\(\);) s
5 13 M
(            if \( ! let.isConstant\(\)\) {) s
5 2 M
(                Variable var = \(Variable\)let;) s
_R
S
%%Page: (2) 83
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/equation/QuadraticSystemFactory.java) def
/fdir (src/equation/) def
/ftail (QuadraticSystemFactory.java) def
% User defined strings:
/fmodstr (Wed Oct 19 19:17:12 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (QuadraticSystemFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                int ct = getCount\(letter2count, var\);) s
5 497 M
(                if \(ct==2\) {) s
5 486 M
(                    Variable subs = LetterFactory.instance\(\).newUnusedVariable\(vars,0,var.isPositive\(\)\);) s
5 475 M
(                    vars.add\(subs\);) s
5 464 M
(                    ) s
5 453 M
(                    qs.appendLetter\(subs\);) s
5 442 M
(                    qs.addEquivalence\(var, subs\);) s
5 431 M
(                }) s
5 420 M
(                else {) s
5 409 M
(                    qs.appendLetter\(var\);) s
5 398 M
(                    incrementCount\(letter2count, var\);) s
5 387 M
(                }) s
5 376 M
(            }) s
5 365 M
(            else {) s
5 354 M
(                qs.appendLetter\(let\);) s
5 343 M
(            }) s
5 332 M
(        }) s
5 321 M
(        return qs;) s
5 310 M
(    }) s
5 288 M
(    private int getCount\(HashMap letter2count, Letter let\) {) s
5 277 M
(        Letter key;) s
5 266 M
(        if \(let.isPositive\(\)\) {) s
5 255 M
(            key = let;) s
5 244 M
(        }) s
5 233 M
(        else {) s
5 222 M
(            key = let.getInverse\(\);) s
5 211 M
(        }) s
5 200 M
(        Integer ct = \(Integer\)letter2count.get\(key\);) s
5 189 M
(        if \(ct==null\) return 0;) s
5 178 M
(        else return ct.intValue\(\);) s
5 167 M
(    }) s
5 134 M
(    private void incrementCount\(HashMap letter2count, Letter let\) {) s
5 123 M
(        Letter key;) s
5 112 M
(        if \(let.isPositive\(\)\) {) s
5 101 M
(            key = let;) s
5 90 M
(        }) s
5 79 M
(        else {) s
5 68 M
(            key = let.getInverse\(\);) s
5 57 M
(        }) s
5 46 M
(        Integer ct = \(Integer\)letter2count.get\(key\);) s
5 35 M
(        if \(ct==null\) letter2count.put\(key, 1\);) s
5 24 M
(        else {) s
5 13 M
(            letter2count.put\(key, 1+ct.intValue\(\)\);) s
5 2 M
(        }) s
_R
S
%%Page: (3) 84
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/equation/QuadraticSystemFactory.java) def
/fdir (src/equation/) def
/ftail (QuadraticSystemFactory.java) def
% User defined strings:
/fmodstr (Wed Oct 19 19:17:12 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (QuadraticSystemFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    }) s
5 497 M
(}) s
_R
S
%%Page: (1) 85
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/Base.java) def
/fdir (src/ge/) def
/ftail (Base.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Base.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 8) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(import utility.AbstractDecorable;) s
5 420 M
(import letter.Letter;) s
5 398 M
(/**) s
5 387 M
( *) s
5 376 M
( * @author grouptheory) s
5 365 M
( */) s
5 354 M
(public class Base extends AbstractDecorable {) s
5 343 M
(    private BaseSet _owner;) s
5 332 M
(    private Boundary _begin;) s
5 321 M
(    private Boundary _end;) s
5 310 M
(    private Letter _label;) s
5 299 M
(    private Base _dual;) s
5 288 M
(    private Constraint _cons;) s
5 277 M
(    ) s
5 266 M
(    Base\(Boundary begin, Boundary end, Letter label\) {) s
5 255 M
(        if \( begin.getID\(\) > end.getID\(\)\) {) s
5 244 M
(            throw new RuntimeException\("Base.ctor boundaries out of order"\);) s
5 233 M
(        }) s
5 222 M
(        _begin = begin;) s
5 211 M
(        _end = end;) s
5 200 M
(        _label = label;) s
5 189 M
(        _dual = null;) s
5 178 M
(        ) s
5 167 M
(        if \(this.getLabel\(\).isConstant\(\)\) {) s
5 156 M
(            _cons = null;) s
5 145 M
(        }) s
5 134 M
(        else {) s
5 123 M
(            _cons = new Constraint\(this\);) s
5 112 M
(        }) s
5 90 M
(        _owner = null;) s
5 79 M
(    }) s
5 57 M
(    void set\(Boundary begin, Boundary end\) {) s
5 46 M
(        _begin = begin;) s
5 35 M
(        _end = end;) s
5 24 M
(    }) s
5 13 M
(    ) s
5 2 M
(    public Boundary getBegin\(\) {) s
_R
S
%%Page: (2) 86
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/ge/Base.java) def
/fdir (src/ge/) def
/ftail (Base.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Base.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 8) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        return _begin;) s
5 497 M
(    }) s
5 475 M
(    public Boundary getEnd\(\) {) s
5 464 M
(        return _end;) s
5 453 M
(    }) s
5 431 M
(    public void collapse\(\) {) s
5 420 M
(        this.collapseSingle\(\);) s
5 409 M
(        this.getDual\(\).collapseSingle\(\);) s
5 398 M
(    }) s
5 376 M
(    void collapseSingle\(\) {) s
5 365 M
(        if \(!this.isConstant\(\) && _cons.size\(\) != 2\) {) s
5 354 M
(            throw new RuntimeException\("Base.collapse: variable base collapsing with _cons.size\(\) != 2"\);) s
5 343 M
(        }) s
5 332 M
(        Base dual=this.getDual\(\);) s
5 321 M
(        _begin = _end;) s
5 310 M
(        this.getConstraint\(\).collapse\(this.getEnd\(\), dual.getEnd\(\)\);) s
5 299 M
(    }) s
5 277 M
(    public void move\(Boundary newBegin, Boundary newEnd\) {) s
5 266 M
(        if \(newBegin==null\) {) s
5 255 M
(            throw new RuntimeException\("Base.move: newBegin == null"\);) s
5 244 M
(        }) s
5 233 M
(        if \(newEnd==null\) {) s
5 222 M
(            throw new RuntimeException\("Base.move: newEnd == null"\);) s
5 211 M
(        }) s
5 200 M
(        if \(!this.isConstant\(\) && \(_cons.size\(\) != 2\)\) {) s
5 189 M
(            if \(\(_cons.size\(\) == 1\) && \(_begin == _end\)\) {) s
5 178 M
(                // ok) s
5 167 M
(            }) s
5 156 M
(            else {) s
5 145 M
(                throw new RuntimeException\("Base.move: variable base moving with _cons.size\(\) = "+_cons.size\(\)+" which is ) s
5 134 M
(!= 2, or 1"\);) s
5 123 M
(            }) s
5 112 M
(        }) s
5 101 M
(        ) s
5 90 M
(        checkBoundaries\(\);) s
5 57 M
(        boolean opp1 = false;) s
5 35 M
(        if \(!this.isConstant\(\)\) {) s
5 13 M
(            opp1 = this.opposesDual\(\);) s
5 2 M
(            ) s
_R
S
%%Page: (3) 87
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/ge/Base.java) def
/fdir (src/ge/) def
/ftail (Base.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (Base.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 8) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            Base dual = this.getDual\(\);) s
5 486 M
(            //System.out.println\("*** moving "+this+" to = "+newBegin+","+newEnd\);) s
5 475 M
(            //System.out.println\("dual = "+dual\);) s
5 453 M
(            Boundary oldBegin, oldEnd;) s
5 442 M
(            oldBegin = _begin;) s
5 431 M
(            oldEnd = _end;) s
5 409 M
(            //System.out.println\("oldBegin, oldEnd: "+ oldBegin+", "+oldEnd\);) s
5 387 M
(            //System.out.println\("newBegin, newEnd: "+newBegin+", "+newEnd\);) s
5 365 M
(            //System.out.println\("fixing base constraints"\);) s
5 354 M
(            _cons.move\(oldBegin, oldEnd, newBegin, newEnd\);) s
5 343 M
(            //System.out.println\("base = "+this\);) s
5 321 M
(            //System.out.println\("fixing dual constraints"\);) s
5 310 M
(            _dual.getConstraint\(\).dualMoved\(oldBegin, oldEnd, newBegin, newEnd\);) s
5 299 M
(            //System.out.println\("dual = "+dual\);) s
5 288 M
(        }) s
5 277 M
(        ) s
5 266 M
(        // checkBoundaries\(\);) s
5 244 M
(        //System.out.println\("fixing base boundaries"\);) s
5 233 M
(        _begin = newBegin;) s
5 222 M
(        _end = newEnd;) s
5 211 M
(        //System.out.println\("base = "+this\);) s
5 189 M
(        boolean swapped = false;) s
5 178 M
(        if \( _begin.getID\(\) > _end.getID\(\)\) {) s
5 167 M
(            _label = _label.getInverse\(\);) s
5 156 M
(            Boundary swap = _begin;) s
5 145 M
(            _begin = _end;) s
5 134 M
(            _end = swap;) s
5 112 M
(            //System.out.println\("inverting"\);) s
5 101 M
(            //System.out.println\("base = "+this\);) s
5 90 M
(            ) s
5 79 M
(            if \(!this.isConstant\(\)\) {) s
5 57 M
(                Base dual = this.getDual\(\);) s
5 46 M
(                //System.out.println\("dual = "+dual\);) s
5 13 M
(                boolean opp2 = this.opposesDual\(\);) s
_R
S
%%Page: (4) 88
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 4 def
/fname (src/ge/Base.java) def
/fdir (src/ge/) def
/ftail (Base.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (4) def
/user_header_p true def
/user_header_left_str (Base.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 4 of 8) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                if \(opp1 != !opp2\) {) s
5 497 M
(                    throw new RuntimeException\("Base.checkBoundaries: insanity"\);) s
5 486 M
(                }) s
5 475 M
(            }) s
5 464 M
(        }) s
5 453 M
(        ) s
5 442 M
(        checkBoundaries\(\);) s
5 431 M
(    }) s
5 409 M
(    private void checkBoundaries\(\) {) s
5 387 M
(        if \( _begin.getID\(\) > _end.getID\(\)\) {) s
5 376 M
(            throw new RuntimeException\("Base.checkBoundaries failed"\);) s
5 365 M
(        }) s
5 343 M
(        if \(this.isConstant\(\)\) return;) s
5 332 M
(        ) s
5 321 M
(        Constraint cons=this.getConstraint\(\);) s
5 310 M
(        Constraint consDual=this.getDual\(\).getConstraint\(\);) s
5 299 M
(        Base dual=this.getDual\(\);) s
5 277 M
(        //System.out.println\("CHK base = "+this+" begin:"+getBegin\(\)+" end:"+getEnd\(\)\);) s
5 266 M
(        //System.out.println\("CHK dual = "+dual+" begin:"+dual.getBegin\(\)+" end:"+dual.getEnd\(\)\);) s
5 244 M
(        if \(this.opposesDual\(\)\) {) s
5 233 M
(            if \(consDual.getDual\(dual.getEnd\(\)\)!=getBegin\(\)\) {) s
5 222 M
(                throw new RuntimeException\("Base.checkBoundaries: failed at duals end"\);) s
5 211 M
(            }) s
5 200 M
(            if \(consDual.getDual\(dual.getBegin\(\)\)!=getEnd\(\)\) {) s
5 189 M
(                throw new RuntimeException\("Base.checkBoundaries: failed at duals begin"\);) s
5 178 M
(            }) s
5 167 M
(            if \(cons.getDual\(getBegin\(\)\)!=dual.getEnd\(\)\) {) s
5 156 M
(                throw new RuntimeException\("Base.checkBoundaries: failed at begin"\);) s
5 145 M
(            }) s
5 134 M
(            if \(cons.getDual\(getEnd\(\)\)!=dual.getBegin\(\)\) {) s
5 123 M
(                throw new RuntimeException\("Base.checkBoundaries: failed at end"\);) s
5 112 M
(            }) s
5 101 M
(        }) s
5 90 M
(        else {) s
5 79 M
(            if \(consDual.getDual\(dual.getBegin\(\)\)!=getBegin\(\)\) {) s
5 68 M
(                throw new RuntimeException\("Base.checkBoundaries: failed at duals end"\);) s
5 57 M
(            }) s
5 46 M
(            if \(consDual.getDual\(dual.getEnd\(\)\)!=getEnd\(\)\) {) s
5 35 M
(                throw new RuntimeException\("Base.checkBoundaries: failed at duals begin"\);) s
5 24 M
(            }) s
5 13 M
(            if \(getBegin\(\)!=getEnd\(\) && cons.getDual\(getBegin\(\)\)!=dual.getBegin\(\)\) {) s
5 2 M
(                throw new RuntimeException\("Base.checkBoundaries: failed at begin"\);) s
_R
S
%%Page: (5) 89
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 5 def
/fname (src/ge/Base.java) def
/fdir (src/ge/) def
/ftail (Base.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (5) def
/user_header_p true def
/user_header_left_str (Base.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 5 of 8) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            }) s
5 497 M
(            if \(getBegin\(\)!=getEnd\(\) && cons.getDual\(getEnd\(\)\)!=dual.getEnd\(\)\) {) s
5 486 M
(                throw new RuntimeException\("Base.checkBoundaries: failed at end"\);) s
5 475 M
(            }) s
5 464 M
(        }) s
5 453 M
(    }) s
5 431 M
(    private boolean opposesDual\(\) {) s
5 420 M
(        if \(this.isConstant\(\)\) {) s
5 409 M
(            throw new RuntimeException\("Base.opposesDual: cnnot be called on constant"\);) s
5 398 M
(        }) s
5 376 M
(        if \(!this.isConstant\(\) &&) s
5 365 M
(             \(\( this.getLabel\(\).isPositive\(\) &&) s
5 354 M
(               !this.getDual\(\).getLabel\(\).isPositive\(\)\) ||) s
5 343 M
(              \(!this.getLabel\(\).isPositive\(\) &&) s
5 332 M
(                this.getDual\(\).getLabel\(\).isPositive\(\)\)\)\) {) s
5 321 M
(            return true;) s
5 310 M
(        }) s
5 299 M
(        return false;) s
5 288 M
(    }) s
5 277 M
(    ) s
5 266 M
(    public boolean isEmpty\(\) {) s
5 255 M
(        return this.getBegin\(\) == this.getEnd\(\);) s
5 244 M
(    }) s
5 233 M
(    ) s
5 222 M
(    boolean isConstant\(\) {) s
5 211 M
(        return this.getLabel\(\).isConstant\(\);) s
5 200 M
(    }) s
5 189 M
(    ) s
5 178 M
(    public Letter getLabel\(\) {) s
5 167 M
(        return _label;) s
5 156 M
(    }) s
5 134 M
(    boolean contains\(Boundary b\) {) s
5 123 M
(        if \(_begin==null\) {) s
5 112 M
(            throw new RuntimeException\("Base.contains: _begin == null"\);) s
5 101 M
(        }) s
5 90 M
(        if \(_end==null\) {) s
5 79 M
(            throw new RuntimeException\("Base.contains: _end == null"\);) s
5 68 M
(        }) s
5 57 M
(        if \(b==null\) {) s
5 46 M
(            throw new RuntimeException\("Base.contains: b == null"\);) s
5 35 M
(        }) s
5 24 M
(        ) s
5 13 M
(        return \(b.getID\(\) >= _begin.getID\(\) &&) s
5 2 M
(                b.getID\(\) <= _end.getID\(\)\);) s
_R
S
%%Page: (6) 90
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 6 def
/fname (src/ge/Base.java) def
/fdir (src/ge/) def
/ftail (Base.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (6) def
/user_header_p true def
/user_header_left_str (Base.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 6 of 8) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    }) s
5 486 M
(    public Constraint getConstraint\(\) {) s
5 475 M
(        if \(this.getLabel\(\).isConstant\(\)\) {) s
5 464 M
(            throw new RuntimeException\("Base.getConstraint: constant base has no constraint"\);) s
5 453 M
(        }) s
5 442 M
(        return _cons;) s
5 431 M
(    }) s
5 409 M
(    void _setConstraint\(Constraint c\) {) s
5 398 M
(        if \(this.getLabel\(\).isConstant\(\)\) {) s
5 387 M
(            throw new RuntimeException\("Base.getConstraint: constant base has no constraint"\);) s
5 376 M
(        }) s
5 365 M
(        _cons = c;) s
5 354 M
(    }) s
5 332 M
(    public Base getDual\(\) {) s
5 321 M
(        if \(this.getLabel\(\).isConstant\(\)\) {) s
5 310 M
(            throw new RuntimeException\("Base.getDual: constant base has no dual"\);) s
5 299 M
(        }) s
5 288 M
(        return _dual;) s
5 277 M
(    }) s
5 255 M
(    void setDual\(Base dual\) {) s
5 244 M
(        if \(this.getDual\(\) != null\) {) s
5 233 M
(            throw new RuntimeException\("Base.setDual: base already has dual "\);) s
5 222 M
(        }) s
5 211 M
(        if \(this.getLabel\(\).isConstant\(\)\) {) s
5 200 M
(            throw new RuntimeException\("Base.setDual: constant base has no dual"\);) s
5 189 M
(        }) s
5 178 M
(        _dual = dual;) s
5 167 M
(    }) s
5 145 M
(    BaseSet getOwner\(\) {) s
5 134 M
(        return _owner;) s
5 123 M
(    }) s
5 101 M
(    void _setOwner\(BaseSet owner\) {) s
5 90 M
(        if \(this.getOwner\(\) != null && owner!=null\) {) s
5 79 M
(            throw new RuntimeException\("Base._setOwner: base is already owned"\);) s
5 68 M
(        }) s
5 57 M
(        _owner = owner;) s
5 46 M
(    }) s
5 24 M
(    public String toString\(\) {) s
5 13 M
(        String s = "";) s
5 2 M
(        s += "[";) s
_R
S
%%Page: (7) 91
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 7 def
/fname (src/ge/Base.java) def
/fdir (src/ge/) def
/ftail (Base.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (7) def
/user_header_p true def
/user_header_left_str (Base.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 7 of 8) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        s += _begin.toString\(\);) s
5 497 M
(        s += "-";) s
5 486 M
(        s += _end.toString\(\);) s
5 475 M
(        s += ":";) s
5 464 M
(        s += _label.toString\(\);) s
5 453 M
(        s += "] ";) s
5 442 M
(        s += this.hashCode\(\);) s
5 431 M
(        if \( ! this.isConstant\(\)\) {) s
5 420 M
(            s += " >> ";) s
5 409 M
(            s += this.getDual\(\).hashCode\(\);) s
5 398 M
(            s += " :: ";) s
5 387 M
(            s += _cons.toString\(\);) s
5 376 M
(        }) s
5 365 M
(        return s;) s
5 354 M
(    }) s
5 321 M
(    public String toStringShort\(\) {) s
5 310 M
(        String s = "";) s
5 299 M
(        s += "[";) s
5 288 M
(        s += _begin.toString\(\);) s
5 277 M
(        s += "-";) s
5 266 M
(        s += _end.toString\(\);) s
5 255 M
(        s += ":";) s
5 244 M
(        s += _label.toString\(\);) s
5 233 M
(        s += "] ";) s
5 222 M
(        return s;) s
5 211 M
(    }) s
5 189 M
(    void validate\(BaseSet bset\) {) s
5 178 M
(        validate_one\(bset\);) s
5 167 M
(        if \( ! this.getLabel\(\).isConstant\(\)\) {) s
5 156 M
(            this._dual.validate_one\(bset\);) s
5 145 M
(        }) s
5 134 M
(    }) s
5 112 M
(    void validate_one\(BaseSet bset\) {) s
5 101 M
(        if \(_owner != bset\) {) s
5 90 M
(            throw new RuntimeException\("Base.validate failed"\);) s
5 79 M
(        }) s
5 68 M
(        if \(!this.getLabel\(\).isConstant\(\) && this.getDual\(\).getDual\(\)!=this\) {) s
5 57 M
(            throw new RuntimeException\("Base.validate failed"\);) s
5 46 M
(        }) s
5 35 M
(        if \(_begin.getOwner\(\).getOwner\(\) != bset.getOwner\(\)\) {) s
5 24 M
(            throw new RuntimeException\("Base.validate failed"\);) s
5 13 M
(        }) s
5 2 M
(        if \(_end.getOwner\(\).getOwner\(\) != bset.getOwner\(\)\) {) s
_R
S
%%Page: (8) 92
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 8 def
/fname (src/ge/Base.java) def
/fdir (src/ge/) def
/ftail (Base.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (8) def
/user_header_p true def
/user_header_left_str (Base.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 8 of 8) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            throw new RuntimeException\("Base.validate failed"\);) s
5 497 M
(        }) s
5 486 M
(        if \(this.getLabel\(\).isConstant\(\) && _begin.getID\(\)+1!=_end.getID\(\)\) {) s
5 475 M
(            throw new RuntimeException\("Base.validate failed: "+_begin+" - "+_end\);) s
5 464 M
(        }) s
5 453 M
(        this.getOwner\(\).getOwner\(\).validate\(_begin\);) s
5 442 M
(        this.getOwner\(\).getOwner\(\).validate\(_end\);) s
5 420 M
(        if \( _begin.getID\(\) > _end.getID\(\)\) {) s
5 409 M
(            throw new RuntimeException\("Base.validate failed"\);) s
5 398 M
(        }) s
5 387 M
(        ) s
5 376 M
(        if \( ! this.getLabel\(\).isConstant\(\)\) {) s
5 354 M
(            try {) s
5 343 M
(                _cons.validate\(this\);) s
5 332 M
(            }) s
5 321 M
(            catch \(RuntimeException ex\) {) s
5 310 M
(                System.out.println\("BASE: "+this\);) s
5 299 M
(                throw ex;) s
5 288 M
(            }) s
5 277 M
(        }) s
5 266 M
(    }) s
5 255 M
(}) s
_R
S
%%Page: (1) 93
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/BaseComparator.java) def
/fdir (src/ge/) def
/ftail (BaseComparator.java) def
% User defined strings:
/fmodstr (Fri Oct 21 04:23:22 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (BaseComparator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(import java.util.Comparator;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(public class BaseComparator implements Comparator {) s
5 354 M
(    public int compare\(Object o1, Object o2\) {) s
5 343 M
(        Base b1 = \(Base\)o1;) s
5 332 M
(        Base b2 = \(Base\)o2;) s
5 310 M
(        if \(b1.getOwner\(\).getOwner\(\) != b2.getOwner\(\).getOwner\(\)\) {) s
5 299 M
(            throw new RuntimeException\("BaseComparator.compareTo: incomparable GEs"\);) s
5 288 M
(        }) s
5 277 M
(        ) s
5 266 M
(        // carrier must be first) s
5 255 M
(        // nonempty variable with the smallest left boundary \(and longest length in case of ties\)) s
5 233 M
(        // variables < constants) s
5 222 M
(        if \(!b1.isConstant\(\) && b2.isConstant\(\)\) {) s
5 211 M
(            return -1;) s
5 200 M
(        }) s
5 189 M
(        else if \(b1.isConstant\(\) && !b2.isConstant\(\)\) {) s
5 178 M
(            return +1;) s
5 167 M
(        }) s
5 156 M
(        else {) s
5 145 M
(            // nonempty < empty) s
5 134 M
(            if \(!b1.isEmpty\(\) && b2.isEmpty\(\)\) {) s
5 123 M
(                return -1;) s
5 112 M
(            }) s
5 101 M
(            else if \(b1.isEmpty\(\) && !b2.isEmpty\(\)\) {) s
5 90 M
(                return +1;) s
5 79 M
(            }) s
5 68 M
(            else {) s
5 57 M
(                // small left boundary < big left boundary) s
5 46 M
(                 if \(b1.getBegin\(\).getID\(\) < b2.getBegin\(\).getID\(\)\) {) s
5 35 M
(                    return -1;) s
5 24 M
(                }) s
5 13 M
(                else if \(b1.getBegin\(\).getID\(\) > b2.getBegin\(\).getID\(\)\) {) s
5 2 M
(                    return +1;) s
_R
S
%%Page: (2) 94
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/ge/BaseComparator.java) def
/fdir (src/ge/) def
/ftail (BaseComparator.java) def
% User defined strings:
/fmodstr (Fri Oct 21 04:23:22 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (BaseComparator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                }) s
5 497 M
(                else {) s
5 486 M
(                    // longer < shorter) s
5 475 M
(                    int len1 = b1.getEnd\(\).getID\(\) - b1.getBegin\(\).getID\(\);) s
5 464 M
(                    int len2 = b2.getEnd\(\).getID\(\) - b2.getBegin\(\).getID\(\);) s
5 453 M
(                    if \(len1 > len2\) {) s
5 442 M
(                        return -1;) s
5 431 M
(                    }) s
5 420 M
(                    else if \(len1 < len2\) {) s
5 409 M
(                        return +1;) s
5 398 M
(                    }) s
5 387 M
(                    else {) s
5 376 M
(                        // earlier label < later label) s
5 365 M
(                        if \(b1.getLabel\(\).getID\(\) < b2.getLabel\(\).getID\(\)\) {) s
5 354 M
(                            return -1;) s
5 343 M
(                        }) s
5 332 M
(                        else if \(b1.getLabel\(\).getID\(\) > b2.getLabel\(\).getID\(\)\) {) s
5 321 M
(                            return +1;) s
5 310 M
(                        }) s
5 299 M
(                        else {) s
5 288 M
(                            // smaller hashcode < greater hashcode) s
5 277 M
(                            if \(b1.hashCode\(\) < b2.hashCode\(\)\) {) s
5 266 M
(                                return -1;) s
5 255 M
(                            }) s
5 244 M
(                            else if \(b1.hashCode\(\) > b2.hashCode\(\)\) {) s
5 233 M
(                                return +1;) s
5 222 M
(                            }) s
5 211 M
(                            else {) s
5 200 M
(                                // equal!) s
5 189 M
(                                return 0;) s
5 178 M
(                            }) s
5 167 M
(                        }) s
5 156 M
(                    }) s
5 145 M
(                }) s
5 134 M
(            }) s
5 123 M
(        }) s
5 112 M
(    }) s
5 90 M
(    public boolean equals\(Object obj\) {) s
5 79 M
(        return obj==this;) s
5 68 M
(    }) s
5 57 M
(}) s
_R
S
%%Page: (1) 95
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/BaseDecorator.java) def
/fdir (src/ge/) def
/ftail (BaseDecorator.java) def
% User defined strings:
/fmodstr (Tue Oct 18 14:45:03 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (BaseDecorator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(import utility.AbstractDecorator;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(public class BaseDecorator extends AbstractDecorator {) s
5 343 M
(    public BaseDecorator\(\) {) s
5 332 M
(    }) s
5 310 M
(    public Base getBase\(\) {) s
5 299 M
(        return \(Base\)super.getOwner\(\);) s
5 288 M
(    }) s
5 266 M
(    public String getName\(\) {) s
5 255 M
(        return getOwner\(\).lookupDecoratorName\(this\);) s
5 244 M
(    }) s
5 222 M
(    public void attach\(String name, Base owner\) {) s
5 211 M
(        setOwner\(owner\);) s
5 200 M
(        getOwner\(\).attachDecorator\(name, this\);) s
5 189 M
(    }) s
5 167 M
(    public void detach\(\) {) s
5 156 M
(        getOwner\(\).detachDecorator\(this\);) s
5 145 M
(        setOwner\(null\);) s
5 134 M
(    }) s
5 123 M
(}) s
_R
S
%%Page: (1) 96
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/BaseLayoutDecorator.java) def
/fdir (src/ge/) def
/ftail (BaseLayoutDecorator.java) def
% User defined strings:
/fmodstr (Tue Oct 18 15:04:00 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (BaseLayoutDecorator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public class BaseLayoutDecorator extends BaseDecorator {) s
5 365 M
(    static final String NAME = "Layout";) s
5 343 M
(    private double _y;) s
5 332 M
(    private double _x1;) s
5 321 M
(    private double _x2;) s
5 299 M
(    BaseLayoutDecorator\(double x1, double x2, double y\) {) s
5 288 M
(        _x1 = x1;) s
5 277 M
(        _x2 = x2;) s
5 266 M
(        _y = y;) s
5 255 M
(    }) s
5 233 M
(    double getX1\(\) {) s
5 222 M
(        return _x1;) s
5 211 M
(    }) s
5 189 M
(    double getX2\(\) {) s
5 178 M
(        return _x2;) s
5 167 M
(    }) s
5 145 M
(    double getY\(\) {) s
5 134 M
(        return _y;) s
5 123 M
(    }) s
5 112 M
(}) s
_R
S
%%Page: (1) 97
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/BaseLayoutDecoratorFactory.java) def
/fdir (src/ge/) def
/ftail (BaseLayoutDecoratorFactory.java) def
% User defined strings:
/fmodstr (Fri Oct 21 03:41:53 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (BaseLayoutDecoratorFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(import java.util.Iterator;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(public class BaseLayoutDecoratorFactory {) s
5 354 M
(    private int[] _occ;) s
5 343 M
(    private boolean[][] _used;) s
5 332 M
(    private int _slots;) s
5 321 M
(    private int _bd;) s
5 310 M
(    private int _bs;) s
5 288 M
(    private double _width;) s
5 277 M
(    private double _height;) s
5 266 M
(    private double _boundaryspace;) s
5 255 M
(    private double _basespace;) s
5 233 M
(    private double WIDTH;) s
5 222 M
(    private double HEIGHT;) s
5 200 M
(    static double applyToAllBases\(GE geq, double width, double height\) {) s
5 189 M
(        BaseLayoutDecoratorFactory bldf = new BaseLayoutDecoratorFactory\(geq, width, height\);) s
5 178 M
(        for \(Iterator it=geq.iteratorBases\(\); it.hasNext\(\);\) {) s
5 167 M
(            Base bs=\(Base\)it.next\(\);) s
5 156 M
(            if \(bs.lookupDecorator\(BaseLayoutDecorator.NAME\) != null\) continue;) s
5 134 M
(            BaseLayoutDecorator bld = bldf.newBaseHeightDecorator\(bs\);) s
5 123 M
(            bld.attach\(BaseLayoutDecorator.NAME, bs\);) s
5 112 M
(        }) s
5 101 M
(        return bldf._boundaryspace;) s
5 90 M
(    }) s
5 68 M
(    private BaseLayoutDecoratorFactory\(GE geq, double width, double height\) {) s
5 57 M
(        _bd = geq.getNumberOfBoundaries\(\);) s
5 46 M
(        _bs = geq.getNumberOfBases\(\);) s
5 35 M
(        ) s
5 24 M
(        _occ = new int[_bd];) s
5 13 M
(        for \(int i=0; i<_bd; i++\) {) s
5 2 M
(            _occ[i]=0;) s
_R
S
%%Page: (2) 98
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/ge/BaseLayoutDecoratorFactory.java) def
/fdir (src/ge/) def
/ftail (BaseLayoutDecoratorFactory.java) def
% User defined strings:
/fmodstr (Fri Oct 21 03:41:53 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (BaseLayoutDecoratorFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        }) s
5 486 M
(        for \(Iterator it=geq.iteratorBases\(\); it.hasNext\(\);\) {) s
5 475 M
(            Base bs=\(Base\)it.next\(\);) s
5 464 M
(            this.incorporate\(bs\);) s
5 453 M
(        }) s
5 431 M
(        initSlots\(\);) s
5 420 M
(        ) s
5 409 M
(        HEIGHT = height;) s
5 398 M
(        WIDTH = width;) s
5 387 M
(        _basespace = HEIGHT/\(double\)this.maxOcc\(\);) s
5 376 M
(        _boundaryspace = WIDTH/\(\(double\)_bd-1\);) s
5 365 M
(    }) s
5 343 M
(    private void incorporate\(Base bs\) {) s
5 332 M
(        int left = bs.getBegin\(\).getID\(\);) s
5 321 M
(        int right = bs.getEnd\(\).getID\(\);) s
5 310 M
(        for \(int i=left; i<=right; i++\) {) s
5 299 M
(            _occ[i]++;) s
5 288 M
(        }) s
5 277 M
(    }) s
5 255 M
(    private int maxOcc\(\) {) s
5 244 M
(        int max=0;) s
5 233 M
(        for \(int i=0; i<_bd; i++\) {) s
5 222 M
(            if \(_occ[i]>max\) max=_occ[i];) s
5 211 M
(        }) s
5 200 M
(        return max+2;) s
5 189 M
(    }) s
5 167 M
(    private void initSlots\(\) {) s
5 156 M
(        _slots = maxOcc\(\);) s
5 145 M
(        _used = new boolean[_bd][_slots+1];) s
5 123 M
(        for \(int i=0; i<_bd; i++\) {) s
5 112 M
(            for \(int j=0; j<_slots; j++\) {) s
5 101 M
(                _used[i][j]=false;) s
5 90 M
(            }) s
5 79 M
(        }) s
5 68 M
(    }) s
5 46 M
(    private BaseLayoutDecorator newBaseHeightDecorator\(Base bs\) {) s
5 24 M
(        boolean success = false;) s
5 13 M
(        int height=0;) s
5 2 M
(        int left = bs.getBegin\(\).getID\(\);) s
_R
S
%%Page: (3) 99
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/ge/BaseLayoutDecoratorFactory.java) def
/fdir (src/ge/) def
/ftail (BaseLayoutDecoratorFactory.java) def
% User defined strings:
/fmodstr (Fri Oct 21 03:41:53 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (BaseLayoutDecoratorFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        int right = bs.getEnd\(\).getID\(\);) s
5 497 M
(        for \(int h=1; h<=_slots; h++\) {) s
5 486 M
(            if \(isFree\(left, right, h\)\) {) s
5 475 M
(                height = h;) s
5 464 M
(                success = true;) s
5 453 M
(                break;) s
5 442 M
(            }) s
5 431 M
(        }) s
5 420 M
(        if \(success\) {) s
5 409 M
(            markUsed\(left, right, height\);) s
5 398 M
(            return new BaseLayoutDecorator\(left*_boundaryspace,) s
5 387 M
(                                           right*_boundaryspace,) s
5 376 M
(                                           height*_basespace\);) s
5 365 M
(        }) s
5 354 M
(        else {) s
5 343 M
(            throw new RuntimeException\("DiagramAllocator.assignHeight: failed for bs="+bs\);) s
5 332 M
(        }) s
5 321 M
(    }) s
5 299 M
(    private boolean isFree\(int left, int right, int h\) {) s
5 288 M
(        for \(int i=left;i<=right;i++\) {) s
5 277 M
(            if \(_used[i][h]\) return false;) s
5 266 M
(        }) s
5 255 M
(        return true;) s
5 244 M
(    }) s
5 222 M
(    private void markUsed\(int left, int right, int h\) {) s
5 211 M
(        for \(int i=left;i<=right;i++\) {) s
5 200 M
(            _used[i][h] = true;) s
5 189 M
(        }) s
5 178 M
(    }) s
5 167 M
(}) s
_R
S
%%Page: (1) 100
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/BaseSet.java) def
/fdir (src/ge/) def
/ftail (BaseSet.java) def
% User defined strings:
/fmodstr (Thu Oct 20 19:57:42 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (BaseSet.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(import java.util.LinkedList;) s
5 420 M
(import java.util.Iterator;) s
5 409 M
(import java.util.HashMap;) s
5 398 M
(import java.util.TreeMap;) s
5 387 M
(import java.util.TreeSet;) s
5 376 M
(import letter.Letter;) s
5 354 M
(/**) s
5 343 M
( *) s
5 332 M
( * @author grouptheory) s
5 321 M
( */) s
5 310 M
(public class BaseSet {) s
5 299 M
(    private GE _owner;) s
5 288 M
(    private LinkedList _bsList;) s
5 266 M
(    BaseSet\(GE owner\) {) s
5 255 M
(        _owner = owner;) s
5 244 M
(        _bsList = new LinkedList\(\);) s
5 233 M
(    }) s
5 211 M
(    GE getOwner\(\) {) s
5 200 M
(        return _owner;) s
5 189 M
(    }) s
5 167 M
(    BaseSet duplicate\(GE owner, TreeMap old2new_bdmap, HashMap old2new_bsmap\) {) s
5 156 M
(        old2new_bsmap.clear\(\);) s
5 145 M
(        BaseSet bs2 = new BaseSet\(owner\);) s
5 134 M
(        for \(Iterator it = this.iterator\(\); it.hasNext\(\);\) {) s
5 123 M
(            Base b = \(Base\)it.next\(\);) s
5 112 M
(            Boundary begin2 = \(Boundary\)old2new_bdmap.get\(b.getBegin\(\)\);) s
5 101 M
(            Boundary end2 = \(Boundary\)old2new_bdmap.get\(b.getEnd\(\)\);) s
5 90 M
(            Letter let = b.getLabel\(\);) s
5 79 M
(            Base b2 = new Base\(begin2, end2, let\);) s
5 68 M
(            bs2.add\(b2\);) s
5 57 M
(            old2new_bsmap.put\(b, b2\);) s
5 46 M
(        }) s
5 35 M
(        ) s
5 24 M
(        for \(Iterator it = this.iterator\(\); it.hasNext\(\);\) {) s
5 13 M
(            Base b = \(Base\)it.next\(\);) s
5 2 M
(            if \(b.isConstant\(\)\) continue;) s
_R
S
%%Page: (2) 101
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/ge/BaseSet.java) def
/fdir (src/ge/) def
/ftail (BaseSet.java) def
% User defined strings:
/fmodstr (Thu Oct 20 19:57:42 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (BaseSet.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            ) s
5 497 M
(            Base bDual = b.getDual\(\);) s
5 475 M
(            Base b2 = \(Base\)old2new_bsmap.get\(b\);) s
5 464 M
(            Base bDual2 = \(Base\)old2new_bsmap.get\(bDual\);) s
5 442 M
(            b2.setDual\(bDual2\);) s
5 431 M
(        }) s
5 420 M
(        ) s
5 409 M
(        for \(Iterator it = this.iterator\(\); it.hasNext\(\);\) {) s
5 398 M
(            Base b = \(Base\)it.next\(\);) s
5 387 M
(            if \(b.isConstant\(\)\) continue;) s
5 365 M
(            Constraint c = b.getConstraint\(\);) s
5 354 M
(            Constraint c2 = c.duplicate\(old2new_bdmap, old2new_bsmap\);) s
5 332 M
(            Base b2 = \(Base\)old2new_bsmap.get\(b\);) s
5 321 M
(            b2._setConstraint\(c2\);) s
5 310 M
(        }) s
5 299 M
(        ) s
5 288 M
(        return bs2;) s
5 277 M
(    }) s
5 255 M
(    void add\(Base b\) {) s
5 244 M
(        _bsList.addLast\(b\);) s
5 233 M
(        b._setOwner\(this\);) s
5 222 M
(    }) s
5 200 M
(    void remove\(Base b\) {) s
5 189 M
(        if \( ! _bsList.contains\(b\)\) {) s
5 178 M
(            throw new RuntimeException\("BaseSet.remove: base not present"\);) s
5 167 M
(        }) s
5 156 M
(        b._setOwner\(null\);) s
5 145 M
(        _bsList.remove\(b\);) s
5 134 M
(    }) s
5 112 M
(    Iterator iterator\(\) {) s
5 101 M
(        return _bsList.iterator\(\);) s
5 90 M
(    }) s
5 68 M
(    int getNumberOfBases\(\) {) s
5 57 M
(        return _bsList.size\(\);) s
5 46 M
(    }) s
5 24 M
(    public String toString\(\) {) s
5 13 M
(        String s = "";) s
5 2 M
(        s += "Bases: {\\n";) s
_R
S
%%Page: (3) 102
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/ge/BaseSet.java) def
/fdir (src/ge/) def
/ftail (BaseSet.java) def
% User defined strings:
/fmodstr (Thu Oct 20 19:57:42 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (BaseSet.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 497 M
(        TreeSet ts = new TreeSet\(new BaseComparator\(\)\);) s
5 486 M
(        ts.addAll\(_bsList\);) s
5 464 M
(        for \(Iterator it=ts.iterator\(\); it.hasNext\(\);\) {) s
5 453 M
(            Base bs=\(Base\)it.next\(\);) s
5 442 M
(            s += "        ";) s
5 431 M
(            s += bs.toString\(\);) s
5 420 M
(            s += "\\n";) s
5 409 M
(        }) s
5 398 M
(        s += "       }";) s
5 387 M
(        return s;) s
5 376 M
(    }) s
5 354 M
(    void validate\(GE ge\) {) s
5 343 M
(        if \(_owner != ge\) {) s
5 332 M
(            throw new RuntimeException\("BaseSet.validate failed"\);) s
5 321 M
(        }) s
5 310 M
(        for \(Iterator it = this.iterator\(\); it.hasNext\(\);\) {) s
5 299 M
(            Base b = \(Base\)it.next\(\);) s
5 288 M
(            b.validate\(this\);) s
5 277 M
(        }) s
5 266 M
(    }) s
5 255 M
(}) s
_R
S
%%Page: (1) 103
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/Boundary.java) def
/fdir (src/ge/) def
/ftail (Boundary.java) def
% User defined strings:
/fmodstr (Thu Oct 20 19:54:41 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Boundary.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public class Boundary implements java.lang.Comparable {) s
5 376 M
(    private BoundarySet _owner;) s
5 354 M
(    Boundary\(\) {) s
5 343 M
(        _owner = null;) s
5 332 M
(    }) s
5 310 M
(    public int getID\(\) {) s
5 299 M
(        return _owner.getIndex\(this\);) s
5 288 M
(    }) s
5 266 M
(    BoundarySet getOwner\(\) {) s
5 255 M
(        return _owner;) s
5 244 M
(    }) s
5 222 M
(    void _setOwner\(BoundarySet owner\) {) s
5 211 M
(        if \(this.getOwner\(\) != null && owner!=null\) {) s
5 200 M
(            throw new RuntimeException\("Boundary._setOwner: boundary is already owned"\);) s
5 189 M
(        }) s
5 178 M
(        _owner = owner;) s
5 167 M
(    }) s
5 145 M
(    public String toString\(\) {) s
5 134 M
(        String s = "";) s
5 123 M
(        s += ""+getID\(\);) s
5 112 M
(        return s;) s
5 101 M
(    }) s
5 79 M
(    public int compareTo\(Object o\) {) s
5 68 M
(        if \(this.getOwner\(\) == null\) {) s
5 57 M
(            throw new RuntimeException\("Boundary.compareTo: _owner = null"\);) s
5 46 M
(        }) s
5 35 M
(        if \(! \(o instanceof Boundary\)\) {) s
5 24 M
(            throw new RuntimeException\("Boundary.compareTo: bad type"\);) s
5 13 M
(        }) s
5 2 M
(        Boundary obd = \(Boundary\)o;) s
_R
S
%%Page: (2) 104
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/ge/Boundary.java) def
/fdir (src/ge/) def
/ftail (Boundary.java) def
% User defined strings:
/fmodstr (Thu Oct 20 19:54:41 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Boundary.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        if \(obd.getOwner\(\) == null\) {) s
5 497 M
(            throw new RuntimeException\("Boundary.compareTo: obd = null"\);) s
5 486 M
(        }) s
5 475 M
(        if \(this.getOwner\(\) != obd.getOwner\(\)\) {) s
5 464 M
(            throw new RuntimeException\("Boundary.compareTo: obd and this are in different GEs"\);) s
5 453 M
(        }) s
5 442 M
(        ) s
5 431 M
(        if \(this.getID\(\) < obd.getID\(\)\) return -1;) s
5 420 M
(        else if\(this.getID\(\) > obd.getID\(\)\) return +1;) s
5 409 M
(        else return 0;) s
5 398 M
(    }) s
5 376 M
(    void validate\(BoundarySet bdset\) {) s
5 365 M
(        if \(_owner != bdset\) {) s
5 354 M
(            throw new RuntimeException\("Boundary.validate failed"\);) s
5 343 M
(        }) s
5 332 M
(    }) s
5 321 M
(}) s
_R
S
%%Page: (1) 105
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/BoundarySet.java) def
/fdir (src/ge/) def
/ftail (BoundarySet.java) def
% User defined strings:
/fmodstr (Thu Oct 20 20:18:02 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (BoundarySet.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(import java.util.LinkedList;) s
5 420 M
(import java.util.TreeMap;) s
5 409 M
(import java.util.Iterator;) s
5 387 M
(/**) s
5 376 M
( *) s
5 365 M
( * @author grouptheory) s
5 354 M
( */) s
5 343 M
(public class BoundarySet {) s
5 332 M
(    private GE _owner;) s
5 321 M
(    private LinkedList _bdList;) s
5 299 M
(    BoundarySet\(GE owner\) {) s
5 288 M
(        this\(owner,0\);) s
5 277 M
(    }) s
5 266 M
(    ) s
5 255 M
(    BoundarySet\(GE owner, int n\) {) s
5 244 M
(        _owner = owner;) s
5 233 M
(        _bdList = new LinkedList\(\);) s
5 222 M
(        for \(int i=0; i<n; i++\) {) s
5 211 M
(            Boundary b = new Boundary\(\);) s
5 200 M
(            this.add\(b\);) s
5 189 M
(        }) s
5 178 M
(    }) s
5 156 M
(    GE getOwner\(\) {) s
5 145 M
(        return _owner;) s
5 134 M
(    }) s
5 112 M
(    BoundarySet duplicate\(GE owner, TreeMap old2new_bdmap\) {) s
5 101 M
(        old2new_bdmap.clear\(\);) s
5 90 M
(        BoundarySet bd2 = new BoundarySet\(owner\);) s
5 79 M
(        for \(Iterator it = this.iterator\(\); it.hasNext\(\);\) {) s
5 68 M
(            Boundary b = \(Boundary\)it.next\(\);) s
5 57 M
(            Boundary b2 = new Boundary\(\);) s
5 46 M
(            bd2.add\(b2\);) s
5 35 M
(            old2new_bdmap.put\(b, b2\);) s
5 24 M
(        }) s
5 13 M
(        return bd2;) s
5 2 M
(    }) s
_R
S
%%Page: (2) 106
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/ge/BoundarySet.java) def
/fdir (src/ge/) def
/ftail (BoundarySet.java) def
% User defined strings:
/fmodstr (Thu Oct 20 20:18:02 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (BoundarySet.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    ) s
5 497 M
(    int getIndex\(Boundary b\) {) s
5 486 M
(        if \( ! _bdList.contains\(b\)\) {) s
5 475 M
(            throw new RuntimeException\("BoundarySet.getIndex: bad boundary"\);) s
5 464 M
(        }) s
5 453 M
(        int idx = _bdList.indexOf\(b\);) s
5 442 M
(        return idx;) s
5 431 M
(    }) s
5 409 M
(    void add\(Boundary b\) {) s
5 398 M
(        if \(_bdList.contains\(b\)\) {) s
5 387 M
(            throw new RuntimeException\("BoundarySet.add: duplicate boundary"\);) s
5 376 M
(        }) s
5 365 M
(        _bdList.addLast\(b\);) s
5 354 M
(        b._setOwner\(this\);) s
5 343 M
(    }) s
5 321 M
(    void remove\(Boundary b\) {) s
5 310 M
(        if \( ! _bdList.contains\(b\)\) {) s
5 299 M
(            throw new RuntimeException\("BoundarySet.remove: nonexistent boundary"\);) s
5 288 M
(        }) s
5 277 M
(        b._setOwner\(null\);) s
5 266 M
(        _bdList.remove\(b\);) s
5 255 M
(    }) s
5 233 M
(    Iterator iterator\(\) {) s
5 222 M
(        return _bdList.iterator\(\);) s
5 211 M
(    }) s
5 189 M
(    public Boundary appendNewBoundary\(\) {) s
5 178 M
(        Boundary bd = new Boundary\(\);) s
5 167 M
(        this.add\(bd\);) s
5 156 M
(        return bd;) s
5 145 M
(    }) s
5 123 M
(    public Boundary insertNewBoundaryAfter\(Boundary b\) {) s
5 112 M
(        int idx = getIndex\(b\);) s
5 101 M
(        Boundary newb = new Boundary\(\);) s
5 90 M
(        _bdList.add\(idx+1, newb\);) s
5 79 M
(        newb._setOwner\(this\);) s
5 68 M
(        return newb;) s
5 57 M
(    }) s
5 35 M
(    public Boundary insertNewBoundaryBefore\(Boundary b\) {) s
5 24 M
(        int idx = getIndex\(b\);) s
5 13 M
(        Boundary newb = new Boundary\(\);) s
5 2 M
(        _bdList.add\(idx-1, newb\);) s
_R
S
%%Page: (3) 107
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/ge/BoundarySet.java) def
/fdir (src/ge/) def
/ftail (BoundarySet.java) def
% User defined strings:
/fmodstr (Thu Oct 20 20:18:02 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (BoundarySet.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        newb._setOwner\(this\);) s
5 497 M
(        return newb;) s
5 486 M
(    }) s
5 464 M
(    public Boundary getFirst\(\) {) s
5 453 M
(        return \(Boundary\)_bdList.getFirst\(\);) s
5 442 M
(    }) s
5 420 M
(    Boundary getNth\(int i\) {) s
5 409 M
(        return \(Boundary\)_bdList.get\(i\);) s
5 398 M
(    }) s
5 387 M
(    ) s
5 376 M
(    public Boundary getLast\(\) {) s
5 365 M
(        return \(Boundary\)_bdList.getLast\(\);) s
5 354 M
(    }) s
5 332 M
(    public int getNumberOfBoundaries\(\) {) s
5 321 M
(        return _bdList.size\(\);) s
5 310 M
(    }) s
5 288 M
(    public Boundary nextBoundary\(Boundary bd\) {) s
5 277 M
(        int idx = _bdList.indexOf\(bd\);) s
5 266 M
(        if \(idx == _bdList.size\(\)-1\) {) s
5 255 M
(            return null;) s
5 244 M
(        }) s
5 233 M
(        else {) s
5 222 M
(            return \(Boundary\)_bdList.get\(idx+1\);) s
5 211 M
(        }) s
5 200 M
(    }) s
5 178 M
(    public Boundary prevBoundary\(Boundary bd\) {) s
5 167 M
(        int idx = _bdList.indexOf\(bd\);) s
5 156 M
(        if \(idx == 0\) {) s
5 145 M
(            return null;) s
5 134 M
(        }) s
5 123 M
(        else {) s
5 112 M
(            return \(Boundary\)_bdList.get\(idx-1\);) s
5 101 M
(        }) s
5 90 M
(    }) s
5 68 M
(    public String toString\(\) {) s
5 57 M
(        String s = "";) s
5 46 M
(        s += "Boundaries: {\\n";) s
5 35 M
(        for \(Iterator it=this.iterator\(\); it.hasNext\(\);\) {) s
5 24 M
(            Boundary bd=\(Boundary\)it.next\(\);) s
5 13 M
(            s += "             ";) s
5 2 M
(            s += bd.toString\(\);) s
_R
S
%%Page: (4) 108
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 4 def
/fname (src/ge/BoundarySet.java) def
/fdir (src/ge/) def
/ftail (BoundarySet.java) def
% User defined strings:
/fmodstr (Thu Oct 20 20:18:02 2011) def
/pagenumstr (4) def
/user_header_p true def
/user_header_left_str (BoundarySet.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 4 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            s += " ";) s
5 497 M
(            s += bd.hashCode\(\);) s
5 486 M
(            s += "\\n";) s
5 475 M
(        }) s
5 464 M
(        s += "}";) s
5 453 M
(        return s;) s
5 442 M
(    }) s
5 420 M
(    void validate\(Boundary bd\) {) s
5 409 M
(        int idx = getIndex\(bd\);) s
5 398 M
(    }) s
5 376 M
(    void validate\(GE ge\) {) s
5 365 M
(        if \(_owner != ge\) {) s
5 354 M
(            throw new RuntimeException\("BoundarySet.validate failed"\);) s
5 343 M
(        }) s
5 332 M
(        for \(Iterator it=this.iterator\(\); it.hasNext\(\);\) {) s
5 321 M
(            Boundary bd=\(Boundary\)it.next\(\);) s
5 310 M
(            bd.validate\(this\);) s
5 299 M
(        }) s
5 288 M
(    }) s
5 277 M
(}) s
_R
S
%%Page: (1) 109
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/CancellationDiagramAnalysis_GEDecorator.java) def
/fdir (src/ge/) def
/ftail (CancellationDiagramAnalysis_GEDecorator.java) def
% User defined strings:
/fmodstr (Thu Oct 13 15:07:04 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (CancellationDiagramAnalysis_GEDecorator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(import cancellation.*;) s
5 420 M
(import equation.GroupEquation;) s
5 409 M
(import equation.QuadraticSystem;) s
5 398 M
(import ge.GE;) s
5 387 M
(import ge.GEFactory;) s
5 365 M
(/**) s
5 354 M
( *) s
5 343 M
( * @author grouptheory) s
5 332 M
( */) s
5 321 M
(public class CancellationDiagramAnalysis_GEDecorator) s
5 310 M
(        implements ICancellationDiagramAnalysisDecorator {) s
5 288 M
(    public CancellationDiagramAnalysis_GEDecorator\(\) {) s
5 277 M
(    }) s
5 266 M
(    ) s
5 255 M
(    public String texify\(ICancellationDiagramAnalysis analysis, DiagramTreeNode dtn\) {) s
5 233 M
(        QuadraticSystem qs = analysis.getQuadraticSystem\(\);) s
5 222 M
(        Diagram d = dtn.getDiagram\(\);) s
5 200 M
(        GEFactory gef = GEFactory.instance\(\);) s
5 189 M
(        GE geq = gef.newGE\(d, qs\);) s
5 167 M
(        String s="";) s
5 156 M
(        if \(params.MKParams.FLAG_REPORT_GE_STRUCTURES\) {) s
5 145 M
(            s += ge.Latex.instance\(\).renderGEasText\(geq\);) s
5 134 M
(        }) s
5 123 M
(        if \(params.MKParams.FLAG_REPORT_GE_PICTURES\) {) s
5 112 M
(            s += ge.Latex.instance\(\).renderGEasGraphics\(geq\);) s
5 101 M
(        }) s
5 79 M
(        return s;) s
5 68 M
(    }) s
5 57 M
(}) s
_R
S
%%Page: (1) 110
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/Constraint.java) def
/fdir (src/ge/) def
/ftail (Constraint.java) def
% User defined strings:
/fmodstr (Fri Oct 21 03:00:04 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Constraint.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 6) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(import java.util.TreeMap;) s
5 420 M
(import java.util.HashMap;) s
5 409 M
(import java.util.Iterator;) s
5 398 M
(import java.util.Map;) s
5 387 M
(import letter.Letter;) s
5 376 M
(import letter.Variable;) s
5 354 M
(/**) s
5 343 M
( *) s
5 332 M
( * @author grouptheory) s
5 321 M
( */) s
5 310 M
(public class Constraint {) s
5 299 M
(    private Base _bs;) s
5 288 M
(    private TreeMap _bd2bd;) s
5 266 M
(    Constraint\(Base b\) {) s
5 255 M
(        _bs = b;) s
5 244 M
(        _bd2bd = new TreeMap\(\);) s
5 233 M
(    }) s
5 211 M
(    void initialize\(\) {) s
5 200 M
(        Base dual = _bs.getDual\(\);) s
5 189 M
(        Variable v = \(Variable\)_bs.getLabel\(\);) s
5 178 M
(        Variable vdual = \(Variable\)dual.getLabel\(\);) s
5 156 M
(        boolean flipDualBoundaries = false;) s
5 145 M
(        if \(\(v.isPositive\(\) && !vdual.isPositive\(\)\) ||) s
5 134 M
(            \(!v.isPositive\(\) && vdual.isPositive\(\)\)\) {) s
5 123 M
(            flipDualBoundaries = true;) s
5 112 M
(        }) s
5 90 M
(        if \(!flipDualBoundaries\) {) s
5 79 M
(            this.add\(_bs.getBegin\(\), dual.getBegin\(\)\);) s
5 68 M
(            this.add\(_bs.getEnd\(\), dual.getEnd\(\)\);) s
5 57 M
(        }) s
5 46 M
(        else {) s
5 35 M
(            this.add\(_bs.getBegin\(\), dual.getEnd\(\)\);) s
5 24 M
(            this.add\(_bs.getEnd\(\), dual.getBegin\(\)\);) s
5 13 M
(        }) s
5 2 M
(    }) s
_R
S
%%Page: (2) 111
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/ge/Constraint.java) def
/fdir (src/ge/) def
/ftail (Constraint.java) def
% User defined strings:
/fmodstr (Fri Oct 21 03:00:04 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Constraint.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 6) def
/user_footer_p false def
%%EndPageSetup
do_header
5 497 M
(    private Constraint\(Base b, TreeMap bd2bd2\) {) s
5 486 M
(        this\(b\);) s
5 475 M
(        _bd2bd.putAll\(bd2bd2\);) s
5 464 M
(    }) s
5 453 M
(    ) s
5 442 M
(    Constraint duplicate\(TreeMap old2new_bdmap, HashMap old2new_bsmap\) {) s
5 431 M
(        Base bs2 = \(Base\)old2new_bsmap.get\(_bs\);) s
5 420 M
(        TreeMap bd2bd2 = new TreeMap\(\);) s
5 409 M
(        ) s
5 398 M
(        for \(Iterator it=_bd2bd.entrySet\(\).iterator\(\); it.hasNext\(\);\) {) s
5 387 M
(            Map.Entry ent = \(Map.Entry\)it.next\(\);) s
5 376 M
(            Boundary b = \(Boundary\)ent.getKey\(\);) s
5 365 M
(            Boundary bDual = \(Boundary\)ent.getValue\(\);) s
5 354 M
(            ) s
5 343 M
(            Boundary b2 = \(Boundary\)old2new_bdmap.get\(b\);) s
5 332 M
(            Boundary bDual2 = \(Boundary\)old2new_bdmap.get\(bDual\);) s
5 321 M
(            bd2bd2.put\(b2, bDual2\);) s
5 310 M
(        }) s
5 299 M
(        return new Constraint\(bs2, bd2bd2\);) s
5 288 M
(    }) s
5 266 M
(    void add\(Boundary b, Boundary bdual\) {) s
5 255 M
(        if \( ! _bs.contains\(b\)\) {) s
5 244 M
(            throw new RuntimeException\("Constraint.add: boundary not in base"\);) s
5 233 M
(        }) s
5 222 M
(        if \( ! _bs.getDual\(\).contains\(bdual\)\) {) s
5 211 M
(            throw new RuntimeException\("Constraint.add: dual boundary not in dual base"\);) s
5 200 M
(        }) s
5 189 M
(        if \( _bd2bd.containsKey\(b\) \) {) s
5 178 M
(            throw new RuntimeException\("Constraint.add: constraint already exists"\);) s
5 167 M
(        }) s
5 156 M
(        _bd2bd.put\(b, bdual\);) s
5 145 M
(    }) s
5 123 M
(    void remove\(Boundary b, Boundary bdual\) {) s
5 112 M
(        if \( ! _bs.contains\(b\)\) {) s
5 101 M
(            throw new RuntimeException\("Constraint.remove: boundary "+b+" is not in base "+_bs\);) s
5 90 M
(        }) s
5 79 M
(        if \( ! _bs.getDual\(\).contains\(bdual\)\) {) s
5 68 M
(            throw new RuntimeException\("Constraint.remove: dual boundary not in dual base"\);) s
5 57 M
(        }) s
5 46 M
(        if \( ! _bd2bd.containsKey\(b\) \) {) s
5 35 M
(            throw new RuntimeException\("Constraint.remove: constraint doesn't exist"\);) s
5 24 M
(        }) s
5 2 M
(        _bd2bd.remove\(b\);) s
_R
S
%%Page: (3) 112
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/ge/Constraint.java) def
/fdir (src/ge/) def
/ftail (Constraint.java) def
% User defined strings:
/fmodstr (Fri Oct 21 03:00:04 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (Constraint.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 6) def
/user_footer_p false def
%%EndPageSetup
do_header
5 497 M
(        if \(_bd2bd.size\(\) < 2\) {) s
5 486 M
(            throw new RuntimeException\("Constraint.remove: size < 2"\);) s
5 475 M
(        }) s
5 464 M
(    }) s
5 442 M
(    void move\(Boundary oldBegin, Boundary oldEnd, Boundary newBegin, Boundary newEnd\) {) s
5 431 M
(        if \(_bd2bd.size\(\) != 2\) {) s
5 409 M
(            if \(\(_bd2bd.size\(\) == 1\) && \(_bs.isEmpty\(\)\)\) {) s
5 398 M
(                // ok) s
5 387 M
(            }) s
5 376 M
(            else {) s
5 365 M
(                throw new RuntimeException\("Constraint.move: _bd2bd.size\(\) != 2, or 1"\);) s
5 354 M
(            }) s
5 343 M
(        }) s
5 332 M
(        if \(newBegin==null\) {) s
5 321 M
(            throw new RuntimeException\("Constraint.move: newBegin == null"\);) s
5 310 M
(        }) s
5 299 M
(        if \(newEnd==null\) {) s
5 288 M
(            throw new RuntimeException\("Constraint.move: newEnd == null"\);) s
5 277 M
(        }) s
5 266 M
(        if \(oldBegin==null\) {) s
5 255 M
(            throw new RuntimeException\("Constraint.move: oldBegin == null"\);) s
5 244 M
(        }) s
5 233 M
(        if \(oldEnd==null\) {) s
5 222 M
(            throw new RuntimeException\("Constraint.move: oldEnd == null"\);) s
5 211 M
(        }) s
5 189 M
(        Boundary b2, e2;) s
5 178 M
(        b2 = \(Boundary\)_bd2bd.get\(oldBegin\);) s
5 167 M
(        if \(b2==null\) {) s
5 156 M
(            throw new RuntimeException\("Constraint.move: b2 == null"\);) s
5 145 M
(        }) s
5 134 M
(        e2 = \(Boundary\)_bd2bd.get\(oldEnd\);) s
5 123 M
(        if \(e2==null\) {) s
5 112 M
(            throw new RuntimeException\("Constraint.move: e2 == null"\);) s
5 101 M
(        }) s
5 90 M
(        _bd2bd.remove\(oldBegin\);) s
5 79 M
(        _bd2bd.remove\(oldEnd\);) s
5 68 M
(        _bd2bd.put\(newBegin, b2\);) s
5 57 M
(        _bd2bd.put\(newEnd, e2\);) s
5 46 M
(    }) s
5 24 M
(    void dualMoved\(Boundary oldBegin, Boundary oldEnd, Boundary newBegin, Boundary newEnd\) {) s
5 13 M
(        if \(newBegin==null\) {) s
5 2 M
(            throw new RuntimeException\("Constraint.dualMoved: newBegin == null"\);) s
_R
S
%%Page: (4) 113
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 4 def
/fname (src/ge/Constraint.java) def
/fdir (src/ge/) def
/ftail (Constraint.java) def
% User defined strings:
/fmodstr (Fri Oct 21 03:00:04 2011) def
/pagenumstr (4) def
/user_header_p true def
/user_header_left_str (Constraint.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 4 of 6) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        }) s
5 497 M
(        if \(newEnd==null\) {) s
5 486 M
(            throw new RuntimeException\("Constraint.dualMoved: newEnd == null"\);) s
5 475 M
(        }) s
5 464 M
(        if \(oldBegin==null\) {) s
5 453 M
(            throw new RuntimeException\("Constraint.dualMoved: oldBegin == null"\);) s
5 442 M
(        }) s
5 431 M
(        if \(oldEnd==null\) {) s
5 420 M
(            throw new RuntimeException\("Constraint.dualMoved: oldEnd == null"\);) s
5 409 M
(        }) s
5 387 M
(        Boundary b1, e1;) s
5 376 M
(        b1 = \(Boundary\)_bd2bd.firstKey\(\);) s
5 365 M
(        e1 = \(Boundary\)_bd2bd.lastKey\(\);) s
5 354 M
(        if \(_bd2bd.get\(b1\) == oldBegin\) {) s
5 343 M
(            _bd2bd.remove\(b1\);) s
5 332 M
(            _bd2bd.put\(b1, newBegin\);) s
5 321 M
(        }) s
5 310 M
(        else if\(_bd2bd.get\(b1\) == oldEnd\) {) s
5 299 M
(            _bd2bd.remove\(b1\);) s
5 288 M
(            _bd2bd.put\(b1, newEnd\);) s
5 277 M
(        }) s
5 266 M
(        else {) s
5 255 M
(            throw new RuntimeException\("Constraint.dualMoved: cant find binding to beginning"\);) s
5 244 M
(        }) s
5 222 M
(        if \(e1 != b1\) {) s
5 211 M
(            if \(_bd2bd.get\(e1\) == oldBegin\) {) s
5 200 M
(                _bd2bd.remove\(e1\);) s
5 189 M
(                _bd2bd.put\(e1, newBegin\);) s
5 178 M
(            }) s
5 167 M
(            else if\(_bd2bd.get\(e1\) == oldEnd\) {) s
5 156 M
(                _bd2bd.remove\(e1\);) s
5 145 M
(                _bd2bd.put\(e1, newEnd\);) s
5 134 M
(            }) s
5 123 M
(            else {) s
5 112 M
(                throw new RuntimeException\("Constraint.dualMoved: cant find binding to ending"\);) s
5 101 M
(            }) s
5 90 M
(        }) s
5 79 M
(    }) s
5 57 M
(    void collapse\(Boundary src, Boundary target\) {) s
5 46 M
(        _bd2bd.clear\(\);) s
5 35 M
(        _bd2bd.put\(src, target\);) s
5 24 M
(    }) s
5 2 M
(    public Boundary getDual\(Boundary b\) {) s
_R
S
%%Page: (5) 114
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 5 def
/fname (src/ge/Constraint.java) def
/fdir (src/ge/) def
/ftail (Constraint.java) def
% User defined strings:
/fmodstr (Fri Oct 21 03:00:04 2011) def
/pagenumstr (5) def
/user_header_p true def
/user_header_left_str (Constraint.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 5 of 6) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        if \( ! _bd2bd.containsKey\(b\) \) {) s
5 497 M
(            throw new RuntimeException\("Constraint.getDual: constraint doesn't exist"\);) s
5 486 M
(        }) s
5 475 M
(        return \(Boundary\)_bd2bd.get\(b\);) s
5 464 M
(    }) s
5 442 M
(    Boundary minimal\(\) {) s
5 431 M
(        return \(Boundary\)_bd2bd.firstKey\(\);) s
5 420 M
(    }) s
5 409 M
(    ) s
5 398 M
(    Boundary maximal\(\) {) s
5 387 M
(        return \(Boundary\)_bd2bd.lastKey\(\);) s
5 376 M
(    }) s
5 354 M
(    Base getBase\(\) {) s
5 343 M
(        return _bs;) s
5 332 M
(    }) s
5 310 M
(    public Iterator iteratorBoundary\(\) {) s
5 299 M
(        return _bd2bd.keySet\(\).iterator\(\);) s
5 288 M
(    }) s
5 266 M
(    public int size\(\) {) s
5 255 M
(        return _bd2bd.size\(\);) s
5 244 M
(    }) s
5 222 M
(    public String toString\(\) {) s
5 211 M
(        String s = "";) s
5 200 M
(        for \(Iterator it=this.iteratorBoundary\(\); it.hasNext\(\);\) {) s
5 189 M
(            Boundary bd=\(Boundary\)it.next\(\);) s
5 178 M
(            Boundary bdDual = this.getDual\(bd\);) s
5 167 M
(            s += bd.toString\(\);) s
5 156 M
(            s += "->";) s
5 145 M
(            s += bdDual.toString\(\);) s
5 134 M
(            if \(it.hasNext\(\)\) s += ", ";) s
5 123 M
(        }) s
5 112 M
(        return s;) s
5 101 M
(    }) s
5 79 M
(    void validate\(Base bs\) {) s
5 68 M
(        if \(_bs != bs\) {) s
5 57 M
(            throw new RuntimeException\("Constraint.validate failed"\);) s
5 46 M
(        }) s
5 35 M
(        for \(Iterator it=this.iteratorBoundary\(\); it.hasNext\(\);\) {) s
5 24 M
(            Boundary bd=\(Boundary\)it.next\(\);) s
5 13 M
(            Boundary bdDual = this.getDual\(bd\);) s
5 2 M
(            _bs.getOwner\(\).getOwner\(\).validate\(bd\);) s
_R
S
%%Page: (6) 115
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 6 def
/fname (src/ge/Constraint.java) def
/fdir (src/ge/) def
/ftail (Constraint.java) def
% User defined strings:
/fmodstr (Fri Oct 21 03:00:04 2011) def
/pagenumstr (6) def
/user_header_p true def
/user_header_left_str (Constraint.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 6 of 6) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            _bs.getOwner\(\).getOwner\(\).validate\(bdDual\);) s
5 497 M
(        }) s
5 486 M
(    }) s
5 475 M
(}) s
_R
S
%%Page: (1) 116
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/GE.java) def
/fdir (src/ge/) def
/ftail (GE.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (GE.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 7) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(import utility.AbstractDecorable;) s
5 420 M
(import java.util.TreeMap;) s
5 409 M
(import java.util.HashMap;) s
5 398 M
(import java.util.Iterator;) s
5 387 M
(import letter.Constant;) s
5 376 M
(import letter.Variable;) s
5 354 M
(/**) s
5 343 M
( *) s
5 332 M
( * @author grouptheory) s
5 321 M
( */) s
5 310 M
(public class GE extends AbstractDecorable {) s
5 299 M
(    private BoundarySet _bdSet;) s
5 288 M
(    private BaseSet _bsSet;) s
5 266 M
(    GE\(\) {) s
5 255 M
(        setBoundarySet\(new BoundarySet\(this\)\);) s
5 244 M
(        setBaseSet\(new BaseSet\(this\)\);) s
5 222 M
(        appendNewBoundary\(\);) s
5 211 M
(    }) s
5 189 M
(    private void setBoundarySet\(BoundarySet bdSet\) {) s
5 178 M
(        _bdSet = bdSet;) s
5 167 M
(    }) s
5 145 M
(    private void setBaseSet\(BaseSet bsSet\) {) s
5 134 M
(        _bsSet = bsSet;) s
5 123 M
(    }) s
5 101 M
(    public GE duplicate\(\) {) s
5 90 M
(        TreeMap old2new_bdmap = new TreeMap\(\);) s
5 79 M
(        HashMap old2new_bsmap = new HashMap\(\);) s
5 68 M
(        return duplicate\(old2new_bdmap, old2new_bsmap\);) s
5 57 M
(    }) s
5 24 M
(    public GE duplicate\(TreeMap old2new_bdmap, HashMap old2new_bsmap\) {) s
5 13 M
(        GE ge2 = new GE\(\);) s
5 2 M
(        BoundarySet bd2 = this._bdSet.duplicate\(ge2, old2new_bdmap\);) s
_R
S
%%Page: (2) 117
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/ge/GE.java) def
/fdir (src/ge/) def
/ftail (GE.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (GE.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 7) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        ge2.setBoundarySet\(bd2\);) s
5 486 M
(        BaseSet bs2 = this._bsSet.duplicate\(ge2, old2new_bdmap, old2new_bsmap\);) s
5 475 M
(        ge2.setBaseSet\(bs2\);) s
5 453 M
(        return ge2;) s
5 442 M
(    }) s
5 420 M
(    public Iterator iteratorBoundaries\(\) {) s
5 409 M
(        return _bdSet.iterator\(\);) s
5 398 M
(    }) s
5 376 M
(    public Boundary appendNewBoundary\(\) {) s
5 365 M
(        return _bdSet.appendNewBoundary\(\);) s
5 354 M
(    }) s
5 332 M
(    public Boundary insertNewBoundaryAfter\(Boundary b\) {) s
5 321 M
(        return _bdSet.insertNewBoundaryAfter\(b\);) s
5 310 M
(    }) s
5 288 M
(    public Boundary insertNewBoundaryBefore\(Boundary b\) {) s
5 277 M
(        return _bdSet.insertNewBoundaryBefore\(b\);) s
5 266 M
(    }) s
5 244 M
(    public int getNumberOfBoundaries\(\) {) s
5 233 M
(        return _bdSet.getNumberOfBoundaries\(\);) s
5 222 M
(    }) s
5 200 M
(    public boolean isUseless\(Boundary b\) {) s
5 189 M
(        int index = _bdSet.getIndex\(b\);) s
5 167 M
(        for \(Iterator it = this.iteratorBases\(\); it.hasNext\(\);\) {) s
5 156 M
(            Base bs = \(Base\)it.next\(\);) s
5 134 M
(            if \(bs.getBegin\(\) == b\) return false;) s
5 123 M
(            if \(bs.getEnd\(\) == b\) return false;) s
5 101 M
(            if \(bs.getLabel\(\).isConstant\(\)\) continue;) s
5 90 M
(            ) s
5 79 M
(            Constraint c = bs.getConstraint\(\);) s
5 68 M
(            for \(Iterator itcon=c.iteratorBoundary\(\); itcon.hasNext\(\);\) {) s
5 57 M
(                Boundary bdused = \(Boundary\)itcon.next\(\);) s
5 46 M
(                if \(bdused == b\) {) s
5 35 M
(                    return false;) s
5 24 M
(                }) s
5 13 M
(                Boundary bdusedDual = \(Boundary\)c.getDual\(bdused\);) s
5 2 M
(                if \(bdusedDual == b\) {) s
_R
S
%%Page: (3) 118
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/ge/GE.java) def
/fdir (src/ge/) def
/ftail (GE.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (GE.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 7) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                    return false;) s
5 497 M
(                }) s
5 486 M
(            }) s
5 475 M
(        }) s
5 464 M
(        return true;) s
5 453 M
(    }) s
5 431 M
(    public void removeBoundary\(Boundary b\) {) s
5 420 M
(        validate\(\);) s
5 409 M
(        if \( ! isUseless\(b\)\) {) s
5 398 M
(            throw new RuntimeException\("You are removing a non-useless boundary!"\);) s
5 387 M
(        }) s
5 376 M
(        _bdSet.remove\(b\);) s
5 365 M
(        validate\(\);) s
5 354 M
(    }) s
5 332 M
(    public Boundary getFirstBoundary\(\) {) s
5 321 M
(        return _bdSet.getFirst\(\);) s
5 310 M
(    }) s
5 288 M
(    public Boundary getNthBoundary\(int i\) {) s
5 277 M
(        return _bdSet.getNth\(i\);) s
5 266 M
(    }) s
5 244 M
(    public Boundary getLastBoundary\(\) {) s
5 233 M
(        return _bdSet.getLast\(\);) s
5 222 M
(    }) s
5 200 M
(    public Boundary nextBoundary\(Boundary bd\) {) s
5 189 M
(        return _bdSet.nextBoundary\(bd\);) s
5 178 M
(    }) s
5 156 M
(    public Boundary prevBoundary\(Boundary bd\) {) s
5 145 M
(        return _bdSet.prevBoundary\(bd\);) s
5 134 M
(    }) s
5 123 M
(    ) s
5 112 M
(    public Base addNewConstantBase\(Boundary begin, Constant c\) {) s
5 101 M
(        Boundary end = _bdSet.nextBoundary\(begin\);) s
5 90 M
(        if \(end==null\) {) s
5 79 M
(            end = _bdSet.appendNewBoundary\(\);) s
5 68 M
(        }) s
5 57 M
(        Base bs = new Base\(begin, end, c\);) s
5 46 M
(        _bsSet.add\(bs\);) s
5 35 M
(        return bs;) s
5 24 M
(    }) s
5 2 M
(    public Base addNewVariableBase\(Boundary begin, Boundary end, Variable v,) s
_R
S
%%Page: (4) 119
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 4 def
/fname (src/ge/GE.java) def
/fdir (src/ge/) def
/ftail (GE.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (4) def
/user_header_p true def
/user_header_left_str (GE.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 4 of 7) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                                   Boundary beginDual, Boundary endDual\) {) s
5 497 M
(        Base bs = new Base\(begin, end, v\);) s
5 475 M
(        Variable vDual = v;) s
5 464 M
(        if \(beginDual.getID\(\) > endDual.getID\(\)\) {) s
5 453 M
(            vDual = \(Variable\)v.getInverse\(\);) s
5 442 M
(            Boundary swap = beginDual;) s
5 431 M
(            beginDual = endDual;) s
5 420 M
(            endDual = swap;) s
5 409 M
(        }) s
5 398 M
(        Base bsDual = new Base\(beginDual, endDual, vDual\);) s
5 376 M
(        bs.setDual\(bsDual\);) s
5 365 M
(        bsDual.setDual\(bs\);) s
5 343 M
(        _bsSet.add\(bs\);) s
5 332 M
(        _bsSet.add\(bsDual\);) s
5 310 M
(        bs.getConstraint\(\).initialize\(\);) s
5 299 M
(        bsDual.getConstraint\(\).initialize\(\);) s
5 288 M
(        ) s
5 277 M
(        return bs;) s
5 266 M
(    }) s
5 244 M
(    public Iterator iteratorBases\(\) {) s
5 233 M
(        return _bsSet.iterator\(\);) s
5 222 M
(    }) s
5 200 M
(    public int getNumberOfBases\(\) {) s
5 189 M
(        return _bsSet.getNumberOfBases\(\);) s
5 178 M
(    }) s
5 156 M
(    public void addNewConstraint\(Base bs, Boundary bd, Boundary bdDual\) {) s
5 145 M
(        if \(bs==null\) {) s
5 134 M
(            throw new RuntimeException\("GE.addNewConstraint: bs == null"\);) s
5 123 M
(        }) s
5 112 M
(        if \(bd==null\) {) s
5 101 M
(            throw new RuntimeException\("GE.addNewConstraint: bd == null"\);) s
5 90 M
(        }) s
5 79 M
(        if \(bdDual==null\) {) s
5 68 M
(            throw new RuntimeException\("GE.addNewConstraint: bdDual == null"\);) s
5 57 M
(        }) s
5 46 M
(        if \(bs.getOwner\(\)!=_bsSet\) {) s
5 35 M
(            throw new RuntimeException\("GE.addNewConstraint: bs is bad"\);) s
5 24 M
(        }) s
5 13 M
(        if \(bd.getOwner\(\)!=_bdSet\) {) s
5 2 M
(            throw new RuntimeException\("GE.addNewConstraint: bd is bad"\);) s
_R
S
%%Page: (5) 120
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 5 def
/fname (src/ge/GE.java) def
/fdir (src/ge/) def
/ftail (GE.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (5) def
/user_header_p true def
/user_header_left_str (GE.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 5 of 7) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        }) s
5 497 M
(        if \(bdDual.getOwner\(\)!=_bdSet\) {) s
5 486 M
(            throw new RuntimeException\("GE.addNewConstraint: bdDual is bad"\);) s
5 475 M
(        }) s
5 464 M
(        Constraint c = bs.getConstraint\(\);) s
5 453 M
(        c.add\(bd, bdDual\);) s
5 431 M
(        Base bsDual = bs.getDual\(\);) s
5 420 M
(        Constraint cDual = bsDual.getConstraint\(\);) s
5 409 M
(        cDual.add\(bdDual, bd\);) s
5 398 M
(    }) s
5 376 M
(    public void removeConstraint\(Base bs, Boundary bd, Boundary bdDual, Boundary cr, Boundary cr_tr\) {) s
5 365 M
(        if \(bs==null\) {) s
5 354 M
(            throw new RuntimeException\("GE.removeConstraint: bs == null"\);) s
5 343 M
(        }) s
5 332 M
(        if \(bd==null\) {) s
5 321 M
(            throw new RuntimeException\("GE.removeConstraint: bd == null"\);) s
5 310 M
(        }) s
5 299 M
(        if \(bdDual==null\) {) s
5 288 M
(            throw new RuntimeException\("GE.removeConstraint: bdDual == null"\);) s
5 277 M
(        }) s
5 266 M
(        Constraint c = bs.getConstraint\(\);) s
5 255 M
(        if \(c.size\(\) == 2\) {) s
5 244 M
(            if \(cr!=null && cr_tr!=null\) {) s
5 233 M
(                c.add\(cr, cr_tr\);) s
5 222 M
(            }) s
5 211 M
(        }) s
5 200 M
(        c.remove\(bd, bdDual\);) s
5 178 M
(        Base bsDual = bs.getDual\(\);) s
5 167 M
(        Constraint cDual = bsDual.getConstraint\(\);) s
5 156 M
(        if \(cDual.size\(\) == 2\) {) s
5 145 M
(            if \(cr!=null && cr_tr!=null\) {) s
5 134 M
(                cDual.add\(cr_tr, cr\);) s
5 123 M
(            }) s
5 112 M
(        }) s
5 101 M
(        cDual.remove\(bdDual, bd\);) s
5 79 M
(        bs.set\(c.minimal\(\), c.maximal\(\)\);) s
5 68 M
(        bsDual.set\(cDual.minimal\(\), cDual.maximal\(\)\);) s
5 46 M
(        if \(c.minimal\(\)!=bs.getBegin\(\)\) {) s
5 35 M
(            throw new RuntimeException\("GE.removeConstraint: minimal is not _begin"\);) s
5 24 M
(        }) s
5 13 M
(        if \(c.maximal\(\)!=bs.getEnd\(\)\) {) s
5 2 M
(            throw new RuntimeException\("GE.removeConstraint: maximal is not _end"\);) s
_R
S
%%Page: (6) 121
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 6 def
/fname (src/ge/GE.java) def
/fdir (src/ge/) def
/ftail (GE.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (6) def
/user_header_p true def
/user_header_left_str (GE.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 6 of 7) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        }) s
5 497 M
(        if \(cDual.minimal\(\)!=bsDual.getBegin\(\)\) {) s
5 486 M
(            throw new RuntimeException\("GE.removeConstraint: in dual minimal is not _begin"\);) s
5 475 M
(        }) s
5 464 M
(        if \(cDual.maximal\(\)!=bsDual.getEnd\(\)\) {) s
5 453 M
(            throw new RuntimeException\("GE.removeConstraint: in dual maximal is not _end"\);) s
5 442 M
(        }) s
5 431 M
(    }) s
5 409 M
(    public void removeBase\(Base bs\) {) s
5 398 M
(        if \(bs==null\) {) s
5 387 M
(            throw new RuntimeException\("GE.removeBase: bs == null"\);) s
5 376 M
(        }) s
5 365 M
(        _bsSet.remove\(bs\);) s
5 354 M
(    }) s
5 332 M
(    public void collapseBase\(Base bs\) {) s
5 321 M
(        if \(bs==null\) {) s
5 310 M
(            throw new RuntimeException\("GE.collapseBase: bs == null"\);) s
5 299 M
(        }) s
5 288 M
(        if \(bs.getLabel\(\).isConstant\(\)\) {) s
5 277 M
(            throw new RuntimeException\("GE.collapseBase: bs == constant"\);) s
5 266 M
(        }) s
5 244 M
(                //System.out.println\("XXXX COLLAPSE "+bs\);) s
5 222 M
(        Base dual = bs.getDual\(\);) s
5 211 M
(        if \(!dual.isEmpty\(\) &&) s
5 200 M
(           \(\(bs.getBegin\(\) != dual.getBegin\(\)\) ||) s
5 189 M
(            \(bs.getEnd\(\) != dual.getEnd\(\)\) ||) s
5 178 M
(            \(bs.getLabel\(\) != dual.getLabel\(\)\)\)\) {) s
5 167 M
(            throw new RuntimeException\("GE.collapseBase: bs not collapsible"\);) s
5 156 M
(        }) s
5 134 M
(        Constraint c = bs.getConstraint\(\);) s
5 123 M
(        do {) s
5 112 M
(            if \(c.size\(\) > 2\) {) s
5 101 M
(                Iterator it = c.iteratorBoundary\(\);) s
5 90 M
(                Boundary bd = \(Boundary\)it.next\(\);) s
5 79 M
(                bd = \(Boundary\)it.next\(\);) s
5 68 M
(                ) s
5 57 M
(                Boundary bdDual = c.getDual\(bd\);) s
5 46 M
(                removeConstraint\(bs,bd, bdDual, null, null\);) s
5 35 M
(            }) s
5 24 M
(        }) s
5 13 M
(        while \(c.size\(\) > 2\);) s
_R
S
%%Page: (7) 122
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 7 def
/fname (src/ge/GE.java) def
/fdir (src/ge/) def
/ftail (GE.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (7) def
/user_header_p true def
/user_header_left_str (GE.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 7 of 7) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        bs.collapse\(\);) s
5 497 M
(    }) s
5 475 M
(    public String toString\(\) {) s
5 464 M
(        String s = "";) s
5 453 M
(        s += _bdSet.toString\(\);) s
5 442 M
(        s += "\\n";) s
5 431 M
(        s += _bsSet.toString\(\);) s
5 420 M
(        s += "\\n";) s
5 409 M
(        return s;) s
5 398 M
(    }) s
5 376 M
(    public void validate\(\) {) s
5 365 M
(        _bsSet.validate\(this\);) s
5 354 M
(        _bdSet.validate\(this\);) s
5 343 M
(    }) s
5 321 M
(    void validate\(Boundary b\) {) s
5 310 M
(        _bdSet.validate\(b\);) s
5 299 M
(    }) s
5 288 M
(}) s
_R
S
%%Page: (1) 123
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/GEDecorator.java) def
/fdir (src/ge/) def
/ftail (GEDecorator.java) def
% User defined strings:
/fmodstr (Tue Oct 18 14:45:17 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (GEDecorator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(import utility.AbstractDecorator;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(public class GEDecorator extends AbstractDecorator {) s
5 343 M
(    public GEDecorator\(\) {) s
5 332 M
(    }) s
5 310 M
(    public GE getGE\(\) {) s
5 299 M
(        return \(GE\)super.getOwner\(\);) s
5 288 M
(    }) s
5 277 M
(    ) s
5 266 M
(    public String getName\(\) {) s
5 255 M
(        return getOwner\(\).lookupDecoratorName\(this\);) s
5 244 M
(    }) s
5 222 M
(    public void attach\(String name, GE owner\) {) s
5 211 M
(        setOwner\(owner\);) s
5 200 M
(        getOwner\(\).attachDecorator\(name, this\);) s
5 189 M
(    }) s
5 167 M
(    public void detach\(\) {) s
5 156 M
(        getOwner\(\).detachDecorator\(this\);) s
5 145 M
(        setOwner\(null\);) s
5 134 M
(    }) s
5 123 M
(}) s
_R
S
%%Page: (1) 124
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/GEDegeneracyTester.java) def
/fdir (src/ge/) def
/ftail (GEDegeneracyTester.java) def
% User defined strings:
/fmodstr (Thu Oct 20 15:29:09 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (GEDegeneracyTester.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(import java.util.Iterator;) s
5 420 M
(import java.util.LinkedList;) s
5 398 M
(/**) s
5 387 M
( *) s
5 376 M
( * @author grouptheory) s
5 365 M
( */) s
5 354 M
(public class GEDegeneracyTester implements IDegeneracyTestLog {) s
5 332 M
(    class Evidence {) s
5 321 M
(        private String _s;) s
5 299 M
(        Evidence\(String s\) {) s
5 288 M
(            _s = s;) s
5 277 M
(        }) s
5 255 M
(        public String toString\(\) {) s
5 244 M
(            return _s;) s
5 233 M
(        }) s
5 222 M
(    }) s
5 211 M
(    ) s
5 200 M
(    private LinkedList _evidence;) s
5 189 M
(    ) s
5 178 M
(    public void reportEvidence\(String s\) {) s
5 167 M
(        _evidence.addLast\(new Evidence\(s\)\);) s
5 156 M
(    }) s
5 145 M
(    ) s
5 134 M
(    private LinkedList _conditions;) s
5 123 M
(    private void AddCondition\(IGEDegeneracyCondition cond\) {) s
5 112 M
(        _conditions.addLast\(cond\);) s
5 101 M
(    }) s
5 90 M
(    ) s
5 68 M
(    private boolean _isDegenerate;) s
5 57 M
(    ) s
5 46 M
(    public GEDegeneracyTester\(GE geq\) {) s
5 35 M
(        _conditions = new LinkedList\(\);) s
5 24 M
(        AddCondition\(new GEDegeneracy_ConditionA\(\)\);) s
5 13 M
(        AddCondition\(new GEDegeneracy_ConditionB\(\)\);) s
5 2 M
(        AddCondition\(new GEDegeneracy_ConditionC\(\)\);) s
_R
S
%%Page: (2) 125
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/ge/GEDegeneracyTester.java) def
/fdir (src/ge/) def
/ftail (GEDegeneracyTester.java) def
% User defined strings:
/fmodstr (Thu Oct 20 15:29:09 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (GEDegeneracyTester.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        AddCondition\(new GEDegeneracy_ConditionD\(\)\);) s
5 497 M
(        AddCondition\(new GEDegeneracy_ConditionE\(\)\);) s
5 475 M
(        _evidence = new LinkedList\(\);) s
5 464 M
(        _isDegenerate = compute\(geq\);) s
5 453 M
(    }) s
5 431 M
(    public boolean isDegenerate\(\) {) s
5 420 M
(        return _isDegenerate;) s
5 409 M
(    }) s
5 398 M
(    ) s
5 387 M
(    private boolean compute\(GE geq\) {) s
5 376 M
(        for \(Iterator it = _conditions.iterator\(\); it.hasNext\(\);\) {) s
5 365 M
(            IGEDegeneracyCondition cond = \(IGEDegeneracyCondition\)it.next\(\);) s
5 354 M
(            if \(cond.test\(geq, this\)\) {) s
5 343 M
(                return true;) s
5 332 M
(            }) s
5 321 M
(        }) s
5 310 M
(        return false;) s
5 299 M
(    }) s
5 277 M
(    public String toString\(\) {) s
5 266 M
(        String s="";) s
5 255 M
(        for \(Iterator it = _evidence.iterator\(\); it.hasNext\(\);\) {) s
5 244 M
(            Evidence ev=\(Evidence\)it.next\(\);) s
5 233 M
(            s+=\(""+ev\);) s
5 222 M
(        }) s
5 211 M
(        return s;) s
5 200 M
(    }) s
5 189 M
(}) s
_R
S
%%Page: (1) 126
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/GEDegeneracy_ConditionA.java) def
/fdir (src/ge/) def
/ftail (GEDegeneracy_ConditionA.java) def
% User defined strings:
/fmodstr (Thu Oct 20 13:39:21 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (GEDegeneracy_ConditionA.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(import java.util.Iterator;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(class GEDegeneracy_ConditionA implements IGEDegeneracyCondition {) s
5 354 M
(    ) s
5 343 M
(    public boolean test\(GE geq, IDegeneracyTestLog log\) {) s
5 332 M
(        // MK: if e\(mu\)=-e\(delta\(mu\) then mu and delta\(mu\) cannot intersect) s
5 321 M
(        boolean answer = false;) s
5 310 M
(        ) s
5 299 M
(        for \(Iterator it=geq.iteratorBases\(\); it.hasNext\(\);\) {) s
5 288 M
(            Base bs = \(Base\)it.next\(\);) s
5 277 M
(            if \(bs.isConstant\(\)\) continue;) s
5 255 M
(            Base bsDual = bs.getDual\(\);) s
5 244 M
(            boolean pos = bs.getLabel\(\).isPositive\(\);) s
5 233 M
(            boolean posDual = bsDual.getLabel\(\).isPositive\(\);) s
5 222 M
(            if \(\(pos && !posDual\) || \(!pos && posDual\)\) {) s
5 211 M
(                Boundary begin1 = bs.getBegin\(\);) s
5 200 M
(                Boundary end1 = bs.getEnd\(\);) s
5 189 M
(                Boundary begin2 = bsDual.getBegin\(\);) s
5 178 M
(                Boundary end2 = bsDual.getEnd\(\);) s
5 167 M
(                boolean intersects =) s
5 156 M
(                        \(\(begin1.getID\(\) >= begin2.getID\(\) && begin1.getID\(\) < end2.getID\(\)\) ||) s
5 145 M
(                        \(end1.getID\(\) > begin2.getID\(\) && end1.getID\(\) <= end2.getID\(\)\) ||) s
5 134 M
(                        \(begin1.getID\(\) <= begin2.getID\(\) && end1.getID\(\) >= end2.getID\(\)\) ||) s
5 123 M
(                        \(begin2.getID\(\) <= begin1.getID\(\) && end2.getID\(\) >= end1.getID\(\)\)\);) s
5 112 M
(                if \(intersects\) {) s
5 101 M
(                    String s = "The base "+bs.toStringShort\(\)+" and its dual are of opposite polarity, yet intersect.  ";) s
5 90 M
(                    log.reportEvidence\(s\);) s
5 79 M
(                    answer = true;) s
5 68 M
(                }) s
5 57 M
(            }) s
5 46 M
(        }) s
5 35 M
(        return answer;) s
5 24 M
(    }) s
5 13 M
(}) s
_R
S
%%Page: (1) 127
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/GEDegeneracy_ConditionB.java) def
/fdir (src/ge/) def
/ftail (GEDegeneracy_ConditionB.java) def
% User defined strings:
/fmodstr (Thu Oct 20 21:17:11 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (GEDegeneracy_ConditionB.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(import java.util.Iterator;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(class GEDegeneracy_ConditionB implements IGEDegeneracyCondition {) s
5 354 M
(    ) s
5 343 M
(    public boolean test\(GE geq, IDegeneracyTestLog log\) {) s
5 332 M
(        // BK: mu and delta\(mu\) do not properly contain each other) s
5 321 M
(        boolean answer = false;) s
5 310 M
(        for \(Iterator it=geq.iteratorBases\(\); it.hasNext\(\);\) {) s
5 299 M
(            Base bs = \(Base\)it.next\(\);) s
5 288 M
(            if \(bs.isConstant\(\)\) continue;) s
5 266 M
(            Base bsDual = bs.getDual\(\);) s
5 255 M
(            boolean pos = bs.getLabel\(\).isPositive\(\);) s
5 244 M
(            boolean posDual = bsDual.getLabel\(\).isPositive\(\);) s
5 222 M
(            Boundary begin1 = bs.getBegin\(\);) s
5 211 M
(            Boundary end1 = bs.getEnd\(\);) s
5 200 M
(            Boundary begin2 = bsDual.getBegin\(\);) s
5 189 M
(            Boundary end2 = bsDual.getEnd\(\);) s
5 178 M
(            boolean containsProperly =) s
5 167 M
(                    \(begin1.getID\(\) <  begin2.getID\(\) && end1.getID\(\) >= end2.getID\(\)\) ||) s
5 156 M
(                    \(begin2.getID\(\) <  begin1.getID\(\) && end2.getID\(\) >= end1.getID\(\)\) ||) s
5 145 M
(                    \(begin1.getID\(\) <= begin2.getID\(\) && end1.getID\(\) >  end2.getID\(\)\) ||) s
5 134 M
(                    \(begin2.getID\(\) <= begin1.getID\(\) && end2.getID\(\) >  end1.getID\(\)\);) s
5 123 M
(            if \(containsProperly\) {) s
5 112 M
(                String s = "The base "+bs.toStringShort\(\)+" and its dual are of the same polarity, yet one properly contai) s
5 101 M
(ns the other.  ";) s
5 90 M
(                log.reportEvidence\(s\);) s
5 79 M
(                answer = true;) s
5 68 M
(            }) s
5 57 M
(        }) s
5 46 M
(        return answer;) s
5 35 M
(    }) s
5 24 M
(}) s
_R
S
%%Page: (1) 128
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/GEDegeneracy_ConditionC.java) def
/fdir (src/ge/) def
/ftail (GEDegeneracy_ConditionC.java) def
% User defined strings:
/fmodstr (Thu Oct 20 13:27:26 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (GEDegeneracy_ConditionC.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(import java.util.Iterator;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(class GEDegeneracy_ConditionC implements IGEDegeneracyCondition {) s
5 343 M
(    public boolean test\(GE geq, IDegeneracyTestLog log\) {) s
5 332 M
(        return test1\(geq, log\) || test2\(geq, log\);) s
5 321 M
(    }) s
5 299 M
(    private boolean test1\(GE geq, IDegeneracyTestLog log\) {) s
5 288 M
(        // MK: if two boundary equations...) s
5 277 M
(        boolean answer = false;) s
5 255 M
(        for \(Iterator it=geq.iteratorBases\(\); it.hasNext\(\);\) {) s
5 244 M
(            Base bs = \(Base\)it.next\(\);) s
5 233 M
(            if \(bs.isConstant\(\)\) continue;) s
5 211 M
(            Base bsDual = bs.getDual\(\);) s
5 200 M
(            boolean pos = bs.getLabel\(\).isPositive\(\);) s
5 189 M
(            boolean posDual = bsDual.getLabel\(\).isPositive\(\);) s
5 178 M
(            int epsiepsi = +1;) s
5 167 M
(            if \(\(pos && !posDual\) || \(!pos && posDual\)\) {) s
5 156 M
(                epsiepsi = -1;) s
5 145 M
(            }) s
5 123 M
(            Boundary b1_prev = null;) s
5 112 M
(            Boundary b1Dual_prev = null;) s
5 101 M
(            Constraint c = bs.getConstraint\(\);) s
5 90 M
(            for \(Iterator itcon=c.iteratorBoundary\(\); itcon.hasNext\(\);\) {) s
5 79 M
(                Boundary b1 = \(Boundary\)itcon.next\(\);) s
5 68 M
(                Boundary b1Dual = c.getDual\(b1\);) s
5 46 M
(                if \(b1_prev==null || b1Dual_prev==null\) continue;) s
5 24 M
(                int delta1;) s
5 13 M
(                if \(b1.getID\(\) < b1_prev.getID\(\)\) {) s
5 2 M
(                    delta1 = -1;) s
_R
S
%%Page: (2) 129
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/ge/GEDegeneracy_ConditionC.java) def
/fdir (src/ge/) def
/ftail (GEDegeneracy_ConditionC.java) def
% User defined strings:
/fmodstr (Thu Oct 20 13:27:26 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (GEDegeneracy_ConditionC.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                }) s
5 497 M
(                else if \(b1.getID\(\) > b1_prev.getID\(\)\) {) s
5 486 M
(                    delta1 = +1;) s
5 475 M
(                }) s
5 464 M
(                else {) s
5 453 M
(                    delta1 = 0;) s
5 442 M
(                }) s
5 420 M
(                int delta2;) s
5 409 M
(                if \(b1Dual.getID\(\) < b1Dual_prev.getID\(\)\) {) s
5 398 M
(                    delta2 = -1;) s
5 387 M
(                }) s
5 376 M
(                else if \(b1Dual.getID\(\) > b1Dual_prev.getID\(\)\) {) s
5 365 M
(                    delta2 = +1;) s
5 354 M
(                }) s
5 343 M
(                else {) s
5 332 M
(                    delta2 = 0;) s
5 321 M
(                }) s
5 299 M
(                if \(delta1*delta2 != epsiepsi\) {) s
5 288 M
(                    String s = "The polarity of "+bs.toStringShort\(\)+" and its dual contradict the order of some of its bo) s
5 277 M
(undary equations.  ";) s
5 266 M
(                    log.reportEvidence\(s\);) s
5 255 M
(                    answer = true;) s
5 244 M
(                }) s
5 222 M
(                b1_prev = b1;) s
5 211 M
(                b1Dual_prev = b1Dual;) s
5 200 M
(            }) s
5 189 M
(        }) s
5 178 M
(        return answer;) s
5 167 M
(    }) s
5 145 M
(    private boolean test2\(GE geq, IDegeneracyTestLog log\) {) s
5 134 M
(        // MK: for a matched pair of bases...) s
5 123 M
(        boolean answer = false;) s
5 101 M
(        for \(Iterator it=geq.iteratorBases\(\); it.hasNext\(\);\) {) s
5 90 M
(            Base bs = \(Base\)it.next\(\);) s
5 79 M
(            if \(bs.isConstant\(\)\) continue;) s
5 57 M
(            Base bsDual = bs.getDual\(\);) s
5 35 M
(            if \(bs.getBegin\(\) == bsDual.getBegin\(\)\) {) s
5 24 M
(                Constraint c = bs.getConstraint\(\);) s
5 13 M
(                for \(Iterator itcon=c.iteratorBoundary\(\); itcon.hasNext\(\);\) {) s
5 2 M
(                    Boundary b1 = \(Boundary\)itcon.next\(\);) s
_R
S
%%Page: (3) 130
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/ge/GEDegeneracy_ConditionC.java) def
/fdir (src/ge/) def
/ftail (GEDegeneracy_ConditionC.java) def
% User defined strings:
/fmodstr (Thu Oct 20 13:27:26 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (GEDegeneracy_ConditionC.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                    Boundary b1Dual = c.getDual\(b1\);) s
5 486 M
(                    if \(b1.getID\(\) != b1Dual.getID\(\)\) {) s
5 475 M
(                        String s = "The "+bs.toStringShort\(\)+" is matched with its dual, yet their boundary equations do n) s
5 464 M
(ot align.  ";) s
5 453 M
(                        log.reportEvidence\(s\);) s
5 442 M
(                        answer = true;) s
5 431 M
(                    }) s
5 420 M
(                }) s
5 409 M
(            }) s
5 398 M
(        }) s
5 387 M
(        return answer;) s
5 376 M
(    }) s
5 365 M
(}) s
_R
S
%%Page: (1) 131
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/GEDegeneracy_ConditionD.java) def
/fdir (src/ge/) def
/ftail (GEDegeneracy_ConditionD.java) def
% User defined strings:
/fmodstr (Fri Oct 21 03:22:33 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (GEDegeneracy_ConditionD.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(import java.util.Iterator;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(class GEDegeneracy_ConditionD implements IGEDegeneracyCondition {) s
5 354 M
(    ) s
5 343 M
(    public boolean test\(GE geq, IDegeneracyTestLog log\) {) s
5 332 M
(        return test1\(geq, log\) || test2\(geq, log\);) s
5 321 M
(    }) s
5 310 M
(    ) s
5 299 M
(    private boolean test1\(GE geq, IDegeneracyTestLog log\) {) s
5 288 M
(        // two distinct constants cannot overlap) s
5 277 M
(        boolean answer = false;) s
5 255 M
(        for \(Iterator it=geq.iteratorBases\(\); it.hasNext\(\);\) {) s
5 244 M
(            Base bs = \(Base\)it.next\(\);) s
5 233 M
(            if \( ! bs.isConstant\(\)\) continue;) s
5 211 M
(            for \(Iterator it2=geq.iteratorBases\(\); it2.hasNext\(\);\) {) s
5 200 M
(                Base bs2 = \(Base\)it2.next\(\);) s
5 189 M
(                if \( ! bs2.isConstant\(\)\) continue;) s
5 167 M
(                Boundary bd = bs.getBegin\(\);) s
5 156 M
(                Boundary bd2 = bs2.getBegin\(\);) s
5 145 M
(                if \(bd != bd2\) continue;) s
5 123 M
(                if \(bs.getLabel\(\) == bs2.getLabel\(\)\)) s
5 112 M
(                    continue;) s
5 90 M
(                String s = "Two distinct constants appear at boundary "+bd+".  ";) s
5 79 M
(                log.reportEvidence\(s\);) s
5 68 M
(                answer = true;) s
5 57 M
(            }) s
5 46 M
(        }) s
5 35 M
(        return answer;) s
5 24 M
(    }) s
_R
S
%%Page: (2) 132
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/ge/GEDegeneracy_ConditionD.java) def
/fdir (src/ge/) def
/ftail (GEDegeneracy_ConditionD.java) def
% User defined strings:
/fmodstr (Fri Oct 21 03:22:33 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (GEDegeneracy_ConditionD.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    private boolean test2\(GE geq, IDegeneracyTestLog log\) {) s
5 497 M
(        // MK: a variable cannot occur in two distinct coefficient equations) s
5 486 M
(        boolean answer = false;) s
5 464 M
(        for \(Iterator vit=geq.iteratorBases\(\); vit.hasNext\(\);\) {) s
5 453 M
(            Base vbs = \(Base\)vit.next\(\);) s
5 442 M
(            if \(vbs.isConstant\(\)\) continue;) s
5 431 M
(            if \(vbs.isEmpty\(\)\) continue;) s
5 409 M
(            for \(Iterator cit=geq.iteratorBases\(\); cit.hasNext\(\);\) {) s
5 398 M
(                Base cbs = \(Base\)cit.next\(\);) s
5 387 M
(                if \( ! cbs.isConstant\(\)\) continue;) s
5 365 M
(                Boundary vbd = vbs.getBegin\(\);) s
5 354 M
(                Boundary cbd = cbs.getBegin\(\);) s
5 332 M
(                if \(vbd == cbd\) {) s
5 310 M
(                    Base vbs2 = \(Base\)vbs.getDual\(\);) s
5 288 M
(                    for \(Iterator cit2=geq.iteratorBases\(\); cit2.hasNext\(\);\) {) s
5 277 M
(                        Base cbs2 = \(Base\)cit2.next\(\);) s
5 266 M
(                        if \( ! cbs2.isConstant\(\)\) continue;) s
5 244 M
(                        Boundary vbd2 = vbs2.getBegin\(\);) s
5 233 M
(                        Boundary cbd2 = cbs2.getBegin\(\);) s
5 222 M
(                        Boundary vbd2end = vbs2.getEnd\(\);) s
5 211 M
(                        Boundary cbd2end = cbs2.getEnd\(\);) s
5 189 M
(                        if \(\(vbd2 == cbd\) && \(vbd2end == cbd2end\)\) {) s
5 178 M
(                            boolean pos = vbs.getLabel\(\).isPositive\(\);) s
5 167 M
(                            boolean posDual = vbs2.getLabel\(\).isPositive\(\);) s
5 156 M
(                            if \(\(pos && !posDual\) || \(!pos && posDual\)\) {) s
5 145 M
(                                if \(cbs.getLabel\(\) != cbs2.getLabel\(\).getInverse\(\)\) {) s
5 134 M
(                                    String s = "The base "+vbs.toStringShort\(\)+" appears equal to two distinct constants. ) s
5 123 M
( ";) s
5 112 M
(                                    log.reportEvidence\(s\);) s
5 101 M
(                                    answer = true;) s
5 90 M
(                                }) s
5 79 M
(                            }) s
5 68 M
(                            else {) s
5 57 M
(                                if \(cbs.getLabel\(\) != cbs2.getLabel\(\)\) {) s
5 46 M
(                                    String s = "The base "+vbs.toStringShort\(\)+" appears equal to two distinct constants. ) s
5 35 M
( ";) s
5 24 M
(                                    log.reportEvidence\(s\);) s
5 13 M
(                                    answer = true;) s
5 2 M
(                                }) s
_R
S
%%Page: (3) 133
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/ge/GEDegeneracy_ConditionD.java) def
/fdir (src/ge/) def
/ftail (GEDegeneracy_ConditionD.java) def
% User defined strings:
/fmodstr (Fri Oct 21 03:22:33 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (GEDegeneracy_ConditionD.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                            }) s
5 497 M
(                        }) s
5 486 M
(                    }) s
5 464 M
(                }) s
5 453 M
(            }) s
5 442 M
(        }) s
5 431 M
(        return answer;) s
5 420 M
(    }) s
5 409 M
(}) s
_R
S
%%Page: (1) 134
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/GEDegeneracy_ConditionE.java) def
/fdir (src/ge/) def
/ftail (GEDegeneracy_ConditionE.java) def
% User defined strings:
/fmodstr (Thu Oct 20 23:07:28 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (GEDegeneracy_ConditionE.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(import java.util.Iterator;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(class GEDegeneracy_ConditionE implements IGEDegeneracyCondition {) s
5 354 M
(    ) s
5 343 M
(    public boolean test\(GE geq, IDegeneracyTestLog log\) {) s
5 332 M
(        // MK: if h_i is a variable from some coefficient equation...) s
5 321 M
(        boolean answer = false;) s
5 299 M
(        for \(Iterator it2=geq.iteratorBases\(\); it2.hasNext\(\);\) {) s
5 288 M
(            Base cbs = \(Base\)it2.next\(\);) s
5 277 M
(            if \( ! cbs.isConstant\(\)\) continue;) s
5 255 M
(            Boundary cbd1 = cbs.getBegin\(\);) s
5 244 M
(            Boundary cbd2 = cbs.getEnd\(\);) s
5 222 M
(            for \(Iterator itA=geq.iteratorBases\(\); itA.hasNext\(\);\) {) s
5 211 M
(                Base bsA = \(Base\)itA.next\(\);) s
5 200 M
(                if \(bsA.isConstant\(\)\) continue;) s
5 189 M
(                Constraint consA=bsA.getConstraint\(\);) s
5 167 M
(                Boundary x1 = null;) s
5 156 M
(                Boundary x2 = null;) s
5 145 M
(                for \(Iterator iterA=consA.iteratorBoundary\(\); iterA.hasNext\(\);\) {) s
5 134 M
(                    Boundary bA = \(Boundary\)iterA.next\(\);) s
5 123 M
(                    if \(bA.getID\(\) == cbd1.getID\(\)\) {) s
5 112 M
(                        if \(x1 != null\) {) s
5 101 M
(                            throw new RuntimeException\("GEDegeneracy_ConditionE.test: duplicate constraint"\);) s
5 90 M
(                        }) s
5 79 M
(                        x1 = bA;) s
5 68 M
(                    }) s
5 57 M
(                    if \(bA.getID\(\) == cbd2.getID\(\)\) {) s
5 46 M
(                        if \(x2 != null\) {) s
5 35 M
(                            throw new RuntimeException\("GEDegeneracy_ConditionE.test: duplicate constraint"\);) s
5 24 M
(                        }) s
5 13 M
(                        x2 = bA;) s
5 2 M
(                    }) s
_R
S
%%Page: (2) 135
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/ge/GEDegeneracy_ConditionE.java) def
/fdir (src/ge/) def
/ftail (GEDegeneracy_ConditionE.java) def
% User defined strings:
/fmodstr (Thu Oct 20 23:07:28 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (GEDegeneracy_ConditionE.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                }) s
5 486 M
(                if \(x1!=null && x2!=null\) {) s
5 475 M
(                    Boundary y1 = consA.getDual\(x1\);) s
5 464 M
(                    Boundary y2 = consA.getDual\(x2\);) s
5 453 M
(                    int diff = Math.abs\(y1.getID\(\) - y2.getID\(\)\);) s
5 442 M
(                    if \(diff != 1\) {) s
5 431 M
(                        String s = "The base "+bsA.toStringShort\(\)+" has constraints with its dual that stretch the consta) s
5 420 M
(nt segment "+x1+" - "+x2+" to length different from 1.  ";) s
5 409 M
(                        log.reportEvidence\(s\);) s
5 398 M
(                        answer = true;) s
5 387 M
(                    }) s
5 376 M
(                }) s
5 365 M
(            }) s
5 354 M
(        }) s
5 332 M
(        return answer;) s
5 321 M
(    }) s
5 310 M
(}) s
_R
S
%%Page: (1) 136
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/GEFactory.java) def
/fdir (src/ge/) def
/ftail (GEFactory.java) def
% User defined strings:
/fmodstr (Thu Oct 13 01:50:45 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (GEFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(import equation.QuadraticSystem;) s
5 420 M
(import cancellation.Diagram;) s
5 409 M
(import cancellation.LabeledPath;) s
5 398 M
(import cancellation.Path;) s
5 387 M
(import cancellation.Edge;) s
5 376 M
(import letter.LetterFactory;) s
5 365 M
(import letter.Letter;) s
5 354 M
(import letter.Constant;) s
5 343 M
(import letter.Variable;) s
5 332 M
(import java.util.Iterator;) s
5 321 M
(import java.util.HashMap;) s
5 310 M
(import java.util.HashSet;) s
5 288 M
(/**) s
5 277 M
( *) s
5 266 M
( * @author grouptheory) s
5 255 M
( */) s
5 244 M
(public class GEFactory {) s
5 222 M
(    private static GEFactory _instance;) s
5 200 M
(    private GEFactory\(\) {) s
5 189 M
(    }) s
5 167 M
(    public static GEFactory instance\(\) {) s
5 156 M
(        if \(_instance == null\) {) s
5 145 M
(            _instance = new GEFactory\(\);) s
5 134 M
(        }) s
5 123 M
(        return _instance;) s
5 112 M
(    }) s
5 90 M
(    public GE newGE\(Diagram d, QuadraticSystem qs\) {) s
5 68 M
(        GE ge = new GE\(\);) s
5 57 M
(        Boundary last=ge.getFirstBoundary\(\);) s
5 35 M
(        int counter=0;) s
5 24 M
(        HashMap lp2begin = new HashMap\(\);) s
5 13 M
(        HashMap lp2end = new HashMap\(\);) s
5 2 M
(        ) s
_R
S
%%Page: (2) 137
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/ge/GEFactory.java) def
/fdir (src/ge/) def
/ftail (GEFactory.java) def
% User defined strings:
/fmodstr (Thu Oct 13 01:50:45 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (GEFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        for \(Iterator it = d.iteratorLabeledPaths\(\); it.hasNext\(\);\) {) s
5 497 M
(           ) s
5 486 M
(            LabeledPath lp = \(LabeledPath\)it.next\(\);) s
5 464 M
(            int beginIndex=counter;) s
5 453 M
(            lp2begin.put\(lp,new Integer\(beginIndex\)\);) s
5 431 M
(            Path p = lp.getPath\(\);) s
5 420 M
(            int len = p.length\(\);) s
5 409 M
(            for \(int i=0; i<len;i++\) {) s
5 398 M
(                ge.appendNewBoundary\(\);) s
5 387 M
(            }) s
5 365 M
(            counter +=len;) s
5 354 M
(            ) s
5 343 M
(            int endIndex=beginIndex+len;) s
5 332 M
(            lp2end.put\(lp,new Integer\(endIndex\)\);) s
5 321 M
(        }) s
5 299 M
(        HashSet vars = new HashSet\(\);) s
5 277 M
(        for \(Iterator it = d.iteratorLabeledPaths\(\); it.hasNext\(\);\) {) s
5 266 M
(            LabeledPath lp = \(LabeledPath\)it.next\(\);) s
5 255 M
(            Letter let = lp.getLabel\(\);) s
5 244 M
(            Path p = lp.getPath\(\);) s
5 233 M
(            int len = p.length\(\);) s
5 211 M
(            int beginIndex=\(\(Integer\)lp2begin.get\(lp\)\).intValue\(\);) s
5 200 M
(            int endIndex=\(\(Integer\)lp2end.get\(lp\)\).intValue\(\);) s
5 189 M
(            Boundary begin = ge.getNthBoundary\(beginIndex\);) s
5 178 M
(            Boundary end = ge.getNthBoundary\(endIndex\);) s
5 167 M
(            ) s
5 156 M
(            if \(let.isConstant\(\)\) {) s
5 145 M
(                if \(endIndex-beginIndex != 1\) {) s
5 134 M
(                    throw new RuntimeException\("GEFactory.newGE: diagram contains constant base w/ length != 1"\);) s
5 123 M
(                }) s
5 112 M
(                ge.addNewConstantBase\(begin, \(Constant\)let\);) s
5 101 M
(            }) s
5 90 M
(            else {) s
5 79 M
(                vars.add\(let\);) s
5 68 M
(                ) s
5 57 M
(                if \(endIndex-beginIndex <= 0\) {) s
5 46 M
(                    throw new RuntimeException\("GEFactory.newGE: diagram contains variable base w/ length <= 0"\);) s
5 35 M
(                }) s
5 13 M
(                LabeledPath lp2 = d.getDual\(lp\);) s
_R
S
%%Page: (3) 138
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/ge/GEFactory.java) def
/fdir (src/ge/) def
/ftail (GEFactory.java) def
% User defined strings:
/fmodstr (Thu Oct 13 01:50:45 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (GEFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                Letter let2;) s
5 497 M
(                boolean swap = false;) s
5 486 M
(                boolean forced = false;) s
5 464 M
(                if \(lp2 == null\) {) s
5 453 M
(                    HashMap lut = qs.getEquivalences\(\);) s
5 442 M
(                    Letter equiv = \(Letter\)lut.get\(let\);) s
5 431 M
(                    if \(equiv==null\) {) s
5 420 M
(                        equiv = \(Letter\)lut.get\(let.getInverse\(\)\);) s
5 409 M
(                        equiv = equiv.getInverse\(\);) s
5 398 M
(                    }) s
5 387 M
(                    ) s
5 376 M
(                    if \(equiv==null\) {) s
5 365 M
(                        throw new RuntimeException\("GEFactory.newGE: diagram contains variable of degree 1"\);) s
5 354 M
(                    }) s
5 343 M
(                    else {) s
5 332 M
(                        // System.out.println\("letter "+let+" == "+equiv\);) s
5 310 M
(                        Variable v = \(Variable\)equiv;) s
5 299 M
(                        lp2 = d.getVariablePath\(v\);) s
5 288 M
(                        let2 = lp2.getLabel\(\);) s
5 266 M
(                        if \(lp2 == null\) {) s
5 255 M
(                            throw new RuntimeException\("GEFactory.newGE: unable to make a variable base"\);) s
5 244 M
(                        }) s
5 222 M
(                        if \(let2 == equiv.getInverse\(\)\) {) s
5 211 M
(                            swap = true;) s
5 200 M
(                        }) s
5 189 M
(                        forced = true;) s
5 178 M
(                    }) s
5 167 M
(                }) s
5 156 M
(                else {) s
5 145 M
(                    let2 = lp2.getLabel\(\);) s
5 123 M
(                    if \(let2 == let.getInverse\(\)\) {) s
5 112 M
(                        swap = true;) s
5 101 M
(                    }) s
5 90 M
(                    forced = false;) s
5 79 M
(                }) s
5 57 M
(                int beginIndex2=\(\(Integer\)lp2begin.get\(lp2\)\).intValue\(\);) s
5 46 M
(                int endIndex2=\(\(Integer\)lp2end.get\(lp2\)\).intValue\(\);) s
5 35 M
(                Boundary begin2 = ge.getNthBoundary\(beginIndex2\);) s
5 24 M
(                Boundary end2 = ge.getNthBoundary\(endIndex2\);) s
5 2 M
(                if \(endIndex2-beginIndex2 <= 0\) {) s
_R
S
%%Page: (4) 139
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 4 def
/fname (src/ge/GEFactory.java) def
/fdir (src/ge/) def
/ftail (GEFactory.java) def
% User defined strings:
/fmodstr (Thu Oct 13 01:50:45 2011) def
/pagenumstr (4) def
/user_header_p true def
/user_header_left_str (GEFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 4 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                    throw new RuntimeException\("GEFactory.newGE: diagram contains variable base w/ dual of length <= 0"\);) s
5 497 M
(                }) s
5 475 M
(                if \(swap\) {) s
5 464 M
(                    Boundary swapBdy = begin2;) s
5 453 M
(                    begin2 = end2;) s
5 442 M
(                    end2 = swapBdy;) s
5 431 M
(                }) s
5 409 M
(                if \(forced || \(lp.hashCode\(\) < lp2.hashCode\(\)\)\) {) s
5 398 M
(                    ge.addNewVariableBase\(begin, end, \(Variable\)let, begin2, end2\);) s
5 387 M
(                }) s
5 376 M
(            }) s
5 365 M
(        }) s
5 332 M
(        for \(Iterator it = d.iteratorEdges\(\); it.hasNext\(\);\) {) s
5 321 M
(            Edge e = \(Edge\)it.next\(\);) s
5 310 M
(            LabeledPath[] lpArray = d.getPaths\(e\);) s
5 288 M
(            // System.out.println\("Considering edge "+e\);) s
5 266 M
(            LabeledPath lp1 = lpArray[0];) s
5 255 M
(            LabeledPath lp2 = lpArray[1];) s
5 233 M
(            // System.out.println\("p1: "+lp1\);) s
5 222 M
(            // System.out.println\("p2 "+lp2\);) s
5 200 M
(            int offset1 = lp1.getEdgeIndex\(e\);) s
5 189 M
(            int offset2 = lp2.getEdgeIndex\(e\);) s
5 178 M
(            offset1 = lp1.length\(\) - offset1 - 1;) s
5 167 M
(            offset2 = lp2.length\(\) - offset2 - 1;) s
5 145 M
(            // System.out.println\("offset1: "+offset1\);) s
5 134 M
(            // System.out.println\("offset2 "+offset2\);) s
5 112 M
(            int beginIndex=offset1+\(\(Integer\)lp2begin.get\(lp1\)\).intValue\(\);) s
5 101 M
(            int endIndex=beginIndex+1;) s
5 79 M
(            // System.out.println\("beginIndex: "+beginIndex\);) s
5 57 M
(            Boundary begin = ge.getNthBoundary\(beginIndex\);) s
5 46 M
(            Boundary end = ge.getNthBoundary\(endIndex\);) s
5 24 M
(            int beginIndex2=offset2+\(\(Integer\)lp2begin.get\(lp2\)\).intValue\(\);) s
5 13 M
(            int endIndex2=beginIndex2+1;) s
_R
S
%%Page: (5) 140
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 5 def
/fname (src/ge/GEFactory.java) def
/fdir (src/ge/) def
/ftail (GEFactory.java) def
% User defined strings:
/fmodstr (Thu Oct 13 01:50:45 2011) def
/pagenumstr (5) def
/user_header_p true def
/user_header_left_str (GEFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 5 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            // System.out.println\("beginIndex2: "+beginIndex2\);) s
5 486 M
(            Boundary begin2 = ge.getNthBoundary\(beginIndex2\);) s
5 475 M
(            Boundary end2 = ge.getNthBoundary\(endIndex2\);) s
5 453 M
(            Variable mu = LetterFactory.instance\(\).newUnusedVariable\(vars, 100, Boolean.TRUE\);) s
5 442 M
(            ge.addNewVariableBase\(begin, end, \(Variable\)mu, end2, begin2\);) s
5 431 M
(            vars.add\(mu\);) s
5 420 M
(        }) s
5 409 M
(        ) s
5 398 M
(        return ge;) s
5 387 M
(    }) s
5 376 M
(}) s
_R
S
%%Page: (1) 141
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/GETask_BoundaryInsertion.java) def
/fdir (src/ge/) def
/ftail (GETask_BoundaryInsertion.java) def
% User defined strings:
/fmodstr (Thu Oct 20 03:18:28 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (GETask_BoundaryInsertion.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public class GETask_BoundaryInsertion implements IGETask {) s
5 376 M
(    private Boundary _bd;) s
5 365 M
(    private boolean _after;) s
5 354 M
(    private Boundary _newbd;) s
5 343 M
(    private GE _geq;) s
5 332 M
(    private String _msg;) s
5 310 M
(    public GETask_BoundaryInsertion\(Boundary bd, boolean after, GE geq\) {) s
5 299 M
(        if \(bd==null\) {) s
5 288 M
(            throw new RuntimeException\("GETask_BoundaryInsertion.ctor: bd == null"\);) s
5 277 M
(        }) s
5 266 M
(        ) s
5 255 M
(        _bd = bd;) s
5 244 M
(        _after = after;) s
5 233 M
(        _geq = geq;) s
5 222 M
(        _msg = null;) s
5 211 M
(    }) s
5 189 M
(    public void execute\(\) {) s
5 178 M
(        if \(_after\) {) s
5 167 M
(            _newbd = _geq.insertNewBoundaryAfter\(_bd\);) s
5 156 M
(        }) s
5 145 M
(        else {) s
5 134 M
(            _newbd = _geq.insertNewBoundaryBefore\(_bd\);) s
5 123 M
(        }) s
5 112 M
(        _msg = log\(\);) s
5 101 M
(        // System.out.println\("executing: "+_msg\);) s
5 90 M
(    }) s
5 68 M
(    public Boundary getNewBoundary\(\) {) s
5 57 M
(        return _newbd;) s
5 46 M
(    }) s
5 24 M
(    public String toString\(\) {) s
5 13 M
(        return _msg;) s
5 2 M
(    }) s
_R
S
%%Page: (2) 142
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/ge/GETask_BoundaryInsertion.java) def
/fdir (src/ge/) def
/ftail (GETask_BoundaryInsertion.java) def
% User defined strings:
/fmodstr (Thu Oct 20 03:18:28 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (GETask_BoundaryInsertion.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    ) s
5 497 M
(    private String log\(\) {) s
5 486 M
(        String s="";) s
5 475 M
(        s += "Added \(new\) boundary "+_newbd+".";) s
5 464 M
(        return s;) s
5 453 M
(    }) s
5 442 M
(}) s
_R
S
%%Page: (1) 143
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/GETask_CollapseBase.java) def
/fdir (src/ge/) def
/ftail (GETask_CollapseBase.java) def
% User defined strings:
/fmodstr (Thu Oct 20 22:18:00 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (GETask_CollapseBase.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public class GETask_CollapseBase implements IGETask {) s
5 365 M
(    private Base _bs;) s
5 354 M
(    private GE _geq;) s
5 343 M
(    private String _msg;) s
5 321 M
(    public GETask_CollapseBase\(Base bs, GE geq\) {) s
5 310 M
(        if \(bs==null\) {) s
5 299 M
(            throw new RuntimeException\("GETask_CollapseBase.ctor: bs == null"\);) s
5 288 M
(        }) s
5 266 M
(        if \(bs.getLabel\(\).isConstant\(\)\) {) s
5 255 M
(            throw new RuntimeException\("GETask_CollapseBase.ctor: bs == constant"\);) s
5 244 M
(        }) s
5 222 M
(        Base dual = bs.getDual\(\);) s
5 200 M
(        if \(!dual.isEmpty\(\) &&) s
5 189 M
(           \(\(bs.getBegin\(\) != dual.getBegin\(\)\) ||) s
5 178 M
(            \(bs.getEnd\(\) != dual.getEnd\(\)\) ||) s
5 167 M
(            \(bs.getLabel\(\) != dual.getLabel\(\)\)\)\) {) s
5 156 M
(            throw new RuntimeException\("GETask_CollapseBase.ctor: bs not collapsible"\);) s
5 145 M
(        }) s
5 123 M
(        _bs = bs;) s
5 112 M
(        _geq = geq;) s
5 101 M
(        _msg = log\(\);) s
5 90 M
(    }) s
5 68 M
(    public void execute\(\) {) s
5 57 M
(        // System.out.println\("executing: "+_msg\);) s
5 46 M
(        _geq.collapseBase\(_bs\);) s
5 35 M
(    }) s
5 13 M
(    public String toString\(\) {) s
5 2 M
(        return _msg;) s
_R
S
%%Page: (2) 144
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/ge/GETask_CollapseBase.java) def
/fdir (src/ge/) def
/ftail (GETask_CollapseBase.java) def
% User defined strings:
/fmodstr (Thu Oct 20 22:18:00 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (GETask_CollapseBase.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    }) s
5 486 M
(    private String log\(\) {) s
5 475 M
(        String s="";) s
5 464 M
(        s += "Collapsed \(new\) base "+_bs.toStringShort\(\)+" to the empty base \("+_bs.getEnd\(\)+","+_bs.getEnd\(\)+"\).\\n";) s
5 453 M
(        return s;) s
5 442 M
(    }) s
5 431 M
(}) s
_R
S
%%Page: (1) 145
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/GETask_ConstraintAddition.java) def
/fdir (src/ge/) def
/ftail (GETask_ConstraintAddition.java) def
% User defined strings:
/fmodstr (Thu Oct 20 13:34:11 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (GETask_ConstraintAddition.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public class GETask_ConstraintAddition implements IGETask {) s
5 376 M
(    private Base _bs;) s
5 365 M
(    private Boundary _bd;) s
5 354 M
(    private Boundary _bd_dual;) s
5 343 M
(    private GE _geq;) s
5 332 M
(    private String _msg;) s
5 310 M
(    public GETask_ConstraintAddition\(Base bs, Boundary bd, Boundary bd_dual, GE geq\) {) s
5 299 M
(        if \(bs==null\) {) s
5 288 M
(            throw new RuntimeException\("GETask_ConstraintAddition.ctor: bs == null"\);) s
5 277 M
(        }) s
5 266 M
(        if \(bd==null\) {) s
5 255 M
(            throw new RuntimeException\("GETask_ConstraintAddition.ctor: bd == null"\);) s
5 244 M
(        }) s
5 233 M
(        if \(bd_dual==null\) {) s
5 222 M
(            throw new RuntimeException\("GETask_ConstraintAddition.ctor: bd_dual == null"\);) s
5 211 M
(        }) s
5 189 M
(        _bs = bs;) s
5 178 M
(        _bd = bd;) s
5 167 M
(        _bd_dual = bd_dual;) s
5 156 M
(        _geq = geq;) s
5 145 M
(        _msg = null;) s
5 134 M
(    }) s
5 112 M
(    public void execute\(\) {) s
5 101 M
(        // System.out.println\("executing: "+log\(\)\);) s
5 90 M
(        _geq.addNewConstraint\(_bs, _bd, _bd_dual\);) s
5 79 M
(        _msg = log\(\);) s
5 68 M
(    }) s
5 46 M
(    public String toString\(\) {) s
5 35 M
(        return _msg;) s
5 24 M
(    }) s
5 2 M
(    private String log\(\) {) s
_R
S
%%Page: (2) 146
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/ge/GETask_ConstraintAddition.java) def
/fdir (src/ge/) def
/ftail (GETask_ConstraintAddition.java) def
% User defined strings:
/fmodstr (Thu Oct 20 13:34:11 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (GETask_ConstraintAddition.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        String s="";) s
5 497 M
(        s += "Added constraint between boundary "+_bd+" in \(new\) base "+_bs.toStringShort\(\)+" and boundary "+_bd_dual+" in) s
5 486 M
( its dual.";) s
5 475 M
(        return s;) s
5 464 M
(    }) s
5 453 M
(}) s
_R
S
%%Page: (1) 147
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/GETask_ConstraintDeletion.java) def
/fdir (src/ge/) def
/ftail (GETask_ConstraintDeletion.java) def
% User defined strings:
/fmodstr (Fri Oct 21 02:22:07 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (GETask_ConstraintDeletion.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public class GETask_ConstraintDeletion implements IGETask {) s
5 376 M
(    private Base _bs;) s
5 365 M
(    private Boundary _bd;) s
5 354 M
(    private Boundary _bd_dual;) s
5 343 M
(    private GE _geq;) s
5 332 M
(    private String _msg;) s
5 321 M
(    private Boundary _cr;) s
5 310 M
(    private Boundary _cr_tr;) s
5 277 M
(    public GETask_ConstraintDeletion\(Base bs, Boundary bd, Boundary bd_dual, GE geq\) {) s
5 266 M
(        this\(bs, bd, bd_dual, geq, null, null\);) s
5 255 M
(    }) s
5 233 M
(    public GETask_ConstraintDeletion\(Base bs, Boundary bd, Boundary bd_dual, GE geq,) s
5 222 M
(           Boundary cr, Boundary cr_tr\) {) s
5 211 M
(        if \(bs==null\) {) s
5 200 M
(            throw new RuntimeException\("GETask_ConstraintDeletion.ctor: bs == null"\);) s
5 189 M
(        }) s
5 178 M
(        if \(bd==null\) {) s
5 167 M
(            throw new RuntimeException\("GETask_ConstraintDeletion.ctor: bd == null"\);) s
5 156 M
(        }) s
5 145 M
(        if \(bd_dual==null\) {) s
5 134 M
(            throw new RuntimeException\("GETask_ConstraintDeletion.ctor: bd_dual == null"\);) s
5 123 M
(        }) s
5 112 M
(        ) s
5 101 M
(        _bs = bs;) s
5 90 M
(        _bd = bd;) s
5 79 M
(        _bd_dual = bd_dual;) s
5 68 M
(        _geq = geq;) s
5 57 M
(        _cr = cr;) s
5 46 M
(        _cr_tr = cr_tr;) s
5 35 M
(        ) s
5 24 M
(        _msg = log\(\);) s
5 13 M
(    }) s
_R
S
%%Page: (2) 148
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/ge/GETask_ConstraintDeletion.java) def
/fdir (src/ge/) def
/ftail (GETask_ConstraintDeletion.java) def
% User defined strings:
/fmodstr (Fri Oct 21 02:22:07 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (GETask_ConstraintDeletion.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    public void execute\(\) {) s
5 497 M
(        // System.out.println\("executing: "+_msg\);) s
5 486 M
(        _geq.removeConstraint\(_bs, _bd, _bd_dual, _cr, _cr_tr\);) s
5 475 M
(    }) s
5 453 M
(    public String toString\(\) {) s
5 442 M
(        return _msg;) s
5 431 M
(    }) s
5 420 M
(    ) s
5 409 M
(    private String log\(\) {) s
5 398 M
(        String s="";) s
5 387 M
(        s += "Deleted constraint between boundary "+_bd+" in \(old\) base "+_bs.toStringShort\(\)+" and boundary "+_bd_dual+" ) s
5 376 M
(in its dual.";) s
5 365 M
(        return s;) s
5 354 M
(    }) s
5 343 M
(}) s
_R
S
%%Page: (1) 149
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/GETask_DeleteBase.java) def
/fdir (src/ge/) def
/ftail (GETask_DeleteBase.java) def
% User defined strings:
/fmodstr (Thu Oct 20 22:17:47 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (GETask_DeleteBase.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public class GETask_DeleteBase implements IGETask {) s
5 365 M
(    private Base _bs;) s
5 354 M
(    private GE _geq;) s
5 343 M
(    private String _msg;) s
5 321 M
(    public GETask_DeleteBase\(Base bs, GE geq\) {) s
5 310 M
(        if \(bs==null\) {) s
5 299 M
(            throw new RuntimeException\("GETask_DeleteBase.ctor: bs == null"\);) s
5 288 M
(        }) s
5 277 M
(        _bs = bs;) s
5 266 M
(        _geq = geq;) s
5 255 M
(        _msg = log\(\);) s
5 244 M
(    }) s
5 222 M
(    public void execute\(\) {) s
5 211 M
(        // System.out.println\("executing: "+_msg\);) s
5 200 M
(        _geq.removeBase\(_bs\);) s
5 189 M
(    }) s
5 167 M
(    public String toString\(\) {) s
5 156 M
(        return _msg;) s
5 145 M
(    }) s
5 123 M
(    private String log\(\) {) s
5 112 M
(        String s="";) s
5 101 M
(        s += "Deleted \(new\) base "+_bs.toStringShort\(\)+" because it begins to the left of the critical boundary.\\n";) s
5 90 M
(        return s;) s
5 79 M
(    }) s
5 68 M
(}) s
_R
S
%%Page: (1) 150
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/GETask_DeleteBoundary.java) def
/fdir (src/ge/) def
/ftail (GETask_DeleteBoundary.java) def
% User defined strings:
/fmodstr (Thu Oct 20 22:17:41 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (GETask_DeleteBoundary.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public class GETask_DeleteBoundary implements IGETask {) s
5 365 M
(    private Boundary _bd;) s
5 354 M
(    private GE _geq;) s
5 343 M
(    private String _msg;) s
5 321 M
(    public GETask_DeleteBoundary\(Boundary bd, GE geq\) {) s
5 310 M
(        if \(bd==null\) {) s
5 299 M
(            throw new RuntimeException\("GETask_DeleteBoundary.ctor: bd == null"\);) s
5 288 M
(        }) s
5 277 M
(        _bd = bd;) s
5 266 M
(        _geq = geq;) s
5 255 M
(        _msg = log\(\);) s
5 244 M
(    }) s
5 222 M
(    public void execute\(\) {) s
5 211 M
(        // System.out.println\("executing: "+_msg\);) s
5 200 M
(        _geq.removeBoundary\(_bd\);) s
5 189 M
(    }) s
5 167 M
(    public String toString\(\) {) s
5 156 M
(        return _msg;) s
5 145 M
(    }) s
5 123 M
(    private String log\(\) {) s
5 112 M
(        String s="";) s
5 101 M
(        s += "Deleted \(new\) boundary "+_bd+" because it is not used inside any base.  This will cause renumbering of highe) s
5 90 M
(r numbered boundaries.\\n";) s
5 79 M
(        return s;) s
5 68 M
(    }) s
5 57 M
(}) s
_R
S
%%Page: (1) 151
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/GETask_MoveBase.java) def
/fdir (src/ge/) def
/ftail (GETask_MoveBase.java) def
% User defined strings:
/fmodstr (Thu Oct 20 13:36:11 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (GETask_MoveBase.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public class GETask_MoveBase implements IGETask {) s
5 376 M
(    private Base _bs;) s
5 365 M
(    private Boundary _begin;) s
5 354 M
(    private Boundary _end;) s
5 343 M
(    private GE _geq;) s
5 332 M
(    private String _msg;) s
5 310 M
(    public GETask_MoveBase\(Base bs, Boundary begin, Boundary end, GE geq\) {) s
5 299 M
(        if \(begin==null\) {) s
5 288 M
(            throw new RuntimeException\("GETask_MoveBase.ctor: begin == null"\);) s
5 277 M
(        }) s
5 266 M
(        if \(end==null\) {) s
5 255 M
(            throw new RuntimeException\("GETask_MoveBase.ctor: end == null"\);) s
5 244 M
(        }) s
5 233 M
(        if \(bs==null\) {) s
5 222 M
(            throw new RuntimeException\("GETask_MoveBase.ctor: bs == null"\);) s
5 211 M
(        }) s
5 189 M
(        _bs = bs;) s
5 178 M
(        _begin = begin;) s
5 167 M
(        _end = end;) s
5 156 M
(        _geq = geq;) s
5 145 M
(        _msg = log1\(\);) s
5 134 M
(    }) s
5 112 M
(    public void execute\(\) {) s
5 101 M
(        // System.out.println\("executing: "+_msg\);) s
5 90 M
(        _bs.move\(_begin, _end\);) s
5 79 M
(        _msg += log2\(\);) s
5 68 M
(    }) s
5 46 M
(    public String toString\(\) {) s
5 35 M
(        return _msg;) s
5 24 M
(    }) s
5 2 M
(    private String log1\(\) {) s
_R
S
%%Page: (2) 152
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/ge/GETask_MoveBase.java) def
/fdir (src/ge/) def
/ftail (GETask_MoveBase.java) def
% User defined strings:
/fmodstr (Thu Oct 20 13:36:11 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (GETask_MoveBase.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        String s="";) s
5 497 M
(        s += "Moved \(old\) base "+_bs.toStringShort\(\)+"";) s
5 486 M
(        return s;) s
5 475 M
(    }) s
5 453 M
(    private String log2\(\) {) s
5 442 M
(        String s="";) s
5 431 M
(        s += " to \(new\) boundaries "+_begin+" - "+_end+".";) s
5 420 M
(        return s;) s
5 409 M
(    }) s
5 398 M
(}) s
_R
S
%%Page: (1) 153
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/GETrivialityTester.java) def
/fdir (src/ge/) def
/ftail (GETrivialityTester.java) def
% User defined strings:
/fmodstr (Thu Oct 20 16:20:09 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (GETrivialityTester.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(import java.util.LinkedList;) s
5 420 M
(import java.util.Iterator;) s
5 398 M
(/**) s
5 387 M
( *) s
5 376 M
( * @author grouptheory) s
5 365 M
( */) s
5 354 M
(public class GETrivialityTester {) s
5 332 M
(    class Evidence {) s
5 321 M
(        private String _s;) s
5 299 M
(        Evidence\(String s\) {) s
5 288 M
(            _s = s;) s
5 277 M
(        }) s
5 255 M
(        public String toString\(\) {) s
5 244 M
(            return _s;) s
5 233 M
(        }) s
5 222 M
(    }) s
5 200 M
(    private LinkedList _evidence;) s
5 178 M
(    public void reportEvidence\(String s\) {) s
5 167 M
(        _evidence.addLast\(new Evidence\(s\)\);) s
5 156 M
(    }) s
5 145 M
(    ) s
5 134 M
(    private boolean _isTrivial;) s
5 112 M
(    public GETrivialityTester\(GE geq\) {) s
5 101 M
(        _evidence = new LinkedList\(\);) s
5 90 M
(        _isTrivial = compute\(geq\);) s
5 79 M
(    }) s
5 57 M
(    public boolean isTrivial\(\) {) s
5 46 M
(        return _isTrivial;) s
5 35 M
(    }) s
5 13 M
(    private boolean compute\(GE geq\) {) s
5 2 M
(        boolean answer = true;) s
_R
S
%%Page: (2) 154
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/ge/GETrivialityTester.java) def
/fdir (src/ge/) def
/ftail (GETrivialityTester.java) def
% User defined strings:
/fmodstr (Thu Oct 20 16:20:09 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (GETrivialityTester.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        for \(Iterator it = geq.iteratorBases\(\); it.hasNext\(\);\) {) s
5 497 M
(            Base bs = \(Base\)it.next\(\);) s
5 486 M
(            if \(bs.getLabel\(\).isConstant\(\)\) continue;) s
5 475 M
(            if \( ! bs.isEmpty\(\)\) {) s
5 464 M
(                reportEvidence\("Variable base "+bs.toStringShort\(\)+" is not empty.  "\);) s
5 453 M
(                answer = false;) s
5 442 M
(            }) s
5 431 M
(        }) s
5 420 M
(        return answer;) s
5 409 M
(    }) s
5 387 M
(    public String toString\(\) {) s
5 376 M
(        String s="";) s
5 365 M
(        for \(Iterator it = _evidence.iterator\(\); it.hasNext\(\);\) {) s
5 354 M
(            Evidence ev=\(Evidence\)it.next\(\);) s
5 343 M
(            s+=\(""+ev\);) s
5 332 M
(        }) s
5 321 M
(        return s;) s
5 310 M
(    }) s
5 299 M
(}) s
_R
S
%%Page: (1) 155
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/IDegeneracyTestLog.java) def
/fdir (src/ge/) def
/ftail (IDegeneracyTestLog.java) def
% User defined strings:
/fmodstr (Thu Oct 20 13:05:53 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (IDegeneracyTestLog.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public interface IDegeneracyTestLog {) s
5 376 M
(    void reportEvidence\(String s\);) s
5 365 M
(}) s
_R
S
%%Page: (1) 156
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/IGEDegeneracyCondition.java) def
/fdir (src/ge/) def
/ftail (IGEDegeneracyCondition.java) def
% User defined strings:
/fmodstr (Thu Oct 20 13:06:14 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (IGEDegeneracyCondition.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(interface IGEDegeneracyCondition {) s
5 376 M
(    boolean test\(GE geq, IDegeneracyTestLog log\);) s
5 365 M
(}) s
_R
S
%%Page: (1) 157
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/IGETask.java) def
/fdir (src/ge/) def
/ftail (IGETask.java) def
% User defined strings:
/fmodstr (Wed Oct 19 21:59:18 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (IGETask.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public interface IGETask {) s
5 376 M
(    void execute\(\);) s
5 365 M
(}) s
_R
S
%%Page: (1) 158
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/Latex.java) def
/fdir (src/ge/) def
/ftail (Latex.java) def
% User defined strings:
/fmodstr (Thu Oct 20 23:54:37 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Latex.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(import java.util.TreeMap;) s
5 420 M
(import java.util.HashMap;) s
5 409 M
(import java.util.Iterator;) s
5 398 M
(import java.util.LinkedList;) s
5 387 M
(import letter.Letter;) s
5 376 M
(import letter.Constant;) s
5 365 M
(import letter.Variable;) s
5 343 M
(/**) s
5 332 M
( *) s
5 321 M
( * @author grouptheory) s
5 310 M
( */) s
5 299 M
(public class Latex {) s
5 277 M
(    private static Latex _instance;) s
5 255 M
(    private Latex\(\) {) s
5 244 M
(    }) s
5 222 M
(    public static Latex instance\(\) {) s
5 211 M
(        if \(_instance == null\) {) s
5 200 M
(            _instance = new Latex\(\);) s
5 189 M
(        }) s
5 178 M
(        return _instance;) s
5 167 M
(    }) s
5 145 M
(    public String renderGEasText\(GE ge\) {) s
5 134 M
(        String s = "";) s
5 123 M
(        s+="\\\\begin{verbatim}\\n";) s
5 112 M
(        s+=ge.toString\(\)+"\\n";) s
5 101 M
(        s+="\\\\end{verbatim}\\n";) s
5 90 M
(        return s;) s
5 79 M
(    }) s
5 57 M
(    public String renderGEasGraphics\(GE ge\) {) s
5 46 M
(        int numBD = ge.getNumberOfBoundaries\(\);) s
5 35 M
(        int numBS = ge.getNumberOfBases\(\);) s
5 13 M
(        int START_ITEM_BASE = 1000;) s
5 2 M
(        int START_QUADRATIFY_BASE = 5000;) s
_R
S
%%Page: (2) 159
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/ge/Latex.java) def
/fdir (src/ge/) def
/ftail (Latex.java) def
% User defined strings:
/fmodstr (Thu Oct 20 23:54:37 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Latex.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 497 M
(        double WIDTH = 7.0;) s
5 486 M
(        double HEIGHT = 6.0;) s
5 464 M
(        String s = "";) s
5 453 M
(        s+="\\\\begin{center}\\n";) s
5 442 M
(        s+="\\\\begin{pspicture}\(-0.5,-0.5\)\(7.5,6.5\)\\n";) s
5 420 M
(        if \(numBD==1\) {) s
5 398 M
(        }) s
5 387 M
(        else {) s
5 376 M
(            double boundaryspace = BaseLayoutDecoratorFactory.applyToAllBases\(ge, WIDTH, HEIGHT\);) s
5 354 M
(            double x = 0.0;) s
5 343 M
(            for \(int i=0; i<numBD; i++\) {) s
5 332 M
(                s+="\\\\psline[linecolor=black]{-}\("+x+",0.0\)\("+x+",6.0\)";) s
5 321 M
(                s+="\\\\rput{0}\("+x+",0.0\){$"+i+"$}\\n";) s
5 310 M
(                s+="\\\\rput{0}\("+x+","+HEIGHT+"\){$"+i+"$}\\n";) s
5 299 M
(                x += boundaryspace;) s
5 288 M
(            }) s
5 266 M
(            BaseComparator bcomp = new BaseComparator\(\);) s
5 255 M
(            ) s
5 244 M
(            for \(Iterator it=ge.iteratorBases\(\); it.hasNext\(\);\) {) s
5 233 M
(                Base bs=\(Base\)it.next\(\);) s
5 222 M
(                BaseLayoutDecorator bld = \(BaseLayoutDecorator\)bs.lookupDecorator\(BaseLayoutDecorator.NAME\);) s
5 211 M
(                double left = bld.getX1\(\);) s
5 200 M
(                double right = bld.getX2\(\);) s
5 189 M
(                double mid = \(left+right\)/2.0;) s
5 178 M
(                String arrowhead = "{[->}";) s
5 167 M
(                Letter let = bs.getLabel\(\);) s
5 156 M
(                if \(!let.isPositive\(\)\) {) s
5 145 M
(                    arrowhead = "{<-]}";) s
5 134 M
(                }) s
5 112 M
(                double y = bld.getY\(\);) s
5 101 M
(                //System.out.println\("assigned "+bs+" y="+y\);) s
5 90 M
(                ) s
5 79 M
(                if \(let.isConstant\(\)\) {) s
5 68 M
(                    String colorStr="";) s
5 57 M
(                    if \(let.isConstant\(\)\) {) s
5 46 M
(                        if \(let.modulus\(3\)==0\) {) s
5 35 M
(                            colorStr="yellow";) s
5 24 M
(                        }) s
5 13 M
(                        else if \(let.modulus\(3\)==1\) {) s
5 2 M
(                            colorStr="blue";) s
_R
S
%%Page: (3) 160
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/ge/Latex.java) def
/fdir (src/ge/) def
/ftail (Latex.java) def
% User defined strings:
/fmodstr (Thu Oct 20 23:54:37 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (Latex.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                        }) s
5 497 M
(                        else {) s
5 486 M
(                            colorStr="green";) s
5 475 M
(                        }) s
5 464 M
(                    }) s
5 453 M
(                    else {) s
5 442 M
(                        colorStr="red";) s
5 431 M
(                    }) s
5 420 M
(                    s+="\\\\psline[linecolor="+colorStr+"]"+arrowhead+"\("+left+","+y+"\)\("+right+","+y+"\)";) s
5 398 M
(                    if \(!let.isPositive\(\)\) {) s
5 387 M
(                        let = let.getInverse\(\);) s
5 376 M
(                    }) s
5 365 M
(                    y -= 0.2;) s
5 354 M
(                    s+="\\\\rput{0}\("+mid+","+y+"\){$"+letter.Latex.instance\(\).render\(let\)+"$}\\n";) s
5 343 M
(                }) s
5 332 M
(                else {) s
5 321 M
(                    String colorStr="";) s
5 310 M
(                    colorStr="red";) s
5 299 M
(                    s+="\\\\psline[linecolor="+colorStr+"]"+arrowhead+"\("+left+","+y+"\)\("+right+","+y+"\)";) s
5 277 M
(                    if \(!let.isPositive\(\)\) {) s
5 266 M
(                        let = let.getInverse\(\);) s
5 255 M
(                    }) s
5 244 M
(                    y -= 0.2;) s
5 233 M
(                    s+="\\\\rput{0}\("+mid+","+y+"\){$"+letter.Latex.instance\(\).render\(let\)+"$}\\n";) s
5 211 M
(                    Base bs2 = bs.getDual\(\);) s
5 200 M
(                    if \(bcomp.compare\(bs, bs2\) < 0\) {) s
5 178 M
(                        BaseLayoutDecorator bld2 = \(BaseLayoutDecorator\)bs2.lookupDecorator\(BaseLayoutDecorator.NAME\);) s
5 167 M
(                        double left2 = bld2.getX1\(\);) s
5 156 M
(                        double right2 = bld2.getX2\(\);) s
5 145 M
(                        double y2 = bld2.getY\(\);) s
5 123 M
(                        int conidx=0;) s
5 112 M
(                        Constraint con = bs.getConstraint\(\);) s
5 90 M
(                        for \(Iterator it2=con.iteratorBoundary\(\); it2.hasNext\(\);\) {) s
5 79 M
(                            Boundary bd1 = \(Boundary\)it2.next\(\);) s
5 68 M
(                            Boundary bd2 = con.getDual\(bd1\);) s
5 57 M
(                            double x1;) s
5 46 M
(                            if \(bs2.getEnd\(\).getID\(\) != bs2.getBegin\(\).getID\(\)\) {) s
5 35 M
(                                x1 = left+\(right-left\)*\(double\)\(bd1.getID\(\)-bs.getBegin\(\).getID\(\)\)/) s
5 24 M
(                                                          \(double\)\(bs.getEnd\(\).getID\(\)-bs.getBegin\(\).getID\(\)\);) s
5 13 M
(                            }) s
5 2 M
(                            else {) s
_R
S
%%Page: (4) 161
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 4 def
/fname (src/ge/Latex.java) def
/fdir (src/ge/) def
/ftail (Latex.java) def
% User defined strings:
/fmodstr (Thu Oct 20 23:54:37 2011) def
/pagenumstr (4) def
/user_header_p true def
/user_header_left_str (Latex.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 4 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                                x1 = right;) s
5 497 M
(                            }) s
5 486 M
(                            double x2;) s
5 475 M
(                            if \(bs2.getEnd\(\).getID\(\) != bs2.getBegin\(\).getID\(\)\) {) s
5 464 M
(                                x2 = left2+\(right2-left2\)*\(double\)\(bd2.getID\(\)-bs2.getBegin\(\).getID\(\)\)/) s
5 453 M
(                                                             \(double\)\(bs2.getEnd\(\).getID\(\)-bs2.getBegin\(\).getID\(\)\);) s
5 442 M
(                            }) s
5 431 M
(                            else {) s
5 420 M
(                                x2 = right;) s
5 409 M
(                            }) s
5 398 M
(                            ) s
5 387 M
(                            String fillcolor = "";) s
5 376 M
(                            if \(conidx%2 == 0\) {) s
5 365 M
(                                fillcolor = "black";) s
5 354 M
(                            }) s
5 343 M
(                            else {) s
5 332 M
(                                fillcolor = "white";) s
5 321 M
(                            }) s
5 299 M
(                            s+="\\\\pscircle[linecolor=red,fillcolor="+fillcolor+",fillstyle=solid]\("+x1+","+\(y+0.2\)+"\){0.07) s
5 288 M
(5}\\n";) s
5 277 M
(                            s+="\\\\pscircle[linecolor=red,fillcolor="+fillcolor+",fillstyle=solid]\("+x2+","+y2+"\){0.075}\\n") s
5 266 M
(;) s
5 255 M
(                            conidx++;) s
5 244 M
(                        }) s
5 233 M
(                    }) s
5 222 M
(                }) s
5 211 M
(            }) s
5 200 M
(        }) s
5 189 M
(        s+="\\\\end{pspicture}\\n";) s
5 178 M
(        s+="\\\\end{center}\\n";) s
5 156 M
(        return s;) s
5 145 M
(    }) s
5 134 M
(}) s
_R
S
%%Page: (1) 162
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/Main.java) def
/fdir (src/ge/) def
/ftail (Main.java) def
% User defined strings:
/fmodstr (Thu Oct 13 13:48:30 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Main.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(import letter.Letter;) s
5 420 M
(import letter.Constant;) s
5 409 M
(import letter.Variable;) s
5 398 M
(import letter.LetterFactory;) s
5 387 M
(import equation.GroupEquation;) s
5 376 M
(import equation.QuadraticSystem;) s
5 365 M
(import cancellation.ICancellationDiagramAnalysis;) s
5 354 M
(import cancellation.CancellationDiagramFactory;) s
5 343 M
(import cancellation.Diagram;) s
5 332 M
(import cancellation.DiagramTreeNode;) s
5 321 M
(import java.util.Iterator;) s
5 299 M
(/**) s
5 288 M
( *) s
5 277 M
( * @author grouptheory) s
5 266 M
( */) s
5 255 M
(public class Main {) s
5 244 M
(    /**) s
5 233 M
(     * @param args the command line arguments) s
5 222 M
(     */) s
5 211 M
(    public static void main\(String[] args\) {) s
5 200 M
(        // TODO code application logic here) s
5 178 M
(        Constant a = LetterFactory.instance\(\).getConstant\(1, true\);) s
5 167 M
(        Constant b = LetterFactory.instance\(\).getConstant\(2, true\);) s
5 156 M
(        Constant A = \(Constant\)a.getInverse\(\);) s
5 145 M
(        Constant B = \(Constant\)b.getInverse\(\);) s
5 134 M
(        ) s
5 123 M
(        Variable z1 = LetterFactory.instance\(\).getVariable\(1, true\);) s
5 112 M
(        Variable z2 = LetterFactory.instance\(\).getVariable\(2, true\);) s
5 90 M
(        GE ge1 = new GE\(\);) s
5 79 M
(        Boundary b0 = ge1.getFirstBoundary\(\);) s
5 68 M
(        Boundary b1 = ge1.appendNewBoundary\(\);) s
5 57 M
(        Boundary b2 = ge1.appendNewBoundary\(\);) s
5 46 M
(        Boundary b3 = ge1.appendNewBoundary\(\);) s
5 35 M
(        Base c1 = ge1.addNewConstantBase\(b0, a\);) s
5 24 M
(        Base c2 = ge1.addNewConstantBase\(b1, b\);) s
5 13 M
(        Base c3 = ge1.addNewConstantBase\(b2, A\);) s
5 2 M
(        Base c4 = ge1.addNewConstantBase\(b3, B\);) s
_R
S
%%Page: (2) 163
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/ge/Main.java) def
/fdir (src/ge/) def
/ftail (Main.java) def
% User defined strings:
/fmodstr (Thu Oct 13 13:48:30 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Main.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        Base v1 = ge1.addNewVariableBase\(b0, b2, z1, b1, b3\);) s
5 497 M
(        Base v2 = ge1.addNewVariableBase\(b0, b1, z2, b3, b2\);) s
5 475 M
(        ge1.addNewConstraint\(v1, b1, b2\);) s
5 464 M
(        ) s
5 453 M
(        System.out.println\("GE#1:\\n"\);) s
5 442 M
(        System.out.println\(""+ge1+"\\n"\);) s
5 420 M
(        GE ge2 = ge1.duplicate\(\);) s
5 398 M
(        System.out.println\("GE#1:\\n"\);) s
5 387 M
(        System.out.println\(""+ge1+"\\n"\);) s
5 365 M
(        System.out.println\("GE#2:\\n"\);) s
5 354 M
(        System.out.println\(""+ge2+"\\n"\);) s
5 310 M
(        ) s
5 299 M
(        System.out.println\("\\nTEST Real-world EQUATION TEST:\\n"\);) s
5 277 M
(        GroupEquation prob = new GroupEquation\("z1+.c1+.z1+.c2+.z1-."\);) s
5 266 M
(        System.out.println\("Original Equation: "+prob+" = 1\\n"\);) s
5 244 M
(        ICancellationDiagramAnalysis analysis =) s
5 233 M
(                CancellationDiagramFactory.instance\(\).newDiagramTree\(prob\);) s
5 211 M
(        System.out.println\("Analysis: \\n\\n"\);) s
5 200 M
(        QuadraticSystem qs = analysis.getQuadraticSystem\(\);) s
5 189 M
(        System.out.println\(qs\);) s
5 167 M
(        Iterator it = analysis.iteratorDiagramTreeNodes\(\);) s
5 156 M
(        DiagramTreeNode dtn = \(DiagramTreeNode\)it.next\(\);) s
5 145 M
(        Diagram d = dtn.getDiagram\(\);) s
5 123 M
(        System.out.println\("Diagram:\\n"\);) s
5 112 M
(        System.out.println\(""+d+"\\n\\n"\);) s
5 101 M
(        ) s
5 90 M
(        GEFactory gef = GEFactory.instance\(\);) s
5 79 M
(        GE ge3 = gef.newGE\(d, qs\);) s
5 57 M
(        System.out.println\("GE#3:\\n"\);) s
5 46 M
(        System.out.println\(""+ge3+"\\n"\);) s
5 35 M
(        ) s
5 24 M
(        GE ge4 = ge3.duplicate\(\);) s
5 2 M
(        System.out.println\("GE#4:\\n"\);) s
_R
S
%%Page: (3) 164
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/ge/Main.java) def
/fdir (src/ge/) def
/ftail (Main.java) def
% User defined strings:
/fmodstr (Thu Oct 13 13:48:30 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (Main.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        System.out.println\(""+ge4+"\\n"\);) s
5 497 M
(    }) s
5 486 M
(}) s
_R
S
%%Page: (1) 165
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/Main2.java) def
/fdir (src/ge/) def
/ftail (Main2.java) def
% User defined strings:
/fmodstr (Tue Oct 18 16:08:27 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Main2.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(import equation.GroupEquation;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(public class Main2 {) s
5 354 M
(    /**) s
5 343 M
(     * @param args the command line arguments) s
5 332 M
(     */) s
5 321 M
(    public static void main\(String[] args\) {) s
5 310 M
(        // TODO code application logic here) s
5 288 M
(        GroupEquation problem = new GroupEquation\("z1+.c1+.z2+.c2+.z1-.c3+.z2-."\);) s
5 266 M
(        TopLevelGEIterator iter = TopLevelGEIteratorFactory.instance\(\).newTopLevelGEIterator\(problem\);) s
5 244 M
(        int i=0;) s
5 233 M
(        for \(;iter.hasNext\(\);\) {) s
5 222 M
(            GE geq = \(GE\)iter.next\(\);) s
5 200 M
(            System.out.println\("GE#"+i+":\\n"\);) s
5 189 M
(            System.out.println\(""+geq+"\\n"\);) s
5 178 M
(            i++;) s
5 167 M
(        }) s
5 145 M
(        System.out.println\("Total number of GEs generated: "+i+"\\n"\);) s
5 134 M
(    }) s
5 123 M
(}) s
_R
S
%%Page: (1) 166
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/TopLevelGEIterator.java) def
/fdir (src/ge/) def
/ftail (TopLevelGEIterator.java) def
% User defined strings:
/fmodstr (Thu Oct 20 16:13:32 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (TopLevelGEIterator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(import equation.GroupEquation;) s
5 420 M
(import equation.QuadraticSystem;) s
5 409 M
(import equation.QuadraticSystemFactory;) s
5 398 M
(import cancellation.Diagram;) s
5 387 M
(import cancellation.DiagramDegeneracyTester;) s
5 376 M
(import cancellation.ComposableDiagramIterator;) s
5 365 M
(import cancellation.DiagramTreeNode;) s
5 354 M
(import utility.CompositeIterator;) s
5 332 M
(/**) s
5 321 M
( *) s
5 310 M
( * @author grouptheory) s
5 299 M
( */) s
5 288 M
(public class TopLevelGEIterator {) s
5 266 M
(    private GroupEquation _eq;) s
5 255 M
(    private QuadraticSystem _qs;) s
5 244 M
(    private GroupEquation _problemQuadratic;) s
5 233 M
(    private Diagram _rootDiagram;) s
5 222 M
(    private ComposableDiagramIterator _cdi;) s
5 211 M
(    private CompositeIterator _compiter;) s
5 189 M
(    private GE _nextGE;) s
5 178 M
(    private boolean _finished;) s
5 167 M
(    ) s
5 156 M
(    TopLevelGEIterator\(GroupEquation eq\) {) s
5 145 M
(        _eq = new GroupEquation\(eq\);) s
5 134 M
(        _qs = QuadraticSystemFactory.instance\(\).newQuadraticSystem\(_eq\);) s
5 123 M
(        _problemQuadratic = _qs.getEquation\(\);) s
5 112 M
(        _rootDiagram = new Diagram\(\);) s
5 101 M
(        _cdi = new ComposableDiagramIterator\(null, _rootDiagram, _problemQuadratic, 0\);) s
5 90 M
(        _compiter = new CompositeIterator\(_cdi, false\);) s
5 79 M
(        ) s
5 68 M
(        _nextGE = nextGE\(\);) s
5 57 M
(    }) s
5 35 M
(    private GE nextGE\(\) {) s
5 24 M
(        boolean finished = false;) s
5 13 M
(        GE geq = null;) s
_R
S
%%Page: (2) 167
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/ge/TopLevelGEIterator.java) def
/fdir (src/ge/) def
/ftail (TopLevelGEIterator.java) def
% User defined strings:
/fmodstr (Thu Oct 20 16:13:32 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (TopLevelGEIterator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        GEDegeneracyTester tester;) s
5 497 M
(        do {) s
5 486 M
(            DiagramTreeNode nextDTN = nextDiagramTreeNode\(\);) s
5 475 M
(            if \(nextDTN != null\) {) s
5 464 M
(                Diagram nextDiag = nextDTN.getDiagram\(\);) s
5 453 M
(                GEFactory gef = GEFactory.instance\(\);) s
5 442 M
(                geq = gef.newGE\(nextDiag, _qs\);) s
5 431 M
(            }) s
5 420 M
(            else {) s
5 409 M
(                finished=true;) s
5 398 M
(                break;) s
5 387 M
(            }) s
5 376 M
(            tester = new GEDegeneracyTester\(geq\);) s
5 365 M
(        }) s
5 354 M
(        while \(tester.isDegenerate\(\)\);) s
5 332 M
(        if \(finished\) {) s
5 321 M
(            return null;) s
5 310 M
(        }) s
5 299 M
(        else {) s
5 288 M
(            return geq;) s
5 277 M
(        }) s
5 266 M
(    }) s
5 244 M
(    private DiagramTreeNode nextDiagramTreeNode\(\) {) s
5 233 M
(        DiagramTreeNode answer = null;) s
5 222 M
(        while \(_compiter.hasNext\(\)\) {) s
5 211 M
(            CompositeIterator.State state = \(CompositeIterator.State\)_compiter.next\(\);) s
5 200 M
(            DiagramTreeNode dtn = \(DiagramTreeNode\)state.getLeafIteratorState\(\);) s
5 189 M
(            Diagram nextDiag = dtn.getDiagram\(\);) s
5 167 M
(            if \(!DiagramDegeneracyTester.isDegenerate\(nextDiag\) && dtn.getLeaf\(\)\) {) s
5 156 M
(                answer = dtn;) s
5 145 M
(                break;) s
5 134 M
(            }) s
5 123 M
(        }) s
5 112 M
(        return answer;) s
5 101 M
(    }) s
5 90 M
(    ) s
5 79 M
(    public boolean hasNext\(\) {) s
5 68 M
(        return \(_nextGE!=null\);) s
5 57 M
(    }) s
5 35 M
(    public Object next\(\) {) s
5 24 M
(        GE nextGE = _nextGE;) s
5 13 M
(        _nextGE = nextGE\(\);) s
5 2 M
(        return nextGE;) s
_R
S
%%Page: (3) 168
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/ge/TopLevelGEIterator.java) def
/fdir (src/ge/) def
/ftail (TopLevelGEIterator.java) def
% User defined strings:
/fmodstr (Thu Oct 20 16:13:32 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (TopLevelGEIterator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    }) s
5 486 M
(    public void remove\(\) {) s
5 475 M
(        throw new RuntimeException\("TopLevelGEIterator.remove: not implemented"\);) s
5 464 M
(    }) s
5 453 M
(}) s
_R
S
%%Page: (1) 169
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/ge/TopLevelGEIteratorFactory.java) def
/fdir (src/ge/) def
/ftail (TopLevelGEIteratorFactory.java) def
% User defined strings:
/fmodstr (Thu Oct 13 16:34:58 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (TopLevelGEIteratorFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package ge;) s
5 431 M
(import equation.GroupEquation;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(public class TopLevelGEIteratorFactory {) s
5 343 M
(    private static TopLevelGEIteratorFactory _instance;) s
5 321 M
(    private TopLevelGEIteratorFactory\(\) {) s
5 310 M
(    }) s
5 288 M
(    public static TopLevelGEIteratorFactory instance\(\) {) s
5 277 M
(        if \(_instance == null\) {) s
5 266 M
(            _instance = new TopLevelGEIteratorFactory\(\);) s
5 255 M
(        }) s
5 244 M
(        return _instance;) s
5 233 M
(    }) s
5 211 M
(    public TopLevelGEIterator newTopLevelGEIterator\(GroupEquation eq\) {) s
5 200 M
(        return new TopLevelGEIterator\(eq\);) s
5 189 M
(    }) s
5 178 M
(}) s
_R
S
%%Page: (1) 170
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/hom/Hom.java) def
/fdir (src/hom/) def
/ftail (Hom.java) def
% User defined strings:
/fmodstr (Thu Oct 13 16:59:01 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Hom.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package hom;) s
5 431 M
(import equation.GroupEquation;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(public class Hom {) s
5 354 M
(    public GroupEquation apply\(GroupEquation eq\) {) s
5 343 M
(        return eq;) s
5 332 M
(    }) s
5 310 M
(    static Hom compose\(Hom hfirst, Hom hsecond\) {) s
5 299 M
(        return null;) s
5 288 M
(    }) s
5 277 M
(}) s
_R
S
%%Page: (1) 171
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/Cell.java) def
/fdir (src/jigglecore/) def
/ftail (Cell.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:41 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Cell.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/* Abstract base class for all JIGGLE objects that have rectangular) s
5 475 M
(representations.  Known subclasses: Vertex, EdgeLabel, QuadTree. */) s
5 453 M
(/**) s
5 442 M
( *) s
5 431 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 420 M
( */) s
5 409 M
(public abstract class Cell extends JiggleObject {) s
5 387 M
(        private int dimensions = 2; /* default is a 2-D cell */) s
5 376 M
(        private double weight; /* weight of cell */) s
5 365 M
(        private double coords []; /* coordinates of center of cell */) s
5 354 M
(        private double min [], max []; /* bounding box of cell */) s
5 343 M
(        private double size []; /* dimensions of cell */) s
5 321 M
(        protected Cell \(\) {setDimensions \(2\); weight = 0;}) s
5 299 M
(        double getWeight \(\) {return weight;}) s
5 288 M
(        void setWeight \(double w\) {weight = w;}) s
5 266 M
(        public int getDimensions \(\) {return dimensions;}) s
5 255 M
(        public void setDimensions \(int d\) {) s
5 244 M
(                dimensions = d; coords = new double [d]; size = new double [d];) s
5 233 M
(                min = new double [d]; max = new double [d];) s
5 222 M
(        }) s
5 200 M
(        public double [] getCoords \(\) {return coords;}) s
5 189 M
(        public void setCoords \(double [] c\) {) s
5 178 M
(                for \(int i = 0; i < dimensions; i++\) coords [i] = c [i];) s
5 167 M
(        }) s
5 145 M
(        double [] getMin \(\) {return min;}) s
5 134 M
(        void setMin \(double [] c\) {) s
5 123 M
(                for \(int i = 0; i < dimensions; i++\) min [i] = c [i];) s
5 112 M
(                recomputeSize \(\);) s
5 101 M
(        }) s
5 79 M
(        double [] getMax \(\) {return max;}) s
5 68 M
(        void setMax \(double [] c\) {) s
5 57 M
(                for \(int i = 0; i < dimensions; i++\) max [i] = c [i];) s
5 46 M
(                recomputeSize \(\);) s
5 35 M
(        }) s
5 13 M
(        protected void recomputeSize \(\) {) s
5 2 M
(                for \(int i = 0; i < dimensions; i++\) size [i] = max [i] - min [i];) s
_R
S
%%Page: (2) 172
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/jigglecore/Cell.java) def
/fdir (src/jigglecore/) def
/ftail (Cell.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:41 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Cell.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        }) s
5 486 M
(        public double [] getSize \(\) {return size;}) s
5 475 M
(        void setSize \(double [] c\) {) s
5 464 M
(                for \(int i = 0; i < dimensions; i++\) size [i] = c [i];) s
5 453 M
(                recomputeBoundaries \(\);) s
5 442 M
(        }) s
5 420 M
(        void recomputeBoundaries \(\) {) s
5 409 M
(                for \(int i = 0; i < dimensions; i++\) {) s
5 398 M
(                        min [i] = coords [i] - size [i] / 2;) s
5 387 M
(                        max [i] = coords [i] + size [i] / 2;) s
5 376 M
(                }) s
5 365 M
(        }) s
5 343 M
(        void translate \(double [] vector\) {translate \(1, vector\);}) s
5 332 M
(        void translate \(double scalar, double [] vector\) {) s
5 321 M
(                for \(int i = 0; i < dimensions; i++\) {) s
5 310 M
(                        double translation = scalar * vector [i];) s
5 299 M
(                        coords [i] += translation;) s
5 288 M
(                        min [i] += translation;) s
5 277 M
(                        max [i] += translation;) s
5 266 M
(                }) s
5 255 M
(        }) s
5 233 M
(        static double getDistanceSquared \(Cell c1, Cell c2\) {) s
5 222 M
(                double sum = 0; int d = c1.getDimensions \(\);) s
5 211 M
(                for \(int i = 0; i < d; i++\)) s
5 200 M
(                        sum += square \(c1.coords [i] - c2.coords [i]\);) s
5 189 M
(                return sum;) s
5 178 M
(        }) s
5 156 M
(        static double getDistanceSquared \(Cell cell, double [] point\) {) s
5 145 M
(                double sum = 0; int d = cell.getDimensions \(\);) s
5 134 M
(                for \(int i = 0; i < d; i++\)) s
5 123 M
(                        sum += square \(cell.coords [i] - point [i]\);) s
5 112 M
(                return sum;) s
5 101 M
(        }) s
5 79 M
(        static double getDistance \(Cell c1, Cell c2\) {) s
5 68 M
(                return Math.sqrt \(getDistanceSquared \(c1, c2\)\);) s
5 57 M
(        }) s
5 35 M
(        static double getDistance \(Cell cell, double [] point\) {) s
5 24 M
(                return Math.sqrt \(getDistanceSquared \(cell, point\)\);) s
5 13 M
(        }) s
_R
S
%%Page: (3) 173
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/jigglecore/Cell.java) def
/fdir (src/jigglecore/) def
/ftail (Cell.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:41 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (Cell.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        static double sumOfRadii \(Cell c1, Cell c2\) {) s
5 497 M
(                int d = c1.getDimensions \(\);) s
5 486 M
(                double coords1 [] = c1.getCoords \(\), coords2 [] = c2.getCoords \(\);) s
5 475 M
(                double seg [] = new double [d];) s
5 464 M
(                for \(int i = 0; i < d; i++\) seg [i] = coords2 [i] - coords1 [i];) s
5 453 M
(                return radius \(d, c1.getSize \(\), seg\) + radius \(d, c2.getSize \(\), seg\); ) s
5 442 M
(        }) s
5 420 M
(        static double radius \(Cell cell, double [] point\) {) s
5 409 M
(                int d = cell.getDimensions \(\);) s
5 398 M
(                double coords [] = cell.getCoords \(\);) s
5 387 M
(                double seg [] = new double [d];) s
5 376 M
(                for \(int i = 0; i < d; i++\) seg [i] = point [i] - coords [i];) s
5 365 M
(                return radius \(d, cell.getSize \(\), seg\); ) s
5 354 M
(        }) s
5 332 M
(        private static double radius \(int d, double [] cellSize, double [] segment\) {) s
5 321 M
(                double sum = 0;) s
5 310 M
(                for \(int i = 0; i < d; i++\) sum += cellSize [i];) s
5 299 M
(                if \(sum == 0\) return 0;) s
5 288 M
(                double t = Double.MAX_VALUE;) s
5 277 M
(                for \(int i = 0; i < d; i++\) {) s
5 266 M
(                        t = Math.min \(t, Math.abs \(cellSize [i] / segment [i]\)\);) s
5 255 M
(                }) s
5 244 M
(                double lengthSquared = 0;) s
5 233 M
(                for \(int i = 0; i < d; i++\) lengthSquared += square \(t * segment [i]\);) s
5 222 M
(                return Math.sqrt \(lengthSquared\) / 2;) s
5 211 M
(        }) s
5 200 M
(}) s
_R
S
%%Page: (1) 174
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/ConjugateGradients.java) def
/fdir (src/jigglecore/) def
/ftail (ConjugateGradients.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:41 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (ConjugateGradients.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/* Class for conjugate gradient method. */) s
5 464 M
(/**) s
5 453 M
( *) s
5 442 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 431 M
( */) s
5 420 M
(public class ConjugateGradients extends FirstOrderOptimizationProcedure {) s
5 398 M
(        private double magnitudeOfPreviousGradientSquared;) s
5 387 M
(        private double previousDescentDirection [] [] = null;) s
5 376 M
(        private double restartThreshold = 0;) s
5 354 M
(        public ConjugateGradients \(Graph g, ForceModel fm, double acc\) {) s
5 343 M
(                super \(g, fm, acc\); restartThreshold = 0;) s
5 332 M
(        }) s
5 310 M
(        public ConjugateGradients \(Graph g, ForceModel fm, double acc, double rt\) {) s
5 299 M
(                super \(g, fm, acc\); restartThreshold = rt;) s
5 288 M
(        }) s
5 266 M
(        public void reset \(\) {negativeGradient = null; descentDirection = null;}) s
5 244 M
(        protected void computeDescentDirection \(\) {) s
5 233 M
(                int n = graph.numberOfVertices, d = graph.getDimensions \(\);) s
5 222 M
(                double magnitudeOfCurrentGradientSquared = 0;) s
5 211 M
(                if \(\(descentDirection == null\) || \(descentDirection.length != n\)\) {) s
5 200 M
(                        descentDirection = new double [n] [d];) s
5 189 M
(                        previousDescentDirection = new double [n] [d];) s
5 178 M
(                        for \(int i = 0; i < n; i++\) {) s
5 167 M
(                                for \(int j = 0; j < d; j++\) {) s
5 156 M
(                                        double temp = negativeGradient [i] [j];) s
5 145 M
(                                        descentDirection [i] [j] = temp;) s
5 134 M
(                                        magnitudeOfCurrentGradientSquared += square \(temp\);) s
5 123 M
(                                }) s
5 112 M
(                        }) s
5 101 M
(                }) s
5 90 M
(                else {) s
5 79 M
(                        for \(int i = 0; i < n; i++\) {) s
5 68 M
(                                for \(int j = 0; j < d; j++\) {) s
5 57 M
(                                        double temp = negativeGradient [i] [j];) s
5 46 M
(                                        magnitudeOfCurrentGradientSquared += square \(temp\);) s
5 35 M
(                                }) s
5 24 M
(                        }) s
5 13 M
(                        if \(magnitudeOfCurrentGradientSquared < 0.000001\) {) s
5 2 M
(                                for \(int i = 0; i < n; i++\) {) s
_R
S
%%Page: (2) 175
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/jigglecore/ConjugateGradients.java) def
/fdir (src/jigglecore/) def
/ftail (ConjugateGradients.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:41 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (ConjugateGradients.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                                        for \(int j = 0; j < d; j++\) {) s
5 497 M
(                                                previousDescentDirection [i] [j] = 0;) s
5 486 M
(                                                descentDirection [i] [j] = 0;) s
5 475 M
(                                        }) s
5 464 M
(                                }) s
5 453 M
(                                return;) s
5 442 M
(                        }) s
5 431 M
(                        double w = magnitudeOfCurrentGradientSquared / magnitudeOfPreviousGradientSquared;) s
5 420 M
(                        double dotProduct = 0, magnitudeOfDescentDirectionSquared = 0, m;) s
5 409 M
(                        for \(int i = 0; i < n; i++\) {) s
5 398 M
(                                for \(int j = 0; j < d; j++\) {) s
5 387 M
(                                        descentDirection [i] [j] = negativeGradient [i] [j] +) s
5 376 M
(                                                                   w * previousDescentDirection [i] [j];) s
5 365 M
(                                        dotProduct += descentDirection [i] [j] * negativeGradient [i] [j];) s
5 354 M
(                                        magnitudeOfDescentDirectionSquared += square \(descentDirection [i] [j]\);) s
5 343 M
(                                }) s
5 332 M
(                        }) s
5 321 M
(                        m = magnitudeOfCurrentGradientSquared * magnitudeOfDescentDirectionSquared;) s
5 310 M
(                        if \(dotProduct / Math.sqrt \(m\) < restartThreshold\) {) s
5 299 M
(                                descentDirection = null; computeDescentDirection \(\); return;) s
5 288 M
(                        }) s
5 277 M
(                }) s
5 266 M
(                magnitudeOfPreviousGradientSquared = magnitudeOfCurrentGradientSquared;) s
5 255 M
(                for \(int i = 0; i < n; i++\) {) s
5 244 M
(                        for \(int j = 0; j < d; j++\) {) s
5 233 M
(                                previousDescentDirection [i] [j] = descentDirection [i] [j];) s
5 222 M
(                        }) s
5 211 M
(                }) s
5 200 M
(        }) s
5 189 M
(}) s
_R
S
%%Page: (1) 176
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/Constraint.java) def
/fdir (src/jigglecore/) def
/ftail (Constraint.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:41 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Constraint.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/**) s
5 475 M
( *) s
5 464 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 453 M
( */) s
5 442 M
(public abstract class Constraint extends JiggleObject {) s
5 420 M
(        protected Graph graph;) s
5 398 M
(        protected Constraint \(Graph g\) {graph = g;}) s
5 376 M
(        abstract void apply \(double [][] penalty\);) s
5 365 M
(}) s
_R
S
%%Page: (1) 177
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/DynamicArray.java) def
/fdir (src/jigglecore/) def
/ftail (DynamicArray.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:41 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (DynamicArray.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/* Methods for manipulating dynamic arrays of JiggleObjects. */) s
5 464 M
(/**) s
5 453 M
( *) s
5 442 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 431 M
( */) s
5 420 M
(public abstract class DynamicArray {) s
5 398 M
(        public static Vertex [] add \(Vertex [] arr, int size, Vertex elem\) {) s
5 387 M
(                if \(size == arr.length\) {) s
5 376 M
(                        Vertex newArr [] = new Vertex [2 * size];) s
5 365 M
(                        for \(int i = 0; i < size; i++\) newArr [i] = arr [i];) s
5 354 M
(                        arr = newArr;) s
5 343 M
(                }) s
5 332 M
(                arr [size] = elem; return arr;) s
5 321 M
(        }) s
5 299 M
(        public static Edge [] add \(Edge [] arr, int size, Edge elem\) {) s
5 288 M
(                if \(size == arr.length\) {) s
5 277 M
(                        Edge newArr [] = new Edge [2 * size];) s
5 266 M
(                        for \(int i = 0; i < size; i++\) newArr [i] = arr [i];) s
5 255 M
(                        arr = newArr;) s
5 244 M
(                }) s
5 233 M
(                arr [size] = elem; return arr;) s
5 222 M
(        }) s
5 200 M
(        public static void remove \(JiggleObject [] arr, int size, JiggleObject elem\)) s
5 189 M
(                        throws NotFoundException {) s
5 178 M
(                for \(int i = 0; i < size; i++\)) s
5 167 M
(                        if \(arr [i] == elem\) {arr [i] = arr [size - 1]; return;}) s
5 156 M
(                throw new NotFoundException \(\);) s
5 145 M
(        }) s
5 134 M
(}) s
_R
S
%%Page: (1) 178
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/Edge.java) def
/fdir (src/jigglecore/) def
/ftail (Edge.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:42 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Edge.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/* Class for edges of a graph.  NOTE: the only mutable characteristics) s
5 475 M
(of an edge are its label, directedness, and preferred length. */) s
5 453 M
(/**) s
5 442 M
( *) s
5 431 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 420 M
( */) s
5 409 M
(public class Edge extends JiggleObject {) s
5 387 M
(        private Vertex from, to; /* endpoints of the edge */) s
5 376 M
(        private EdgeLabel label = null; /* label of edge */) s
5 365 M
(        private boolean directed = false; /* is the edge directed? */) s
5 354 M
(        private double preferredLength = 0; /* preferred length of edge */) s
5 332 M
(        Edge \(Graph g, Vertex f, Vertex t\) {from = f; to = t; setContext \(g\);}) s
5 310 M
(        Edge \(Graph g, Vertex f, Vertex t, boolean dir\) {) s
5 299 M
(                from = f; to = t; setContext \(g\); directed = dir;) s
5 288 M
(        }) s
5 266 M
(        public Vertex getFrom \(\) {return from;}) s
5 255 M
(        public Vertex getTo \(\) {return to;}) s
5 233 M
(        EdgeLabel getLabel \(\) {return label;}) s
5 222 M
(        void setLabel \(EdgeLabel lbl\) {label = lbl;}) s
5 200 M
(        boolean getDirected \(\) {return directed;}) s
5 189 M
(        void setDirected \(boolean d\) {directed = d;}) s
5 167 M
(        double getPreferredLength \(\) {return preferredLength;}) s
5 156 M
(        public void setPreferredLength \(double len\) {preferredLength = len;}) s
5 134 M
(        double getLengthSquared \(\) {return Vertex.getDistanceSquared \(from, to\);}) s
5 123 M
(        double getLength \(\) {return Vertex.getDistance \(from, to\);}) s
5 101 M
(        public String toString \(\) {) s
5 90 M
(                return "\(Edge: " + from + ", " + to + ", " +) s
5 79 M
(                         \(directed ? "directed" : "undirected"\) + "\)";) s
5 68 M
(        }) s
5 57 M
(}) s
_R
S
%%Page: (1) 179
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/EdgeLabel.java) def
/fdir (src/jigglecore/) def
/ftail (EdgeLabel.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:42 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (EdgeLabel.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/* Class for edge labels. */) s
5 464 M
(/**) s
5 453 M
( *) s
5 442 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 431 M
( */) s
5 420 M
(public class EdgeLabel extends Cell {) s
5 398 M
(        String name;) s
5 376 M
(        EdgeLabel \(Edge e, String str\) {setContext \(e\); name = str;}) s
5 354 M
(        String getName \(\) {return name;}) s
5 343 M
(        void setName \(String str\) {name = str;}) s
5 321 M
(        public String toString \(\) {return "\(EdgeLabel: " + name + "\)";}) s
5 310 M
(}) s
_R
S
%%Page: (1) 180
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/FirstOrderOptimizationProcedure.java) def
/fdir (src/jigglecore/) def
/ftail (FirstOrderOptimizationProcedure.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:42 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (FirstOrderOptimizationProcedure.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/* Abstract base class for first-order graph-drawing optimization procedures.) s
5 475 M
(Includes concrete method for performing adaptive line search. */) s
5 453 M
(/**) s
5 442 M
( *) s
5 431 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 420 M
( */) s
5 409 M
(public abstract class FirstOrderOptimizationProcedure extends ForceDirectedOptimizationProcedure {) s
5 387 M
(        protected double maxCos = 1;) s
5 365 M
(        FirstOrderOptimizationProcedure \(Graph g, ForceModel fm, double accuracy\) {) s
5 354 M
(                super \(g, fm\); maxCos = accuracy;) s
5 343 M
(        }) s
5 321 M
(        protected double negativeGradient [] [] = null;) s
5 310 M
(        protected double descentDirection [] [] = null;) s
5 299 M
(        protected double penaltyVector [] [] = null;) s
5 288 M
(        protected double penaltyFactor = 0;) s
5 266 M
(        public double improveGraph \(\) {) s
5 255 M
(                int n = graph.numberOfVertices, d = graph.getDimensions \(\);) s
5 244 M
(                if \(\(negativeGradient == null\) || \(negativeGradient.length != n\)\) {) s
5 233 M
(                        negativeGradient = new double [n] [d];) s
5 222 M
(                        penaltyVector = new double [n] [d];) s
5 211 M
(                        getNegativeGradient \(\);) s
5 200 M
(                }) s
5 189 M
(                computeDescentDirection \(\);) s
5 178 M
(                return lineSearch \(\);) s
5 167 M
(        }) s
5 145 M
(        public void reset \(\) {negativeGradient = null; penaltyFactor = 0;}) s
5 123 M
(        private void computePenaltyFactor \(\) {) s
5 112 M
(                double m1 = l2Norm \(negativeGradient\);) s
5 101 M
(                double m2 = l2Norm \(penaltyVector\);) s
5 90 M
(                if \(m2 == 0\) penaltyFactor = 0;) s
5 79 M
(                else if \(m1 == 0\) penaltyFactor = 1;) s
5 68 M
(                else {) s
5 57 M
(                        double cos = dotProduct \(negativeGradient, penaltyVector\) / \(m1*m2\);) s
5 46 M
(                        penaltyFactor = Math.max \(0.00000001, \(0.00000001 - cos\)\) * Math.max \(1, \(m1 / m2\)\);) s
5 35 M
(                }) s
5 24 M
(        }) s
5 2 M
(        private void getNegativeGradient \(\) {) s
_R
S
%%Page: (2) 181
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/jigglecore/FirstOrderOptimizationProcedure.java) def
/fdir (src/jigglecore/) def
/ftail (FirstOrderOptimizationProcedure.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:42 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (FirstOrderOptimizationProcedure.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                forceModel.getNegativeGradient \(negativeGradient\);) s
5 497 M
(                if \(constrained\) {) s
5 486 M
(                        getPenaltyVector \(\); computePenaltyFactor \(\);) s
5 475 M
(                        int n = graph.numberOfVertices, d = graph.getDimensions \(\);) s
5 464 M
(                        for \(int i = 0; i < n; i++\) {) s
5 453 M
(                                for \(int j = 0; j < d; j++\) {) s
5 442 M
(                                        negativeGradient [i] [j] += penaltyFactor * penaltyVector [i] [j];) s
5 431 M
(                                }) s
5 420 M
(                        }) s
5 409 M
(                }) s
5 398 M
(        }) s
5 376 M
(        private void getPenaltyVector \(\) {) s
5 365 M
(                forceModel.getPenaltyVector \(penaltyVector\);) s
5 354 M
(        }) s
5 332 M
(        protected abstract void computeDescentDirection \(\);) s
5 310 M
(        private double stepSize = 0.1, previousStepSize = 0;) s
5 288 M
(        protected double lineSearch \(\) {) s
5 277 M
(                previousStepSize = 0;) s
5 266 M
(                int n = graph.numberOfVertices;) s
5 255 M
(                double magDescDir = l2Norm \(descentDirection\);) s
5 244 M
(                if \(magDescDir < 0.0001\) return 0;) s
5 233 M
(                double magLo = l2Norm \(negativeGradient\);) s
5 222 M
(                step \(\); getNegativeGradient \(\);) s
5 211 M
(                double magHi = l2Norm \(negativeGradient\);) s
5 200 M
(                double m = magDescDir * magHi;) s
5 189 M
(                double cos = dotProduct \(negativeGradient, descentDirection\) / m;) s
5 178 M
(                double lo = 0, hi = Double.MAX_VALUE;) s
5 167 M
(                int i = 0;) s
5 156 M
(                while \(\(\(cos < 0\) || \(cos > maxCos\)\) && \(hi - lo > 0.00000001\)\) {) s
5 145 M
(                        if \(cos < 0\) {hi = stepSize; stepSize = \(lo+hi\)/2;}) s
5 134 M
(                        else {) s
5 123 M
(                                if \(hi < Double.MAX_VALUE\) {lo = stepSize; stepSize = \(lo+hi\)/2;}) s
5 112 M
(                                else {lo = stepSize; stepSize *= 2;}) s
5 101 M
(                        }) s
5 90 M
(                        step \(\); getNegativeGradient \(\);) s
5 79 M
(                        m = magDescDir * l2Norm \(negativeGradient\);) s
5 68 M
(                        cos = dotProduct \(negativeGradient, descentDirection\) / m;) s
5 57 M
(                }) s
5 46 M
(                return l2Norm \(negativeGradient\);) s
5 35 M
(        }) s
5 13 M
(        private void step \(\) {) s
5 2 M
(                int n = graph.numberOfVertices;) s
_R
S
%%Page: (3) 182
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/jigglecore/FirstOrderOptimizationProcedure.java) def
/fdir (src/jigglecore/) def
/ftail (FirstOrderOptimizationProcedure.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:42 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (FirstOrderOptimizationProcedure.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                double s = stepSize - previousStepSize;) s
5 497 M
(                for \(int i = 0; i < n; i++\)) s
5 486 M
(                        graph.vertices [i].translate \(s, descentDirection [i]\);) s
5 475 M
(                previousStepSize = stepSize;) s
5 464 M
(        }) s
5 442 M
(        protected double dotProduct \(double [] [] u, double [] [] v\) {) s
5 431 M
(                int n = graph.numberOfVertices, d = graph.getDimensions \(\);) s
5 420 M
(                double sum = 0;) s
5 409 M
(                for \(int i = 0; i < n; i++\) {) s
5 398 M
(                        for \(int j = 0; j < d; j++\) {) s
5 387 M
(                                sum += u [i] [j] * v [i] [j];) s
5 376 M
(                        }) s
5 365 M
(                }) s
5 354 M
(                return sum;) s
5 343 M
(        }) s
5 321 M
(        protected double l2Norm \(double [] [] vect\) {) s
5 310 M
(                return Math.sqrt \(dotProduct \(vect, vect\)\);) s
5 299 M
(        }) s
5 277 M
(        protected double lInfinityNorm \(double [] [] vect\) {) s
5 266 M
(                int n = graph.numberOfVertices, d = graph.getDimensions \(\);) s
5 255 M
(                double max = 0;) s
5 244 M
(                for \(int i = 0; i < n; i++\) {) s
5 233 M
(                        for \(int j = 0; j < d; j++\) {) s
5 222 M
(                                max = Math.max \(max, Math.abs \(vect [i] [j]\)\);) s
5 211 M
(                        }) s
5 200 M
(                }) s
5 189 M
(                return max;) s
5 178 M
(        }) s
5 167 M
(}) s
_R
S
%%Page: (1) 183
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/ForceDirectedOptimizationProcedure.java) def
/fdir (src/jigglecore/) def
/ftail (ForceDirectedOptimizationProcedure.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:42 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (ForceDirectedOptimizationProcedure.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/**) s
5 475 M
( *) s
5 464 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 453 M
( */) s
5 442 M
(public abstract class ForceDirectedOptimizationProcedure extends JiggleObject {) s
5 420 M
(        protected Graph graph;) s
5 409 M
(        protected ForceModel forceModel;) s
5 387 M
(        protected boolean constrained = false;) s
5 376 M
(        public boolean getConstrained \(\) {return constrained;}) s
5 365 M
(        public void setConstrained \(boolean c\) {constrained = c;}) s
5 343 M
(        ForceDirectedOptimizationProcedure \(Graph g, ForceModel fm\) {) s
5 332 M
(                graph = g; forceModel = fm;) s
5 321 M
(        }) s
5 299 M
(        public abstract double improveGraph \(\);) s
5 288 M
(}) s
_R
S
%%Page: (1) 184
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/ForceLaw.java) def
/fdir (src/jigglecore/) def
/ftail (ForceLaw.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:42 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (ForceLaw.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/**) s
5 475 M
( *) s
5 464 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 453 M
( */) s
5 442 M
(public abstract class ForceLaw extends JiggleObject {) s
5 420 M
(        abstract void apply \(double [][] negativeGradient\);) s
5 398 M
(        protected Graph graph;) s
5 376 M
(        protected ForceLaw \(Graph g\) {graph = g;}) s
5 354 M
(        protected double cap = Double.MAX_VALUE / 1000;) s
5 343 M
(        double getCap \(\) {return cap;}) s
5 332 M
(        void setCap \(double c\) {cap = c;}) s
5 321 M
(}) s
_R
S
%%Page: (1) 185
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/ForceModel.java) def
/fdir (src/jigglecore/) def
/ftail (ForceModel.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:43 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (ForceModel.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(import java.util.Vector;) s
5 475 M
(import java.util.Enumeration;) s
5 453 M
(/**) s
5 442 M
( *) s
5 431 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 420 M
( */) s
5 409 M
(public class ForceModel {) s
5 387 M
(        protected Graph graph = null;) s
5 376 M
(        protected double preferredEdgeLength;) s
5 354 M
(        private Vector forceLaws = new Vector \(\);) s
5 343 M
(        private Vector constraints = new Vector \(\);) s
5 321 M
(        public ForceModel \(Graph g\) {graph = g;}) s
5 299 M
(        double getPreferredEdgeLength \(\) {return preferredEdgeLength;}) s
5 288 M
(        void setPreferredEdgeLength \(double k\) {preferredEdgeLength = k;}) s
5 266 M
(        public void addForceLaw \(ForceLaw fl\) {forceLaws.addElement \(fl\);}) s
5 255 M
(        public void removeForceLaw \(ForceLaw fl\) {forceLaws.removeElement \(fl\);}) s
5 233 M
(        public void addConstraint \(Constraint c\) {constraints.addElement \(c\);}) s
5 222 M
(        public void removeConstraint \(Constraint c\) {constraints.removeElement \(c\);}) s
5 211 M
(        ) s
5 200 M
(        void getNegativeGradient \(double [] [] negativeGradient\) {) s
5 189 M
(                int n = graph.numberOfVertices, d = graph.getDimensions \(\);) s
5 178 M
(                for \(int i = 0; i < n; i++\) {) s
5 167 M
(                        for \(int j = 0; j < d; j++\) {) s
5 156 M
(                                negativeGradient [i] [j] = 0;) s
5 145 M
(                        }) s
5 134 M
(                        graph.vertices [i].intField = i;) s
5 123 M
(                }) s
5 112 M
(                for \(Enumeration en = forceLaws.elements \(\); en.hasMoreElements \(\);\)) s
5 101 M
(                        \(\(ForceLaw\) \(en.nextElement \(\)\)\).apply \(negativeGradient\);) s
5 90 M
(        }) s
5 68 M
(        void getPenaltyVector \(double [] [] penaltyVector\) {) s
5 57 M
(                int n = graph.numberOfVertices, d = graph.getDimensions \(\);) s
5 46 M
(                for \(int i = 0; i < n; i++\) {) s
5 35 M
(                        for \(int j = 0; j < d; j++\) {) s
5 24 M
(                                penaltyVector [i] [j] = 0;) s
5 13 M
(                        }) s
5 2 M
(                        graph.vertices [i].intField = i;) s
_R
S
%%Page: (2) 186
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/jigglecore/ForceModel.java) def
/fdir (src/jigglecore/) def
/ftail (ForceModel.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:43 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (ForceModel.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                }) s
5 497 M
(                for \(Enumeration en = constraints.elements \(\); en.hasMoreElements \(\);\)) s
5 486 M
(                        \(\(Constraint\) \(en.nextElement \(\)\)\).apply \(penaltyVector\);) s
5 475 M
(        }) s
5 464 M
(}) s
_R
S
%%Page: (1) 187
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/Graph.java) def
/fdir (src/jigglecore/) def
/ftail (Graph.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:43 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Graph.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(// Class for graphs. */) s
5 464 M
(import java.util.*;) s
5 442 M
(/**) s
5 431 M
( *) s
5 420 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 409 M
( */) s
5 398 M
(public class Graph extends Cell {) s
5 387 M
(  ) s
5 376 M
(        public int numberOfVertices = 0, numberOfEdges = 0;) s
5 365 M
(        public Vertex vertices [] = new Vertex [1];) s
5 354 M
(        public Edge edges [] = new Edge [1];) s
5 332 M
(        /* NOTE: the above are made publicly accessible for reasons of) s
5 321 M
(        efficiency.  They should NOT, however, be modified except by) s
5 310 M
(        insertVertex, deleteVertex, insertEdge, and deleteEdge methods) s
5 299 M
(        below. */) s
5 277 M
(        public Graph \(\) {}) s
5 266 M
(        public Graph \(int d\) {setDimensions \(d\);}) s
5 244 M
(        public Vertex insertVertex \(\) {) s
5 233 M
(                Vertex v = new Vertex \(this\);) s
5 222 M
(                vertices = DynamicArray.add \(vertices, numberOfVertices++, v\);) s
5 211 M
(                return v;) s
5 200 M
(        }) s
5 178 M
(        public Edge insertEdge \(Vertex from, Vertex to\) {) s
5 167 M
(                return insertEdge \(from, to, false\);) s
5 156 M
(        }) s
5 134 M
(        public Edge insertEdge \(Vertex from, Vertex to, boolean dir\) {) s
5 123 M
(                Edge e = new Edge \(this, from, to, dir\);) s
5 112 M
(                from.insertNeighbor \(e\); to.insertNeighbor \(e\);) s
5 101 M
(                edges = DynamicArray.add \(edges, numberOfEdges++, e\);) s
5 90 M
(                return e;) s
5 79 M
(        }) s
5 68 M
(        ) s
5 57 M
(        public void deleteVertex \(Vertex v\) {) s
5 46 M
(                try {) s
5 35 M
(                        for \(int i = 0; i < v.inDegree; i++\) {) s
5 24 M
(                                Edge e = v.undirectedEdges [i];) s
5 13 M
(                                v.undirectedNeighbors [i].deleteNeighbor \(e\);) s
5 2 M
(                                DynamicArray.remove \(edges, numberOfEdges--, e\);) s
_R
S
%%Page: (2) 188
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/jigglecore/Graph.java) def
/fdir (src/jigglecore/) def
/ftail (Graph.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:43 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Graph.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                        }) s
5 497 M
(                        for \(int i = 0; i < v.inDegree; i++\) {) s
5 486 M
(                                Edge e = v.inEdges [i];) s
5 475 M
(                                v.inNeighbors [i].deleteNeighbor \(e\);) s
5 464 M
(                                DynamicArray.remove \(edges, numberOfEdges--, e\);) s
5 453 M
(                        }) s
5 442 M
(                        for \(int i = 0; i < v.outDegree; i++\) {) s
5 431 M
(                                Edge e = v.outEdges [i];) s
5 420 M
(                                v.outNeighbors [i].deleteNeighbor \(e\);) s
5 409 M
(                                DynamicArray.remove \(edges, numberOfEdges--, e\);) s
5 398 M
(                        }) s
5 387 M
(                        DynamicArray.remove \(vertices, numberOfVertices--, v\);) s
5 376 M
(                } catch \(NotFoundException exc\) {throw new Error \(v + " not found"\);}) s
5 365 M
(        }) s
5 343 M
(        public void deleteEdge \(Edge e\) {) s
5 332 M
(                try {) s
5 321 M
(                        e.getFrom \(\).deleteNeighbor \(e\); e.getTo \(\).deleteNeighbor \(e\);) s
5 310 M
(                        DynamicArray.remove \(edges, numberOfEdges--, e\);) s
5 299 M
(                } catch \(NotFoundException exc\) {throw new Error \(e + " not found"\);}) s
5 288 M
(        }) s
5 266 M
(        void recomputeBoundaries \(\) {) s
5 255 M
(                int d = getDimensions \(\);) s
5 244 M
(                double lo [] = getMin \(\), hi [] = getMax \(\);) s
5 233 M
(                for \(int i = 0; i < d; i++\) {) s
5 222 M
(                        lo [i] = Double.MAX_VALUE; hi [i] = -Double.MAX_VALUE;) s
5 211 M
(                }) s
5 200 M
(                for \(int i = 0; i < numberOfVertices; i++\) {) s
5 189 M
(                        Vertex v = vertices [i]; double c [] = v.getCoords \(\);) s
5 178 M
(                                for \(int j = 0; j < d; j++\) {) s
5 167 M
(                                        lo [j] = Math.min \(lo [j], c [j]\);) s
5 156 M
(                                        hi [j] = Math.max \(hi [j], c [j]\);) s
5 145 M
(                                }) s
5 134 M
(                }) s
5 123 M
(                recomputeSize \(\);) s
5 112 M
(        }) s
5 90 M
(        // The isConnected method tests whether a graph is connected.) s
5 79 M
(        // An empty graph is considered to be not connected.) s
5 57 M
(        boolean isConnected \(\) {) s
5 46 M
(                if \(numberOfVertices == 0\) return false;) s
5 35 M
(                for \(int i = 0; i < numberOfVertices; i++\)) s
5 24 M
(                        vertices [i].booleanField = false;) s
5 13 M
(                numberOfMarkedVertices = 0;) s
5 2 M
(                dft \(vertices [0]\);) s
_R
S
%%Page: (3) 189
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/jigglecore/Graph.java) def
/fdir (src/jigglecore/) def
/ftail (Graph.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:43 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (Graph.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                return \(numberOfMarkedVertices == numberOfVertices\);) s
5 497 M
(        }) s
5 486 M
(        private int numberOfMarkedVertices = 0;) s
5 475 M
(        private void dft \(Vertex v\) {) s
5 464 M
(                v.booleanField = true; ++numberOfMarkedVertices;) s
5 453 M
(                for \(int i = 0; i < v.undirectedDegree; i++\) {) s
5 442 M
(                        Vertex neighbor = v.undirectedNeighbors [i];) s
5 431 M
(                        if \(! neighbor.booleanField\) dft \(neighbor\);) s
5 420 M
(                }) s
5 409 M
(                for \(int i = 0; i < v.undirectedDegree; i++\) {) s
5 398 M
(                        Vertex neighbor = v.inNeighbors [i];) s
5 387 M
(                        if \(! neighbor.booleanField\) dft \(neighbor\);) s
5 376 M
(                }) s
5 365 M
(                for \(int i = 0; i < v.undirectedDegree; i++\) {) s
5 354 M
(                        Vertex neighbor = v.outNeighbors [i];) s
5 343 M
(                        if \(! neighbor.booleanField\) dft \(neighbor\);) s
5 332 M
(                }) s
5 321 M
(        }) s
5 310 M
(}) s
_R
S
%%Page: (1) 190
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/HybridVertexVertexRepulsionLaw.java) def
/fdir (src/jigglecore/) def
/ftail (HybridVertexVertexRepulsionLaw.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:43 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (HybridVertexVertexRepulsionLaw.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/**) s
5 475 M
( *) s
5 464 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 453 M
( */) s
5 442 M
(public class HybridVertexVertexRepulsionLaw extends VertexVertexRepulsionLaw {) s
5 420 M
(        public HybridVertexVertexRepulsionLaw \(Graph g, double k\) {) s
5 409 M
(                super \(g, k\);) s
5 398 M
(        }) s
5 376 M
(        double pairwiseRepulsion \(Cell c1, Cell c2\) {) s
5 365 M
(                double r = Cell.sumOfRadii \(c1, c2\);) s
5 354 M
(                double k = preferredEdgeLength + r;) s
5 343 M
(                double dSquared = Cell.getDistanceSquared \(c1, c2\);) s
5 332 M
(                if \(dSquared < k * k\) return k * k / dSquared;) s
5 321 M
(                else return cube \(k / Cell.getDistance \(c1, c2\)\);) s
5 310 M
(        }) s
5 299 M
(}) s
_R
S
%%Page: (1) 191
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/Intersector.java) def
/fdir (src/jigglecore/) def
/ftail (Intersector.java) def
% User defined strings:
/fmodstr (Wed Oct 12 12:00:01 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Intersector.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package jigglecore;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author Bilal Khan) s
5 398 M
( */) s
5 387 M
(public class Intersector {) s
5 365 M
(public static int crossingNumber\(Graph g\) {) s
5 354 M
(    int crossings = 0;) s
5 332 M
(    // System.out.println\("DEBUG crossingNumber over numberOfEdges="+g.numberOfEdges\);) s
5 310 M
(    for \(int i=0; i<g.numberOfEdges; i++\) {) s
5 299 M
(        for \(int j=i+1; j<g.numberOfEdges; j++\) {) s
5 288 M
(            if \(intersect\(g.edges[i], g.edges[j]\)\) {) s
5 277 M
(                crossings++;) s
5 266 M
(            }) s
5 255 M
(        }) s
5 244 M
(    }) s
5 233 M
(    return crossings;) s
5 222 M
(}) s
5 189 M
(static boolean intersect\(Edge this_line, Edge other_line\) {) s
5 167 M
(    double Ax=this_line.getFrom\(\).getCoords\(\)[0];) s
5 156 M
(    double Ay=this_line.getFrom\(\).getCoords\(\)[1];) s
5 145 M
(    double Bx=this_line.getTo\(\).getCoords\(\)[0];) s
5 134 M
(    double By=this_line.getTo\(\).getCoords\(\)[1];) s
5 112 M
(    double Cx=other_line.getFrom\(\).getCoords\(\)[0];) s
5 101 M
(    double Cy=other_line.getFrom\(\).getCoords\(\)[1];) s
5 90 M
(    double Dx=other_line.getTo\(\).getCoords\(\)[0];) s
5 79 M
(    double Dy=other_line.getTo\(\).getCoords\(\)[1];) s
5 57 M
(    boolean xxx = intersect\(Ax, Ay, Bx, By, Cx, Cy, Dx, Dy\);) s
5 35 M
(    /*) s
5 24 M
(    System.out.print\("\("+Ax+","+Ay+"\)-"\);) s
5 13 M
(    System.out.print\("\("+Bx+","+By+"\) and "\);) s
5 2 M
(    System.out.print\("\("+Cx+","+Cy+"\)-"\);) s
_R
S
%%Page: (2) 192
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/jigglecore/Intersector.java) def
/fdir (src/jigglecore/) def
/ftail (Intersector.java) def
% User defined strings:
/fmodstr (Wed Oct 12 12:00:01 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Intersector.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    System.out.print\("\("+Dx+","+Dy+"\)-"\);) s
5 497 M
(    if \(xxx\) System.out.print\(" INTERSECT"\);) s
5 486 M
(    else System.out.println\(" dont intersect"\);) s
5 475 M
(    */) s
5 453 M
(    return xxx;) s
5 442 M
(    ) s
5 431 M
(}) s
5 420 M
(static boolean intersect\(double Ax, double Ay,) s
5 409 M
(        double Bx, double By,) s
5 398 M
(        double Cx, double Cy,) s
5 387 M
(        double Dx, double Dy\) {) s
5 376 M
(    ) s
5 365 M
(    double  distAB, theCos, theSin, newX, ABpos ;) s
5 343 M
(  //  Fail if either line segment is zero-length.) s
5 332 M
(  if \(Ax==Bx && Ay==By || Cx==Dx && Cy==Dy\) return false;) s
5 310 M
(  //  Fail if the segments share an end-point.) s
5 299 M
(  if \(Ax==Cx && Ay==Cy || Bx==Cx && By==Cy) s
5 288 M
(  ||  Ax==Dx && Ay==Dy || Bx==Dx && By==Dy\) {) s
5 277 M
(    return false; }) s
5 255 M
(  //  \(1\) Translate the system so that point A is on the origin.) s
5 244 M
(  Bx-=Ax; By-=Ay;) s
5 233 M
(  Cx-=Ax; Cy-=Ay;) s
5 222 M
(  Dx-=Ax; Dy-=Ay;) s
5 200 M
(  //  Discover the length of segment A-B.) s
5 189 M
(  distAB=Math.sqrt\(Bx*Bx+By*By\);) s
5 167 M
(  //  \(2\) Rotate the system so that point B is on the positive X axis.) s
5 156 M
(  theCos=Bx/distAB;) s
5 145 M
(  theSin=By/distAB;) s
5 134 M
(  newX=Cx*theCos+Cy*theSin;) s
5 123 M
(  Cy  =Cy*theCos-Cx*theSin; Cx=newX;) s
5 112 M
(  newX=Dx*theCos+Dy*theSin;) s
5 101 M
(  Dy  =Dy*theCos-Dx*theSin; Dx=newX;) s
5 79 M
(  //  Fail if segment C-D doesn't cross line A-B.) s
5 68 M
(  if \(Cy<0. && Dy<0. || Cy>=0. && Dy>=0.\) return false;) s
5 46 M
(  //  \(3\) Discover the position of the intersection point along line A-B.) s
5 35 M
(  ABpos=Dx+\(Cx-Dx\)*Dy/\(Dy-Cy\);) s
5 13 M
(  //  Fail if segment C-D crosses line A-B outside of segment A-B.) s
5 2 M
(  if \(ABpos<0. || ABpos>distAB\) return false;) s
_R
S
%%Page: (3) 193
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/jigglecore/Intersector.java) def
/fdir (src/jigglecore/) def
/ftail (Intersector.java) def
% User defined strings:
/fmodstr (Wed Oct 12 12:00:01 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (Intersector.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 497 M
(  //  Success.) s
5 486 M
(  return true; }) s
5 475 M
(}) s
_R
S
%%Page: (1) 194
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/InverseSquareVertexEdgeRepulsionLaw.java) def
/fdir (src/jigglecore/) def
/ftail (InverseSquareVertexEdgeRepulsionLaw.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:43 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (InverseSquareVertexEdgeRepulsionLaw.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/**) s
5 475 M
( *) s
5 464 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 453 M
( */) s
5 442 M
(public class InverseSquareVertexEdgeRepulsionLaw extends VertexEdgeRepulsionLaw {) s
5 420 M
(        public InverseSquareVertexEdgeRepulsionLaw \(Graph g, double k\) {) s
5 409 M
(                super \(g, k, 1\);) s
5 398 M
(        }) s
5 376 M
(        public InverseSquareVertexEdgeRepulsionLaw \(Graph g, double k, double s\) {) s
5 365 M
(                super \(g, k, s\);) s
5 354 M
(        }) s
5 332 M
(        double pairwiseRepulsion \(Cell c1, Cell c2\) {) s
5 321 M
(                double k = preferredEdgeLength + Cell.sumOfRadii \(c1, c2\);) s
5 310 M
(                double d = Cell.getDistance \(c1, c2\);) s
5 299 M
(                if \(d >= k\) return 0; else return cube \(k / d\) - k / d;) s
5 288 M
(        }) s
5 266 M
(        double pairwiseRepulsion \(Cell cell, double [] coords\) {) s
5 255 M
(                double k = preferredEdgeLength + Cell.radius \(cell, coords\);) s
5 244 M
(                double d = Cell.getDistance \(cell, coords\);) s
5 233 M
(                if \(d >= k\) return 0; else return cube \(k / d\) - k / d;) s
5 222 M
(        }) s
5 211 M
(}) s
_R
S
%%Page: (1) 195
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/InverseSquareVertexVertexRepulsionLaw.java) def
/fdir (src/jigglecore/) def
/ftail (InverseSquareVertexVertexRepulsionLaw.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:43 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (InverseSquareVertexVertexRepulsionLaw.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/**) s
5 475 M
( *) s
5 464 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 453 M
( */) s
5 442 M
(public class InverseSquareVertexVertexRepulsionLaw extends VertexVertexRepulsionLaw {) s
5 420 M
(        public InverseSquareVertexVertexRepulsionLaw \(Graph g, double k\) {) s
5 409 M
(                super \(g, k\);) s
5 398 M
(        }) s
5 376 M
(        double pairwiseRepulsion \(Cell c1, Cell c2\) {) s
5 365 M
(                double k = preferredEdgeLength + Cell.sumOfRadii \(c1, c2\);) s
5 354 M
(                return cube \(k / Cell.getDistance \(c1, c2\)\);) s
5 343 M
(        }) s
5 332 M
(}) s
_R
S
%%Page: (1) 196
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/InverseVertexEdgeRepulsionLaw.java) def
/fdir (src/jigglecore/) def
/ftail (InverseVertexEdgeRepulsionLaw.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:44 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (InverseVertexEdgeRepulsionLaw.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/**) s
5 475 M
( *) s
5 464 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 453 M
( */) s
5 442 M
(public class InverseVertexEdgeRepulsionLaw extends VertexEdgeRepulsionLaw {) s
5 420 M
(        public InverseVertexEdgeRepulsionLaw \(Graph g, double k\) {) s
5 409 M
(                super \(g, k, 1\);) s
5 398 M
(        }) s
5 376 M
(        public InverseVertexEdgeRepulsionLaw \(Graph g, double k, double s\) {) s
5 365 M
(                super \(g, k, s\);) s
5 354 M
(        }) s
5 332 M
(        double pairwiseRepulsion \(Cell c1, Cell c2\) {) s
5 321 M
(                double k = preferredEdgeLength + Cell.sumOfRadii \(c1, c2\);) s
5 310 M
(                double dSquared = Cell.getDistanceSquared \(c1, c2\);) s
5 299 M
(                if \(dSquared >= square \(k\)\) return 0; ) s
5 288 M
(                else return k * k / dSquared - k / Math.sqrt \(dSquared\);) s
5 277 M
(        }) s
5 255 M
(        double pairwiseRepulsion \(Cell cell, double [] coords\) {) s
5 244 M
(                double k = preferredEdgeLength + Cell.radius \(cell, coords\);) s
5 233 M
(                double dSquared = Cell.getDistanceSquared \(cell, coords\);) s
5 222 M
(                if \(dSquared >= square \(k\)\) return 0; ) s
5 211 M
(                else return k * k / dSquared - k / Math.sqrt \(dSquared\);) s
5 200 M
(        }) s
5 189 M
(}) s
_R
S
%%Page: (1) 197
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/InverseVertexVertexRepulsionLaw.java) def
/fdir (src/jigglecore/) def
/ftail (InverseVertexVertexRepulsionLaw.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:44 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (InverseVertexVertexRepulsionLaw.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/**) s
5 475 M
( *) s
5 464 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 453 M
( */) s
5 442 M
(public class InverseVertexVertexRepulsionLaw extends VertexVertexRepulsionLaw {) s
5 420 M
(        public InverseVertexVertexRepulsionLaw \(Graph g, double k\) {) s
5 409 M
(                super \(g, k\);) s
5 398 M
(        }) s
5 376 M
(        double pairwiseRepulsion \(Cell c1, Cell c2\) {) s
5 365 M
(                double k = preferredEdgeLength + Cell.sumOfRadii \(c1, c2\);) s
5 354 M
(                return k * k / Cell.getDistanceSquared \(c1, c2\);) s
5 343 M
(        }) s
5 332 M
(}) s
_R
S
%%Page: (1) 198
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/JiggleObject.java) def
/fdir (src/jigglecore/) def
/ftail (JiggleObject.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:44 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (JiggleObject.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/* Abstract base class for all JIGGLE objects. */) s
5 464 M
(/**) s
5 453 M
( *) s
5 442 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 431 M
( */) s
5 420 M
(public abstract class JiggleObject {) s
5 398 M
(        private JiggleObject context = null;) s
5 387 M
(        public JiggleObject getContext \(\) {return context;}) s
5 376 M
(        protected void setContext \(JiggleObject c\) {context = c;}) s
5 354 M
(        /* The context of a JiggleObject identifies the parent JiggleObject) s
5 343 M
(        \(if any\) that contains it.  The context of a Vertex or Cell is either) s
5 332 M
(        a Graph or a Cell; the context of an Edge is a Graph; the context of) s
5 321 M
(        an EdgeLabel is an Edge.  For now, we assume that the   context of a) s
5 310 M
(        Graph is null; if, however, we extend the present implementation to) s
5 299 M
(        include composite graphs, then the context of a Graph   could be a) s
5 288 M
(        JiggleObject \(e.g. a Vertex\) that contains the graph inside     it. */) s
5 266 M
(        boolean booleanField = false;) s
5 255 M
(        int intField = 0;) s
5 244 M
(        Object objectField = null;) s
5 222 M
(        static double square \(double d\) {return d * d;}) s
5 211 M
(        static double cube \(double d\) {return d * d * d;}) s
5 200 M
(        static int intSquare \(int n\) {return n * n;}) s
5 178 M
(        static int power \(int base, int d\) {) s
5 167 M
(                if \(d == 0\) return 1;) s
5 156 M
(                else if \(d == 1\) return base;) s
5 145 M
(                else if \(d % 2 == 0\) return intSquare \(power \(base, d / 2\)\);) s
5 134 M
(                else return base * intSquare \(power \(base, d / 2\)\);) s
5 123 M
(        }) s
5 112 M
(}) s
_R
S
%%Page: (1) 199
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/LinearSpringLaw.java) def
/fdir (src/jigglecore/) def
/ftail (LinearSpringLaw.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:44 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (LinearSpringLaw.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/**) s
5 475 M
( *) s
5 464 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 453 M
( */) s
5 442 M
(public class LinearSpringLaw extends SpringLaw {) s
5 420 M
(        public LinearSpringLaw \(Graph g, double k\) {super \(g, k\);}) s
5 398 M
(        double springAttraction \(Edge e\) {) s
5 387 M
(                double r = Cell.sumOfRadii \(e.getFrom \(\), e.getTo \(\)\);) s
5 376 M
(                if \(r == 0\) return 1; else return 1 - r / e.getLength \(\);) s
5 365 M
(        }) s
5 354 M
(}) s
_R
S
%%Page: (1) 200
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/Main.java) def
/fdir (src/jigglecore/) def
/ftail (Main.java) def
% User defined strings:
/fmodstr (Wed Oct 12 11:44:59 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Main.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package jigglecore;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public class Main {) s
5 376 M
(    /**) s
5 365 M
(     * @param args the command line arguments) s
5 354 M
(     */) s
5 343 M
(    public static void main\(String[] args\) {) s
5 332 M
(        // TODO code application logic here) s
5 310 M
(/*) s
5 299 M
(Node 0 @ 5.999999999999999 , 0.0) s
5 288 M
(Node 1 @ 2.8890725407747664 , 0.3191581928043395) s
5 277 M
(Node 2 @ 4.1978494452756925 , 5.999999999999999) s
5 266 M
(Node 3 @ 1.5365544482374358 , 2.793475452785374) s
5 255 M
(Node 4 @ 0.0 , 0.8532927763978876) s
5 244 M
(*/) s
5 233 M
(        ) s
5 222 M
(        double Ax=2.8890725407747664;) s
5 211 M
(        double Ay=0.3191581928043395;) s
5 200 M
(        double Bx=4.1978494452756925;) s
5 189 M
(        double By=5.999999999999999;) s
5 167 M
(        double Cx=1.5365544482374358;) s
5 156 M
(        double Cy=2.793475452785374;) s
5 145 M
(        double Dx=5.999999999999999;) s
5 134 M
(        double Dy=0.0;) s
5 112 M
(        boolean inter = Intersector.intersect\(Ax, Ay, Bx, By, Cx, Cy, Dx, Dy\);) s
5 90 M
(        System.out.println\("The line intersect test: "+inter\);) s
5 79 M
(    }) s
5 68 M
(}) s
_R
S
%%Page: (1) 201
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/MultidimensionalArray.java) def
/fdir (src/jigglecore/) def
/ftail (MultidimensionalArray.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:44 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (MultidimensionalArray.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/**) s
5 475 M
( *) s
5 464 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 453 M
( */) s
5 442 M
(public class MultidimensionalArray extends JiggleObject {) s
5 420 M
(        private int dimensions = 0;) s
5 409 M
(        private int size [] = null;) s
5 398 M
(        private int numberOfCells = 0;) s
5 387 M
(        private Object cells [] = null;) s
5 365 M
(        MultidimensionalArray \(int d, int [] s\) {) s
5 354 M
(                dimensions = d; size = new int [d]; numberOfCells = 1;) s
5 343 M
(                for \(int i = 0; i < d; i++\) {) s
5 332 M
(                        numberOfCells *= \(size [i] = s [i]\);) s
5 321 M
(                }) s
5 310 M
(                cells = new Object [numberOfCells];) s
5 299 M
(        }) s
5 277 M
(        int getDimensions \(\) {return dimensions;}) s
5 255 M
(        Object get \(int [] index\) {return cells [rankOf \(index\)];}) s
5 233 M
(        void set \(int [] index, Object obj\) {cells [rankOf \(index\)] = obj;}) s
5 211 M
(        private int rankOf \(int [] index\) {) s
5 200 M
(                int rank = 0, column = 1;) s
5 189 M
(                for \(int i = 0; i < dimensions; i++\) {) s
5 178 M
(                        rank += index [i] * column;) s
5 167 M
(                        column *= size [i];) s
5 156 M
(                }) s
5 145 M
(                return rank;) s
5 134 M
(        }) s
5 123 M
(}) s
_R
S
%%Page: (1) 202
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/NotFoundException.java) def
/fdir (src/jigglecore/) def
/ftail (NotFoundException.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:44 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (NotFoundException.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/* Exception thrown by remove methods when element is not found. */) s
5 464 M
(/**) s
5 453 M
( *) s
5 442 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 431 M
( */) s
5 420 M
(public class NotFoundException extends Exception {) s
5 398 M
(        NotFoundException \(\) {}) s
5 387 M
(}) s
_R
S
%%Page: (1) 203
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/ProjectionConstraint.java) def
/fdir (src/jigglecore/) def
/ftail (ProjectionConstraint.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:44 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (ProjectionConstraint.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/**) s
5 475 M
( *) s
5 464 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 453 M
( */) s
5 442 M
(public class ProjectionConstraint extends Constraint {) s
5 420 M
(        private int dimensions = 0;) s
5 398 M
(        public ProjectionConstraint \(Graph g, int d\) {) s
5 387 M
(                super \(g\); dimensions = d;) s
5 376 M
(        }) s
5 365 M
(        ) s
5 354 M
(        void apply \(double [][] penalty\) {) s
5 343 M
(                int d = graph.getDimensions \(\);) s
5 332 M
(                int n = graph.numberOfVertices;) s
5 321 M
(                for \(int i = 0; i < n; i++\) {) s
5 310 M
(                        double coords [] = graph.vertices [i].getCoords \(\);) s
5 299 M
(                        for \(int j = dimensions; j < d; j++\) {) s
5 288 M
(                                penalty [i] [j] += \(- coords [j]\);) s
5 277 M
(                        }) s
5 266 M
(                }) s
5 255 M
(        }) s
5 244 M
(}) s
_R
S
%%Page: (1) 204
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/QuadTree.java) def
/fdir (src/jigglecore/) def
/ftail (QuadTree.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:44 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (QuadTree.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/**) s
5 475 M
( *) s
5 464 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 453 M
( */) s
5 442 M
(public class QuadTree extends Cell {) s
5 420 M
(        QuadTree subtrees [];) s
5 398 M
(        double force [];) s
5 376 M
(        QuadTree \(Graph g\) {) s
5 365 M
(                setContext \(g\); objectField = null;) s
5 354 M
(                int d = g.getDimensions \(\); setDimensions \(d\);) s
5 343 M
(                subtrees = new QuadTree [power \(2, d\)];) s
5 332 M
(                int n = g.numberOfVertices;) s
5 321 M
(                setMin \(g.getMin \(\)\); setMax \(g.getMax \(\)\);) s
5 310 M
(                for \(int i = 0; i < n; i++\)) s
5 299 M
(                        g.vertices [i].objectField = null;) s
5 288 M
(                for \(int i = 0; i < n; i++\)) s
5 277 M
(                        insert \(g.vertices [i]\);) s
5 266 M
(                force = new double [d]; for \(int i = 0; i < d; i++\) force [i] = 0;) s
5 255 M
(        }) s
5 233 M
(        private QuadTree \(double [] min, double [] max, QuadTree p\) {) s
5 222 M
(                setContext \(p\); objectField = null;) s
5 211 M
(                int d = p.getDimensions \(\); setDimensions \(d\);) s
5 200 M
(                subtrees = new QuadTree [power \(2, d\)];) s
5 189 M
(                setMin \(min\); setMax \(max\);) s
5 178 M
(                force = new double [d]; for \(int i = 0; i < d; i++\) force [i] = 0;) s
5 167 M
(        }) s
5 145 M
(        QuadTree lookUp \(Vertex v\) {) s
5 134 M
(                if \(objectField == v\) return this;) s
5 123 M
(                else if \(objectField != null\) return null;) s
5 112 M
(                else return subtrees [getIndex \(v\)].lookUp \(v\);) s
5 101 M
(        }) s
5 79 M
(        private int getIndex \(Vertex v\) {) s
5 68 M
(                double c [] = v.getCoords \(\), center [] = getCenter \(\);) s
5 57 M
(                int d = getDimensions \(\), index = 0, column = 1;) s
5 46 M
(                for \(int i = 0; i < d; i++\) {) s
5 35 M
(                        if \(c [i] > center [i]\) index += column;) s
5 24 M
(                        column *= 2;) s
5 13 M
(                }) s
5 2 M
(                return index;) s
_R
S
%%Page: (2) 205
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/jigglecore/QuadTree.java) def
/fdir (src/jigglecore/) def
/ftail (QuadTree.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:44 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (QuadTree.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        }) s
5 486 M
(        private double [] getCenter \(\) {) s
5 475 M
(                int d = getDimensions \(\);) s
5 464 M
(                double mp [] = new double [d];) s
5 453 M
(                double lo [] = getMin \(\), hi [] = getMax \(\);) s
5 442 M
(                for \(int i = 0; i < d; i++\) mp [i] = \(lo [i] + hi [i]\) / 2;) s
5 431 M
(                return mp;) s
5 420 M
(        }) s
5 398 M
(        protected void recomputeSize \(\) {}) s
5 387 M
(        void recomputeBoundaries \(\) {}) s
5 376 M
(        /* NOTE: Size for quadtrees has nothing to do with min and max! It stores) s
5 365 M
(        the average size of the vertices that have been inserted into the tree. */ ) s
5 343 M
(        void insert \(Vertex v\) {) s
5 332 M
(                double w = getWeight \(\), vw = v.getWeight \(\);) s
5 321 M
(                int d = getDimensions \(\);) s
5 310 M
(                double vCoords [] = v.getCoords \(\), vSize [] = v.getSize \(\);) s
5 299 M
(                if \(w == 0\) {) s
5 288 M
(                        v.setContext \(this\); setWeight \(v.getWeight \(\)\);) s
5 277 M
(                        setCoords \(vCoords\); setSize \(v.getSize \(\)\);) s
5 266 M
(                        objectField = v; return;) s
5 255 M
(                }) s
5 244 M
(                if \(objectField != null\) splitCell \(\);) s
5 233 M
(                double c [] = getCoords \(\), s [] = getSize \(\);) s
5 222 M
(                for \(int i = 0; i < d; i++\) {) s
5 211 M
(                        c [i] = \(c [i] * w + vCoords [i] * vw\) / \(w + vw\);) s
5 200 M
(                        s [i] = \(s [i] * w + vSize [i] * vw\) / \(w + vw\);) s
5 189 M
(                }) s
5 178 M
(                setWeight \(w + vw\);) s
5 167 M
(                subtrees [getIndex \(v\)].insert \(v\);) s
5 156 M
(        }) s
5 134 M
(        private void splitCell \(\) {) s
5 123 M
(                Vertex v = \(Vertex\) objectField;) s
5 112 M
(                objectField = null;) s
5 101 M
(                double cellMin [] = getMin \(\), cellMax [] = getMax \(\);) s
5 90 M
(                double center [] = getCenter \(\);) s
5 79 M
(                int d = getDimensions \(\), n = power \(2, d\);) s
5 68 M
(                double lo [] = new double [d], hi [] = new double [d];) s
5 57 M
(                for \(int index = 0; index < n; index++\) {) s
5 46 M
(                        int column = 1;) s
5 35 M
(                        for \(int i = 0; i < d; i++\) {) s
5 24 M
(                                if \(\(index & column\) > 0\) {) s
5 13 M
(                                        lo [i] = center [i]; hi [i] = cellMax [i];) s
5 2 M
(                                }) s
_R
S
%%Page: (3) 206
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/jigglecore/QuadTree.java) def
/fdir (src/jigglecore/) def
/ftail (QuadTree.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:44 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (QuadTree.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                                else {lo [i] = cellMin [i]; hi [i] = center [i];}) s
5 497 M
(                                column *= 2;) s
5 486 M
(                        }) s
5 475 M
(                        subtrees [index] = new QuadTree \(lo, hi, this\);) s
5 464 M
(                }) s
5 453 M
(                subtrees [getIndex \(v\)].insert \(v\);) s
5 442 M
(        }) s
5 431 M
(}) s
_R
S
%%Page: (1) 207
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/QuadraticSpringLaw.java) def
/fdir (src/jigglecore/) def
/ftail (QuadraticSpringLaw.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:45 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (QuadraticSpringLaw.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/**) s
5 475 M
( *) s
5 464 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 453 M
( */) s
5 442 M
(public class QuadraticSpringLaw extends SpringLaw {) s
5 420 M
(        public QuadraticSpringLaw \(Graph g, double k\) {super \(g, k\);}           ) s
5 398 M
(        double springAttraction \(Edge e\) {) s
5 387 M
(                double r = Cell.sumOfRadii \(e.getFrom \(\), e.getTo \(\)\);) s
5 376 M
(                double len = e.getLength \(\);) s
5 365 M
(                return \(len - r\) / preferredEdgeLength;) s
5 354 M
(        }) s
5 343 M
(}) s
_R
S
%%Page: (1) 208
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/SpringLaw.java) def
/fdir (src/jigglecore/) def
/ftail (SpringLaw.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:45 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (SpringLaw.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/**) s
5 475 M
( *) s
5 464 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 453 M
( */) s
5 442 M
(public abstract class SpringLaw extends ForceLaw {) s
5 420 M
(        protected double preferredEdgeLength;) s
5 398 M
(        protected SpringLaw \(Graph g, double k\) {) s
5 387 M
(                super \(g\); preferredEdgeLength = k;) s
5 376 M
(        }) s
5 354 M
(        void apply \(double [][] negativeGradient\) {) s
5 343 M
(                int m = graph.numberOfEdges, d = graph.getDimensions \(\);) s
5 332 M
(                for \(int i = 0; i < m; i++\) {) s
5 321 M
(                        Edge e = graph.edges [i];) s
5 310 M
(                        Vertex from = e.getFrom \(\), to = e.getTo \(\);) s
5 299 M
(                        double fromWeight = from.getWeight \(\), toWeight = to.getWeight \(\);) s
5 288 M
(                        int f = from.intField, t = to.intField;) s
5 277 M
(                        double w = Math.min \(springAttraction \(e\), cap / e.getLength \(\)\);) s
5 266 M
(                        double fromCoords [] = from.getCoords \(\);) s
5 255 M
(                        double toCoords [] = to.getCoords \(\);) s
5 244 M
(                        for \(int j = 0; j < d; j++\) {) s
5 233 M
(                                double force = \(toCoords [j] - fromCoords [j]\) * w;) s
5 222 M
(                                negativeGradient [f] [j] += force * toWeight;) s
5 211 M
(                                negativeGradient [t] [j] -= force * fromWeight;) s
5 200 M
(                        }) s
5 189 M
(                }) s
5 178 M
(        }) s
5 156 M
(        abstract double springAttraction \(Edge e\);) s
5 145 M
(}) s
_R
S
%%Page: (1) 209
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/StandardForceModel.java) def
/fdir (src/jigglecore/) def
/ftail (StandardForceModel.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:45 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (StandardForceModel.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/* Class for standard force model of graph-drawing aesthetics. */) s
5 464 M
(/**) s
5 453 M
( *) s
5 442 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 431 M
( */) s
5 420 M
(public class StandardForceModel extends ForceModel {) s
5 398 M
(        public StandardForceModel \(Graph g, double k, double theta\) {) s
5 387 M
(                super \(g\);) s
5 376 M
(                preferredEdgeLength = k;) s
5 365 M
(                SpringLaw springLaw = new QuadraticSpringLaw \(g, k\);) s
5 354 M
(                VertexVertexRepulsionLaw vvRepulsionLaw = new HybridVertexVertexRepulsionLaw \(g, k\);) s
5 343 M
(                addForceLaw \(springLaw\);) s
5 332 M
(                addForceLaw \(vvRepulsionLaw\);) s
5 321 M
(                addConstraint \(new ProjectionConstraint \(g, 2\)\);) s
5 310 M
(        }) s
5 299 M
(}) s
_R
S
%%Page: (1) 210
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/SteepestDescent.java) def
/fdir (src/jigglecore/) def
/ftail (SteepestDescent.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:45 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (SteepestDescent.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/* Class for method of steepest descent. */) s
5 464 M
(/**) s
5 453 M
( *) s
5 442 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 431 M
( */) s
5 420 M
(public class SteepestDescent extends FirstOrderOptimizationProcedure{) s
5 398 M
(        public SteepestDescent \(Graph g, ForceModel fm, double accuracy\) {) s
5 387 M
(                super \(g, fm, accuracy\);) s
5 376 M
(        }) s
5 354 M
(        protected void computeDescentDirection \(\) {) s
5 343 M
(                int n = graph.numberOfVertices, d = graph.getDimensions \(\);) s
5 332 M
(                if \(\(descentDirection == null\) || \(descentDirection.length != n\)\)) s
5 321 M
(                        descentDirection = new double [n] [d];) s
5 310 M
(                for \(int i = 0; i < n; i++\) {) s
5 299 M
(                        for \(int j = 0; j < d; j++\) {) s
5 288 M
(                                descentDirection [i] [j] = negativeGradient [i] [j];) s
5 277 M
(                        }) s
5 266 M
(                }) s
5 255 M
(        }) s
5 244 M
(}) s
_R
S
%%Page: (1) 211
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/SurfaceOfSphereConstraint.java) def
/fdir (src/jigglecore/) def
/ftail (SurfaceOfSphereConstraint.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:45 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (SurfaceOfSphereConstraint.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/**) s
5 475 M
( *) s
5 464 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 453 M
( */) s
5 442 M
(public class SurfaceOfSphereConstraint extends Constraint {) s
5 420 M
(        private double radius;) s
5 398 M
(        public SurfaceOfSphereConstraint \(Graph g\) {) s
5 387 M
(                super \(g\); radius = 0;) s
5 376 M
(        }) s
5 354 M
(        public SurfaceOfSphereConstraint \(Graph g, double r\) {) s
5 343 M
(                super \(g\); radius = r;) s
5 332 M
(        }) s
5 321 M
(        ) s
5 310 M
(        void apply \(double [][] penalty\) {) s
5 299 M
(                int d = graph.getDimensions \(\);) s
5 288 M
(                int n = graph.numberOfVertices;) s
5 277 M
(                double center [] = new double [d], sum [] = new double [d];) s
5 266 M
(                for \(int i = 0; i < d; i++\) center [i] = sum [i] = 0;) s
5 255 M
(                for \(int i = 0; i < n; i++\) {) s
5 244 M
(                        double coords [] = graph.vertices [i].getCoords \(\);) s
5 233 M
(                        for \(int j = 0; j < d; j++\) center [j] += coords [j] / n;) s
5 222 M
(                }) s
5 211 M
(                double r = radius;) s
5 200 M
(                if \(r == 0\) {) s
5 189 M
(                        for \(int i = 0; i < n; i++\) {) s
5 178 M
(                                double coords [] = graph.vertices [i].getCoords \(\);) s
5 167 M
(                                double distanceSquared = 0;) s
5 156 M
(                                for \(int j = 0; j < d; j++\) {) s
5 145 M
(                                        distanceSquared += square \(coords [j] - center [j]\);) s
5 134 M
(                                }) s
5 123 M
(                                r += Math.sqrt \(distanceSquared\);) s
5 112 M
(                        }) s
5 101 M
(                        r = r / n;) s
5 90 M
(                }) s
5 68 M
(                for \(int i = 0; i < n; i++\) {) s
5 57 M
(                        double coords [] = graph.vertices [i].getCoords \(\);) s
5 46 M
(                        double distanceSquared = 0;) s
5 35 M
(                        for \(int j = 0; j < d; j++\) {) s
5 24 M
(                                distanceSquared += square \(coords [j] - center [j]\);) s
5 13 M
(                        }) s
5 2 M
(                        double p = r - Math.sqrt \(distanceSquared\);) s
_R
S
%%Page: (2) 212
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/jigglecore/SurfaceOfSphereConstraint.java) def
/fdir (src/jigglecore/) def
/ftail (SurfaceOfSphereConstraint.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:45 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (SurfaceOfSphereConstraint.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                        for \(int j = 0; j < d; j++\) {) s
5 497 M
(                                penalty [i] [j] += p * \(coords [j] - center [j]\);) s
5 486 M
(                                sum [j] += p * \(coords [j] - center [j]\);) s
5 475 M
(                        }) s
5 464 M
(                }) s
5 453 M
(                for \(int i = 0; i < n; i++\) {) s
5 442 M
(                        for \(int j = 0; j < d; j++\) {) s
5 431 M
(                                penalty [i] [j] -= sum [j] / n;) s
5 420 M
(                        }) s
5 409 M
(                }) s
5 387 M
(        }) s
5 376 M
(}) s
_R
S
%%Page: (1) 213
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/Vertex.java) def
/fdir (src/jigglecore/) def
/ftail (Vertex.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:45 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Vertex.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/* Class for vertices of a graph. */) s
5 464 M
(/**) s
5 453 M
( *) s
5 442 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 431 M
( */) s
5 420 M
(public class Vertex extends Cell {) s
5 398 M
(        int undirectedDegree = 0, inDegree = 0, outDegree = 0;) s
5 387 M
(        Edge undirectedEdges [] = new Edge [1];) s
5 376 M
(        Edge         inEdges [] = new Edge [1];) s
5 365 M
(        Edge        outEdges [] = new Edge [1];) s
5 354 M
(        Vertex undirectedNeighbors [] = new Vertex [1];) s
5 343 M
(        Vertex         inNeighbors [] = new Vertex [1];) s
5 332 M
(        Vertex        outNeighbors [] = new Vertex [1];) s
5 310 M
(        /* NOTE: the above are made package-accessible for reasons of) s
5 299 M
(        efficiency.  They should NOT, however, be modified except by) s
5 288 M
(        insertNeighbor and deleteNeighbor methods below. */) s
5 266 M
(        private String name = ""; /* name of vertex */) s
5 255 M
(        private boolean fixed = false; /* is the vertex anchored? */) s
5 233 M
(        Vertex \(Graph g\) {) s
5 222 M
(                super \(\);) s
5 211 M
(                setContext \(g\); setWeight \(1\); setDimensions \(g.getDimensions \(\)\);) s
5 200 M
(        }) s
5 178 M
(        String getName \(\) {return name;}) s
5 167 M
(        void setName \(String str\) {name = str;}) s
5 145 M
(        boolean getFixed \(\) {return fixed;}) s
5 134 M
(        void setFixed \(boolean f\) {fixed = f;}) s
5 112 M
(        void insertNeighbor \(Edge e\) {) s
5 101 M
(                Vertex from = e.getFrom \(\), to = e.getTo \(\);) s
5 90 M
(                Vertex v = null;) s
5 79 M
(                if \(this == from\) v = to; else if \(this == to\) v = from;) s
5 68 M
(                else throw new Error \(e + " not incident to " + this\);) s
5 57 M
(                if \(! e.getDirected \(\)\) {) s
5 46 M
(                        undirectedEdges = DynamicArray.add) s
5 35 M
(                                \(undirectedEdges, undirectedDegree, e\);) s
5 24 M
(                        undirectedNeighbors = DynamicArray.add) s
5 13 M
(                                \(undirectedNeighbors, undirectedDegree++, v\);) s
5 2 M
(                }) s
_R
S
%%Page: (2) 214
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/jigglecore/Vertex.java) def
/fdir (src/jigglecore/) def
/ftail (Vertex.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:45 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Vertex.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                else if \(this == from\) {) s
5 497 M
(                        outEdges = DynamicArray.add \(outEdges, outDegree, e\);) s
5 486 M
(                        outNeighbors = DynamicArray.add) s
5 475 M
(                                \(outNeighbors, outDegree++, to\);) s
5 464 M
(                }) s
5 453 M
(                else {) s
5 442 M
(                        inEdges = DynamicArray.add \(inEdges, inDegree, e\);) s
5 431 M
(                        inNeighbors = DynamicArray.add) s
5 420 M
(                                \(inNeighbors, inDegree++, from\);) s
5 409 M
(                }) s
5 398 M
(        }) s
5 376 M
(        void deleteNeighbor \(Edge e\) {) s
5 365 M
(                Vertex from = e.getFrom \(\), to = e.getTo \(\);) s
5 354 M
(                Vertex v = null;) s
5 343 M
(                if \(this == from\) v = to; else if \(this == to\) v = from;) s
5 332 M
(                else throw new Error \(e + " not incident to " + this\);) s
5 321 M
(                try {) s
5 310 M
(                        if \(! e.getDirected \(\)\) {) s
5 299 M
(                                DynamicArray.remove) s
5 288 M
(                                        \(undirectedEdges, undirectedDegree, e\);) s
5 277 M
(                                DynamicArray.remove) s
5 266 M
(                                        \(undirectedNeighbors, undirectedDegree--, v\);) s
5 255 M
(                        }) s
5 244 M
(                        else if \(this == from\) {) s
5 233 M
(                                DynamicArray.remove \(outEdges, outDegree, e\);) s
5 222 M
(                                DynamicArray.remove \(outNeighbors, outDegree--, to\);) s
5 211 M
(                        }) s
5 200 M
(                        else {) s
5 189 M
(                                DynamicArray.remove \(inEdges, inDegree, e\);) s
5 178 M
(                                DynamicArray.remove \(inNeighbors, inDegree--, from\);) s
5 167 M
(                        }) s
5 156 M
(                } catch \(NotFoundException exc\) {) s
5 145 M
(                        throw new Error \(e + " not incident to " + this\);) s
5 134 M
(                }) s
5 123 M
(        }) s
5 101 M
(        public String toString \(\) {return "\(Vertex: " + name + "\)";}) s
5 90 M
(}) s
_R
S
%%Page: (1) 215
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/VertexEdgeRepulsionLaw.java) def
/fdir (src/jigglecore/) def
/ftail (VertexEdgeRepulsionLaw.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:45 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (VertexEdgeRepulsionLaw.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(import java.util.Enumeration;) s
5 464 M
(/**) s
5 453 M
( *) s
5 442 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 431 M
( */) s
5 420 M
(public abstract class VertexEdgeRepulsionLaw extends ForceLaw {) s
5 398 M
(        protected double preferredEdgeLength;) s
5 387 M
(        protected double strength = 1;) s
5 365 M
(        protected VertexEdgeRepulsionLaw \(Graph g, double k, double s\) {) s
5 354 M
(                super \(g\); preferredEdgeLength = k; strength = s;) s
5 343 M
(        }) s
5 321 M
(        private boolean gridding = false;) s
5 310 M
(        public boolean getGridding \(\) {return gridding;}) s
5 299 M
(        public void setGridding \(boolean b\) {gridding = b;}) s
5 277 M
(        abstract double pairwiseRepulsion \(Cell c1, Cell c2\);) s
5 266 M
(        abstract double pairwiseRepulsion \(Cell c, double [] coords\);) s
5 255 M
(        ) s
5 244 M
(        void apply \(double [][] negativeGradient\) {) s
5 233 M
(                if \(gridding\) applyUsingGridding \(negativeGradient\);) s
5 222 M
(                int n = graph.numberOfVertices, m = graph.numberOfEdges;) s
5 211 M
(                int d = graph.getDimensions \(\);) s
5 200 M
(                for \(int i = 0; i < n; i++\) {) s
5 189 M
(                        Vertex v = graph.vertices [i];) s
5 178 M
(                        for \(int j = 0; j < m; j++\) {) s
5 167 M
(                                Edge e = graph.edges [j];) s
5 156 M
(                                Vertex from = e.getFrom \(\), to = e.getTo \(\);) s
5 145 M
(                                computeRepulsion \(v, e, negativeGradient\);) s
5 134 M
(                        }) s
5 123 M
(                }) s
5 112 M
(        }) s
5 90 M
(        private void applyUsingGridding \(double [][] negativeGradient\) {) s
5 79 M
(                graph.recomputeBoundaries \(\);) s
5 68 M
(                int n = graph.numberOfVertices, m = graph.numberOfEdges;) s
5 57 M
(                int d = graph.getDimensions \(\);) s
5 46 M
(                int gridSize [] = new int [d];) s
5 35 M
(                double drawingArea [] = graph.getSize \(\), k = preferredEdgeLength;) s
5 24 M
(                for \(int i = 0; i < d; i++\) {) s
5 13 M
(                        gridSize [i] = \(int\) \(drawingArea [i] / k\) + 1;) s
5 2 M
(                }) s
_R
S
%%Page: (2) 216
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/jigglecore/VertexEdgeRepulsionLaw.java) def
/fdir (src/jigglecore/) def
/ftail (VertexEdgeRepulsionLaw.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:45 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (VertexEdgeRepulsionLaw.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                MultidimensionalArray grid = new MultidimensionalArray \(d, gridSize\);) s
5 497 M
(                double gMin [] = graph.getMin \(\);) s
5 486 M
(                int index [] = new int [d], sign [] = new int [d];) s
5 475 M
(                for \(int i = 0; i < n; i++\) {) s
5 464 M
(                        Vertex v = graph.vertices [i]; double c [] = v.getCoords \(\);) s
5 453 M
(                        for \(int j = 0; j < d; j++\) {) s
5 442 M
(                                index [j] = \(int\) \(\(c [j] - gMin [j]\) / k\);) s
5 431 M
(                        }) s
5 420 M
(                        VertexSet gridCell = \(VertexSet\) grid.get \(index\);) s
5 409 M
(                        if \(gridCell == null\) grid.set \(index, new VertexSet \(v\)\);) s
5 398 M
(                        else gridCell.add \(v\);) s
5 387 M
(                        v.objectField = index;) s
5 376 M
(                }) s
5 365 M
(                for \(int i = 0; i < m; i++\) {) s
5 354 M
(                        Edge e = graph.edges [i];) s
5 343 M
(                        Vertex from = e.getFrom \(\), to = e.getTo \(\);) s
5 332 M
(                        double fCoords [] = from.getCoords \(\), tCoords [] = to.getCoords \(\);) s
5 321 M
(                        for \(int j = 0; j < d; j++\) {) s
5 310 M
(                                if \(fCoords [j] < tCoords [j]\) sign [j] = 1;) s
5 299 M
(                                else if \(fCoords [j] > tCoords [j]\) sign [j] = -1;) s
5 288 M
(                                else sign [j] = 0;) s
5 277 M
(                        }) s
5 266 M
(                        int current [] = \(int []\) from.objectField;) s
5 255 M
(                        int numberOfAdjs = power \(3, d\);) s
5 244 M
(                        boolean flag = true;) s
5 233 M
(                        while \(flag || \(! equal \(current, \(int []\) to.objectField\)\)\) {) s
5 222 M
(                                flag = false;) s
5 211 M
(                                FORLOOP: for \(int adj = 0; adj < numberOfAdjs; adj++\) {) s
5 200 M
(                                        int temp = adj;) s
5 189 M
(                                        for \(int j = 0; j < d; j++\) {) s
5 178 M
(                                                index [j] = current [j] + \(temp % 3\) - 1;) s
5 167 M
(                                                if \(\(index [j] < 0\) || \(index [j] >= gridSize [j]\)\)) s
5 156 M
(                                                        continue FORLOOP;) s
5 145 M
(                                                temp /= 3;) s
5 134 M
(                                        }) s
5 123 M
(                                        VertexSet gridCell = \(VertexSet\) grid.get \(index\);) s
5 112 M
(                                        if \(\(gridCell != null\) && \(! gridCell.booleanField\)\) {) s
5 101 M
(                                                for \(Enumeration en = gridCell.elements \(\);) s
5 90 M
(                                                     en.hasMoreElements \(\);\) {) s
5 79 M
(                                                        Vertex v = \(Vertex\) en.nextElement \(\);) s
5 68 M
(                                                        computeRepulsion \(v, e, negativeGradient\);) s
5 57 M
(                                                }) s
5 46 M
(                                                gridCell.booleanField = true;) s
5 35 M
(                                        }) s
5 24 M
(                                }) s
5 13 M
(                                double time, minTime = Double.MAX_VALUE; int nextAxis = 0;) s
5 2 M
(                                for \(int axis = 0; axis < d; axis++\) {) s
_R
S
%%Page: (3) 217
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/jigglecore/VertexEdgeRepulsionLaw.java) def
/fdir (src/jigglecore/) def
/ftail (VertexEdgeRepulsionLaw.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:45 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (VertexEdgeRepulsionLaw.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                                        if \(sign [axis] == 0\) continue;) s
5 497 M
(                                        if \(sign [axis] == 1\) {) s
5 486 M
(                                                time = \(current [axis] + 1\) * k /) s
5 475 M
(                                                       \(tCoords [axis] - fCoords [axis]\);) s
5 464 M
(                                        }) s
5 453 M
(                                        else {) s
5 442 M
(                                                time = current [axis] * k /) s
5 431 M
(                                                       \(fCoords [axis] - tCoords [axis]\);) s
5 420 M
(                                        }) s
5 409 M
(                                        if \(time < minTime\) {minTime = time; nextAxis = axis;}) s
5 398 M
(                                }) s
5 387 M
(                                current [nextAxis] += sign [nextAxis];) s
5 376 M
(                        }) s
5 365 M
(                }) s
5 354 M
(        }) s
5 332 M
(        private boolean equal \(int [] u, int [] v\) {) s
5 321 M
(                int d = u.length;) s
5 310 M
(                for \(int i = 0; i < d; i++\) if \(u [i] != v [i]\) return false;) s
5 299 M
(                return true;) s
5 288 M
(        }) s
5 266 M
(        private void computeRepulsion \(Vertex v, Edge e, double [][] negativeGradient\) {) s
5 255 M
(                Vertex from = e.getFrom \(\), to = e.getTo \(\);) s
5 244 M
(                if \(\(from == v\) || \(to == v\)\) return;) s
5 233 M
(                int d = v.getDimensions \(\);) s
5 222 M
(                double vCoords [] = v.getCoords \(\);) s
5 211 M
(                double fCoords [] = from.getCoords \(\), tCoords [] = to.getCoords \(\);) s
5 200 M
(                double dp = 0, lenSquared;) s
5 189 M
(                for \(int i = 0; i < d; i++\) {) s
5 178 M
(                        dp += \(vCoords [i] - fCoords [i]\) * \(tCoords [i] - fCoords [i]\);) s
5 167 M
(                }) s
5 156 M
(                if \(dp <= 0\) computeRepulsion \(v, from, negativeGradient\);) s
5 145 M
(                else if \(dp >= \(lenSquared = e.getLengthSquared \(\)\)\)) s
5 134 M
(                        computeRepulsion \(v, to, negativeGradient\);) s
5 123 M
(                else {) s
5 112 M
(                        double len = Math.sqrt \(lenSquared\), alpha = dp / len;) s
5 101 M
(                        double pCoords [] = new double [d];) s
5 90 M
(                        for \(int i = 0; i < d; i++\) {) s
5 79 M
(                                pCoords [i] = \(1 - alpha\) * fCoords [i] + alpha * tCoords [i];) s
5 68 M
(                        }) s
5 57 M
(                        double w = Math.min \(strength * pairwiseRepulsion \(v, pCoords\),) s
5 46 M
(                                             cap / Vertex.getDistance \(v, pCoords\)\);) s
5 35 M
(                        if \(w == 0\) return;) s
5 24 M
(                        double vWeight = v.getWeight \(\);) s
5 13 M
(                        double fWeight = from.getWeight \(\), tWeight = to.getWeight \(\);) s
5 2 M
(                        for \(int i = 0; i < d; i++\) {) s
_R
S
%%Page: (4) 218
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 4 def
/fname (src/jigglecore/VertexEdgeRepulsionLaw.java) def
/fdir (src/jigglecore/) def
/ftail (VertexEdgeRepulsionLaw.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:45 2011) def
/pagenumstr (4) def
/user_header_p true def
/user_header_left_str (VertexEdgeRepulsionLaw.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 4 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                                double force1 = \(vCoords [i] - fCoords [i]\) * w * \(1 - alpha\);) s
5 497 M
(                                double force2 = \(vCoords [i] - tCoords [i]\) * w * alpha;) s
5 486 M
(                                negativeGradient [v.intField] [i] += force1 * fWeight;) s
5 475 M
(                                negativeGradient [from.intField] [i] -= force1 * vWeight;) s
5 464 M
(                                negativeGradient [v.intField] [i] += force2 * tWeight;) s
5 453 M
(                                negativeGradient [to.intField] [i] -= force2 * vWeight;) s
5 442 M
(                        }) s
5 431 M
(                } ) s
5 420 M
(        }) s
5 398 M
(        private void computeRepulsion \(Vertex v1, Vertex v2, double [][] negativeGradient\) {) s
5 387 M
(                int d = v1.getDimensions \(\);) s
5 376 M
(                double w = Math.min \(strength * pairwiseRepulsion \(v1, v2\),) s
5 365 M
(                                     cap / Vertex.getDistance \(v1, v2\)\);) s
5 354 M
(                if \(w == 0\) return;) s
5 343 M
(                double v1Coords [] = v1.getCoords \(\), weight1 = v1.getWeight \(\);) s
5 332 M
(                double v2Coords [] = v2.getCoords \(\), weight2 = v2.getWeight \(\);) s
5 321 M
(                for \(int i = 0; i < d; i++\) {) s
5 310 M
(                        double force = \(v1Coords [i] - v2Coords [i]\) * w;) s
5 299 M
(                        negativeGradient [v1.intField] [i] += force * weight2;) s
5 288 M
(                        negativeGradient [v2.intField] [i] -= force * weight1;) s
5 277 M
(                }) s
5 266 M
(        }) s
5 255 M
(}) s
_R
S
%%Page: (1) 219
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/VertexSet.java) def
/fdir (src/jigglecore/) def
/ftail (VertexSet.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:45 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (VertexSet.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(import java.util.Vector;) s
5 475 M
(import java.util.Enumeration;) s
5 453 M
(/**) s
5 442 M
( *) s
5 431 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 420 M
( */) s
5 409 M
(public class VertexSet extends JiggleObject {) s
5 387 M
(        private Vector vertices;) s
5 365 M
(        VertexSet \(\) {vertices = new Vector \(\);}) s
5 343 M
(        VertexSet \(Vertex v\) {vertices = new Vector \(\); vertices.addElement \(v\);}) s
5 321 M
(        void add \(Vertex v\) {vertices.addElement \(v\);}) s
5 299 M
(        Enumeration elements \(\) {return vertices.elements \(\);}) s
5 288 M
(}) s
_R
S
%%Page: (1) 220
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/jigglecore/VertexVertexRepulsionLaw.java) def
/fdir (src/jigglecore/) def
/ftail (VertexVertexRepulsionLaw.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:45 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (VertexVertexRepulsionLaw.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(package jigglecore;) s
5 486 M
(/**) s
5 475 M
( *) s
5 464 M
( * @author Daniel Tunkelang, minor edits by Bilal Khan) s
5 453 M
( */) s
5 442 M
(public abstract class VertexVertexRepulsionLaw extends ForceLaw {) s
5 420 M
(        protected double preferredEdgeLength;) s
5 398 M
(        abstract double pairwiseRepulsion \(Cell c1, Cell c2\);) s
5 376 M
(        private double barnesHutTheta = 0;) s
5 354 M
(        protected VertexVertexRepulsionLaw \(Graph g, double k\) {) s
5 343 M
(                super \(g\); preferredEdgeLength = k;) s
5 332 M
(        }) s
5 310 M
(        public double getBarnesHutTheta \(\) {return barnesHutTheta;}) s
5 299 M
(        public void setBarnesHutTheta \(double t\) {barnesHutTheta = t;}) s
5 288 M
(        ) s
5 277 M
(        void apply \(double [][] negativeGradient\) {) s
5 266 M
(                if \(barnesHutTheta > 0\)) s
5 255 M
(                        applyUsingBarnesHut \(negativeGradient\);) s
5 244 M
(                int n = graph.numberOfVertices, d = graph.getDimensions \(\);) s
5 233 M
(                for \(int i = 0; i < n - 1; i++\) {) s
5 222 M
(                        Vertex v1 = graph.vertices [i];) s
5 211 M
(                        double v1Coords [] = v1.getCoords \(\), weight1 = v1.getWeight \(\);) s
5 200 M
(                        for \(int j = i + 1; j < n; j++\) {) s
5 189 M
(                                Vertex v2 = graph.vertices [j];) s
5 178 M
(                                double w = Math.min \(pairwiseRepulsion \(v1, v2\),) s
5 167 M
(                                                     cap / Vertex.getDistance \(v1, v2\)\);) s
5 156 M
(                                double v2Coords [] = v2.getCoords \(\), weight2 = v2.getWeight \(\);) s
5 145 M
(                                for \(int k = 0; k < d; k++\) {) s
5 134 M
(                                        double force = \(v1Coords [k] - v2Coords [k]\) * w;) s
5 123 M
(                                        negativeGradient [i] [k] += force * weight2;) s
5 112 M
(                                        negativeGradient [j] [k] -= force * weight1;) s
5 101 M
(                                }) s
5 90 M
(                        }) s
5 79 M
(                }) s
5 68 M
(        }) s
5 46 M
(        private void applyUsingBarnesHut \(double [][] negativeGradient\) {) s
5 35 M
(                int n = graph.numberOfVertices, d = graph.getDimensions \(\);) s
5 24 M
(                if \(n <= 1\) return;) s
5 13 M
(                graph.recomputeBoundaries \(\);) s
5 2 M
(                QuadTree root = new QuadTree \(graph\);) s
_R
S
%%Page: (2) 221
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/jigglecore/VertexVertexRepulsionLaw.java) def
/fdir (src/jigglecore/) def
/ftail (VertexVertexRepulsionLaw.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:45 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (VertexVertexRepulsionLaw.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                for \(int i = 0; i < n; i++\) {) s
5 497 M
(                        Vertex v = graph.vertices [i];) s
5 486 M
(                        QuadTree qt = \(QuadTree\) v.getContext \(\);) s
5 475 M
(                        JiggleObject cur = qt;) s
5 464 M
(                        while \(cur.getContext \(\) != graph\) {) s
5 453 M
(                                QuadTree p = \(QuadTree\) cur.getContext \(\);) s
5 442 M
(                                int numberOfSubtrees = power \(2, d\);) s
5 431 M
(                                for \(int j = 0; j < numberOfSubtrees; j++\) {) s
5 420 M
(                                        QuadTree st = p.subtrees [j];) s
5 409 M
(                                        if \(cur != st\) {) s
5 398 M
(                                                computeQTRepulsion \(qt, st, negativeGradient\);) s
5 387 M
(                                        }) s
5 376 M
(                                }) s
5 365 M
(                                cur = p;) s
5 354 M
(                        }) s
5 343 M
(                }) s
5 332 M
(                pushForcesDownTree \(root\);) s
5 321 M
(                for \(int i = 0; i < n; i++\) {) s
5 310 M
(                        Vertex v = graph.vertices [i];) s
5 299 M
(                        QuadTree qt = \(QuadTree\) v.getContext \(\);) s
5 288 M
(                        for \(int j = 0; j < d; j++\) negativeGradient [i] [j] += qt.force [j];) s
5 277 M
(                        v.setContext \(graph\);) s
5 266 M
(                }) s
5 255 M
(        }) s
5 233 M
(        private void computeQTRepulsion \(QuadTree leaf, QuadTree cell, double [][] negativeGradient\) {) s
5 222 M
(                if \(cell == null\) return;) s
5 211 M
(                int d = leaf.getDimensions \(\);) s
5 200 M
(                if \(\(cell.objectField == null\) && \(! wellSeparated \(leaf, cell\)\)\) {) s
5 189 M
(                        int numberOfSubtrees = power \(2, d\);) s
5 178 M
(                        for \(int i = 0; i < numberOfSubtrees; i++\) {) s
5 167 M
(                                computeQTRepulsion \(leaf, cell.subtrees [i], negativeGradient\);) s
5 156 M
(                        }) s
5 145 M
(                }) s
5 134 M
(                else {) s
5 123 M
(                        double w = Math.min \(pairwiseRepulsion \(leaf, cell\),) s
5 112 M
(                                             cap / Cell.getDistance \(leaf, cell\)\);) s
5 101 M
(                        double leafWeight = leaf.getWeight \(\), cellWeight = cell.getWeight \(\);) s
5 90 M
(                        double leafCoords [] = leaf.getCoords \(\), cellCoords [] = cell.getCoords \(\);) s
5 79 M
(                        int i = leaf.intField;) s
5 68 M
(                        for \(int j = 0; j < d; j++\) {) s
5 57 M
(                                double force = 0.5 * w * \(leafCoords [j] - cellCoords [j]\);) s
5 46 M
(                                negativeGradient [i] [j] += force * cellWeight;) s
5 35 M
(                                cell.force [j] -= force * leafWeight;) s
5 24 M
(                        }) s
5 13 M
(                }) s
5 2 M
(        }) s
_R
S
%%Page: (3) 222
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/jigglecore/VertexVertexRepulsionLaw.java) def
/fdir (src/jigglecore/) def
/ftail (VertexVertexRepulsionLaw.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:29:45 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (VertexVertexRepulsionLaw.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 497 M
(        private boolean wellSeparated \(QuadTree leaf, QuadTree cell\) {) s
5 486 M
(                if \(cell == null\) throw new Error \("cell == null"\);) s
5 475 M
(                if \(cell.objectField != null\) return true;) s
5 464 M
(                else {) s
5 453 M
(                        int d = cell.getDimensions \(\);) s
5 442 M
(                        double len = Double.MAX_VALUE;) s
5 431 M
(                        double lo [] = cell.getMin \(\), hi [] = cell.getMax \(\);) s
5 420 M
(                        for \(int i = 0; i < d; i++\) len = Math.min \(len, hi [i] - lo [i]\);) s
5 409 M
(                        double dist = Cell.getDistance \(leaf, cell\);) s
5 398 M
(                        return \(\(len / dist\) < barnesHutTheta\);) s
5 387 M
(                }) s
5 376 M
(        }) s
5 354 M
(        private void pushForcesDownTree \(QuadTree qt\) {) s
5 343 M
(                if \(\(qt != null\) && \(qt.objectField == null\) && \(qt.getWeight \(\) > 0\)\) {) s
5 332 M
(                        int d = qt.getDimensions \(\), numberOfSubtrees = power \(2, d\);) s
5 321 M
(                        for \(int i = 0; i < numberOfSubtrees; i++\) {) s
5 310 M
(                                for \(int j = 0; j < d; j++\) {) s
5 299 M
(                                        qt.subtrees [i].force [j] += qt.force [j];) s
5 288 M
(                                }) s
5 277 M
(                        }) s
5 266 M
(                        for \(int i = 0; i < numberOfSubtrees; i++\) {) s
5 255 M
(                                pushForcesDownTree \(qt.subtrees [i]\);) s
5 244 M
(                        }) s
5 233 M
(                }) s
5 222 M
(        }) s
5 211 M
(}) s
_R
S
%%Page: (1) 223
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/letter/Constant.java) def
/fdir (src/letter/) def
/ftail (Constant.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:13:00 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Constant.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package letter;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 376 M
(public class Constant extends Letter {) s
5 365 M
(    ) s
5 354 M
(    public Boolean isConstant\(\) {) s
5 343 M
(        return true;) s
5 332 M
(    }) s
5 310 M
(    private Boolean _pos;) s
5 288 M
(    public Boolean isPositive\(\) {) s
5 277 M
(        return _pos;) s
5 266 M
(    }) s
5 244 M
(    private Constant _inverse;) s
5 222 M
(    public Letter getInverse\(\) {) s
5 211 M
(        if \(_inverse == null\) {) s
5 200 M
(            throw new RuntimeException\("Constant.getInverse: _inverse == null"\);) s
5 189 M
(        }) s
5 178 M
(        return _inverse;) s
5 167 M
(    }) s
5 145 M
(    Constant\(int id, Boolean positive\) {) s
5 134 M
(        super\(id\);) s
5 123 M
(        _pos = positive;) s
5 112 M
(    }) s
5 90 M
(    void setInverse\(Constant cinv\) {) s
5 79 M
(        _inverse = cinv;) s
5 68 M
(    }) s
5 46 M
(    public String toString\(\) {) s
5 35 M
(        String s = "";) s
5 24 M
(        s += CONSTANT_SYMBOL;) s
5 13 M
(        s += _id;) s
5 2 M
(        if \(_pos\) {) s
_R
S
%%Page: (2) 224
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/letter/Constant.java) def
/fdir (src/letter/) def
/ftail (Constant.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:13:00 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Constant.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            s += POSITIVE_SYMBOL;) s
5 497 M
(        }) s
5 486 M
(        else {) s
5 475 M
(            s += NEGATIVE_SYMBOL;) s
5 464 M
(        }) s
5 453 M
(        s += ENDOFLETTER_SYMBOL;) s
5 442 M
(        return s;) s
5 431 M
(    }) s
5 420 M
(}) s
_R
S
%%Page: (1) 225
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/letter/Latex.java) def
/fdir (src/letter/) def
/ftail (Latex.java) def
% User defined strings:
/fmodstr (Thu Oct 13 03:15:53 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Latex.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package letter;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public class Latex {) s
5 365 M
(    private static Latex _instance;) s
5 343 M
(    private Latex\(\) {) s
5 332 M
(    }) s
5 310 M
(    public static Latex instance\(\) {) s
5 299 M
(        if \(_instance == null\) {) s
5 288 M
(            _instance = new Latex\(\);) s
5 277 M
(        }) s
5 266 M
(        return _instance;) s
5 255 M
(    }) s
5 233 M
(    public String render\(Letter let\) {) s
5 222 M
(        String s = "";) s
5 211 M
(        if \(let.isConstant\(\)\) s+= this.renderConstant\(\(Constant\)let\);) s
5 200 M
(        else s+= this.renderVariable\(\(Variable\)let\);) s
5 189 M
(        return s;) s
5 178 M
(    }) s
5 156 M
(    String renderVariable\(Variable v\) {) s
5 145 M
(        String s = "";) s
5 134 M
(        s += "z_{";) s
5 123 M
(        s += ""+v.getID\(\)+"}";) s
5 112 M
(        if \( ! v.isPositive\(\)\) {) s
5 101 M
(            s += "^{-1}";) s
5 90 M
(        }) s
5 79 M
(        return s;) s
5 68 M
(    }) s
5 46 M
(    String renderConstant\(Constant c\) {) s
5 35 M
(        String s = "";) s
5 24 M
(        s += "c_";) s
5 13 M
(        s += "{"+c.getID\(\)+"}";) s
5 2 M
(        if \( ! c.isPositive\(\)\) {) s
_R
S
%%Page: (2) 226
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/letter/Latex.java) def
/fdir (src/letter/) def
/ftail (Latex.java) def
% User defined strings:
/fmodstr (Thu Oct 13 03:15:53 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Latex.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            s += "^{-1}";) s
5 497 M
(        }) s
5 486 M
(        return s;) s
5 475 M
(    }) s
5 464 M
(}) s
_R
S
%%Page: (1) 227
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/letter/Letter.java) def
/fdir (src/letter/) def
/ftail (Letter.java) def
% User defined strings:
/fmodstr (Thu Oct 13 00:27:51 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Letter.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package letter;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 376 M
(public abstract class Letter {) s
5 354 M
(    static String VARIABLE_SYMBOL = "z";) s
5 343 M
(    static String CONSTANT_SYMBOL = "c";) s
5 332 M
(    static String POSITIVE_SYMBOL = "+";) s
5 321 M
(    static String NEGATIVE_SYMBOL = "-";) s
5 310 M
(    static String ENDOFLETTER_SYMBOL = ".";) s
5 299 M
(            ) s
5 288 M
(    public abstract Boolean isConstant\(\);) s
5 277 M
(    public abstract Boolean isPositive\(\);) s
5 266 M
(    public abstract Letter getInverse\(\);) s
5 244 M
(    protected int _id;) s
5 222 M
(    protected Letter\(int id\) {) s
5 211 M
(        _id = id;) s
5 200 M
(    }) s
5 189 M
(    ) s
5 178 M
(    public int getID\(\) {) s
5 167 M
(        return _id;) s
5 156 M
(    }) s
5 134 M
(    public int modulus\(int mod\) {) s
5 123 M
(        return _id % mod;) s
5 112 M
(    }) s
5 90 M
(    public static Boolean testEquals\(Letter a1, Letter a2\) {) s
5 79 M
(        return \(a1==a2\);) s
5 68 M
(    }) s
5 46 M
(    public static Boolean testInverse\(Letter a1, Letter a2\) {) s
5 35 M
(        return \(a1.getInverse\(\)==a2\);) s
5 24 M
(    }) s
5 2 M
(    public static Boolean testEqualOrInverse\(Letter a1, Letter a2\) {) s
_R
S
%%Page: (2) 228
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/letter/Letter.java) def
/fdir (src/letter/) def
/ftail (Letter.java) def
% User defined strings:
/fmodstr (Thu Oct 13 00:27:51 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Letter.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        return \(testEquals\(a1,a2\) || testInverse\(a1,a2\)\);) s
5 497 M
(    }) s
5 486 M
(}) s
_R
S
%%Page: (1) 229
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/letter/LetterFactory.java) def
/fdir (src/letter/) def
/ftail (LetterFactory.java) def
% User defined strings:
/fmodstr (Wed Oct 19 19:27:08 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (LetterFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 6) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package letter;) s
5 431 M
(import java.util.TreeMap;) s
5 420 M
(import java.util.TreeSet;) s
5 409 M
(import java.util.HashSet;) s
5 398 M
(import java.util.LinkedList;) s
5 387 M
(import java.util.Iterator;) s
5 365 M
(/**) s
5 354 M
( *) s
5 343 M
( * @author grouptheory) s
5 332 M
( */) s
5 321 M
(public class LetterFactory {) s
5 299 M
(    private TreeMap _id2constant_pos;) s
5 288 M
(    private TreeMap _id2constant_neg;) s
5 277 M
(    private TreeMap _id2variable_pos;) s
5 266 M
(    private TreeMap _id2variable_neg;) s
5 255 M
(    private int _highconstant;) s
5 244 M
(    private int _highvariable;) s
5 222 M
(    private static LetterFactory _instance;) s
5 200 M
(    private LetterFactory\(\) {) s
5 189 M
(        _id2constant_pos = new TreeMap\(\);) s
5 178 M
(        _id2constant_neg = new TreeMap\(\);) s
5 167 M
(        _id2variable_pos = new TreeMap\(\);) s
5 156 M
(        _id2variable_neg = new TreeMap\(\);) s
5 145 M
(        _highconstant = 0;) s
5 134 M
(        _highvariable = 0;) s
5 123 M
(    }) s
5 101 M
(    public static LetterFactory instance\(\) {) s
5 90 M
(        if \(_instance == null\) {) s
5 79 M
(            _instance = new LetterFactory\(\);) s
5 68 M
(        }) s
5 57 M
(        return _instance;) s
5 46 M
(    }) s
5 24 M
(    public LinkedList parse\(String s\) {) s
5 13 M
(        LinkedList letters = new LinkedList\(\);) s
5 2 M
(        LetterReaderState lrs;) s
_R
S
%%Page: (2) 230
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/letter/LetterFactory.java) def
/fdir (src/letter/) def
/ftail (LetterFactory.java) def
% User defined strings:
/fmodstr (Wed Oct 19 19:27:08 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (LetterFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 6) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        do {) s
5 497 M
(            lrs = readNextLetter\(s\);) s
5 486 M
(            s = lrs._remaining;) s
5 475 M
(            letters.addLast\(lrs._extracted\);) s
5 464 M
(        }) s
5 453 M
(        while \(s.length\(\) > 0\);) s
5 442 M
(        return letters;) s
5 431 M
(    }) s
5 409 M
(    public Variable newUnusedConstant\(Boolean pos\) {) s
5 398 M
(        return getVariable\(_highconstant+1, pos\);) s
5 387 M
(    }) s
5 365 M
(    public Constant getConstant\(int id, Boolean pos\) {) s
5 354 M
(        Constant c = null;) s
5 343 M
(        if \(pos\) {) s
5 332 M
(            c = \(Constant\)_id2constant_pos.get\(new Integer\(id\)\);) s
5 321 M
(        }) s
5 310 M
(        else {) s
5 299 M
(            c = \(Constant\)_id2constant_neg.get\(new Integer\(id\)\);) s
5 288 M
(        }) s
5 266 M
(        if \(c == null\) {) s
5 255 M
(            c = new Constant\(id, pos\);) s
5 244 M
(            Constant cinv = new Constant\(id, !pos\);) s
5 233 M
(            c.setInverse\(cinv\);) s
5 222 M
(            cinv.setInverse\(c\);) s
5 211 M
(            if \(pos\) {) s
5 200 M
(                _id2constant_pos.put\(new Integer\(id\), c\);) s
5 189 M
(                _id2constant_neg.put\(new Integer\(id\), cinv\);) s
5 178 M
(            }) s
5 167 M
(            else {) s
5 156 M
(                _id2constant_neg.put\(new Integer\(id\), c\);) s
5 145 M
(                _id2constant_pos.put\(new Integer\(id\), cinv\);) s
5 134 M
(            }) s
5 123 M
(            if \(_highconstant < id\) {) s
5 112 M
(                _highconstant = id;) s
5 101 M
(            }) s
5 90 M
(        }) s
5 79 M
(        return c;) s
5 68 M
(    }) s
5 46 M
(    public Variable newUnusedVariable\(Boolean pos\) {) s
5 35 M
(        //System.out.println\(" high is  "+_highvariable\);) s
5 24 M
(        return getVariable\(_highvariable+1, pos\);) s
5 13 M
(    }) s
_R
S
%%Page: (3) 231
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/letter/LetterFactory.java) def
/fdir (src/letter/) def
/ftail (LetterFactory.java) def
% User defined strings:
/fmodstr (Wed Oct 19 19:27:08 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (LetterFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 6) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    private Variable newUnusedVariable\(int minID, Boolean pos\) {) s
5 497 M
(        if \(minID > _highvariable+1\) {) s
5 486 M
(            // System.out.println\("setting high to "+\(minID-1\)\);) s
5 475 M
(            _highvariable = minID-1;) s
5 464 M
(        }) s
5 453 M
(        ) s
5 442 M
(        return getVariable\(_highvariable+1, pos\);) s
5 431 M
(    }) s
5 420 M
(    ) s
5 409 M
(    public Variable newUnusedVariable\(HashSet used, int minID, Boolean pos\) {) s
5 398 M
(        TreeMap srch;) s
5 387 M
(        if \(pos\) {) s
5 376 M
(            srch = _id2variable_pos;) s
5 365 M
(        }) s
5 354 M
(        else {) s
5 343 M
(            srch = _id2variable_neg;) s
5 332 M
(        }) s
5 310 M
(        Variable answer = null;) s
5 299 M
(        for \(Iterator it=srch.values\(\).iterator\(\); it.hasNext\(\);\) {) s
5 288 M
(            Variable v = \(Variable\)it.next\(\);) s
5 277 M
(            if \(used.contains\(v\) || used.contains\(v.getInverse\(\)\)\) continue;) s
5 266 M
(            else {) s
5 255 M
(                if \(v.getID\(\) < minID\) continue;) s
5 244 M
(                else {) s
5 233 M
(                    answer = v;) s
5 222 M
(                    break;) s
5 211 M
(                }) s
5 200 M
(            }) s
5 189 M
(        }) s
5 178 M
(        ) s
5 167 M
(        /*) s
5 156 M
(        if \(minID==0\) {) s
5 145 M
(            System.out.println\("LetterFactory used set has size: "+used.size\(\)\);) s
5 134 M
(            for \(Iterator it=used.iterator\(\); it.hasNext\(\);\) {) s
5 123 M
(                Letter let = \(Letter\)it.next\(\);) s
5 112 M
(                System.out.println\("used: "+let\);) s
5 101 M
(            }) s
5 90 M
(            System.out.println\("LetterFactory _highvariable: "+_highvariable\);) s
5 79 M
(            if \(answer==null\) {) s
5 68 M
(                System.out.println\("LetterFactory \(answer==null\)"\);) s
5 57 M
(            }) s
5 46 M
(        }) s
5 35 M
(        */) s
5 13 M
(        if \(answer==null\) {) s
5 2 M
(            answer = newUnusedVariable\(minID, pos\);) s
_R
S
%%Page: (4) 232
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 4 def
/fname (src/letter/LetterFactory.java) def
/fdir (src/letter/) def
/ftail (LetterFactory.java) def
% User defined strings:
/fmodstr (Wed Oct 19 19:27:08 2011) def
/pagenumstr (4) def
/user_header_p true def
/user_header_left_str (LetterFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 4 of 6) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        }) s
5 486 M
(        /*) s
5 475 M
(        if \(minID==0\) {) s
5 464 M
(            System.out.println\("POST LetterFactory used set has size: "+used.size\(\)\);) s
5 453 M
(            for \(Iterator it=used.iterator\(\); it.hasNext\(\);\) {) s
5 442 M
(                Letter let = \(Letter\)it.next\(\);) s
5 431 M
(                System.out.println\("POST used: "+let\);) s
5 420 M
(            }) s
5 409 M
(            System.out.println\("POST LetterFactory _highvariable: "+_highvariable\);) s
5 398 M
(            if \(answer==null\) {) s
5 387 M
(                System.out.println\("POST LetterFactory \(answer==null\)"\);) s
5 376 M
(            }) s
5 365 M
(            System.out.println\("POST LetterFactory returning: "+answer\);) s
5 354 M
(        }) s
5 343 M
(        */) s
5 321 M
(        return answer;) s
5 310 M
(    }) s
5 288 M
(    public Variable getVariable\(int id, Boolean pos\) {) s
5 277 M
(        Variable v = null;) s
5 266 M
(        if \(pos\) {) s
5 255 M
(            v = \(Variable\)_id2variable_pos.get\(new Integer\(id\)\);) s
5 244 M
(        }) s
5 233 M
(        else {) s
5 222 M
(            v = \(Variable\)_id2variable_neg.get\(new Integer\(id\)\);) s
5 211 M
(        }) s
5 189 M
(        if \(v == null\) {) s
5 178 M
(            v = new Variable\(id, pos\);) s
5 167 M
(            Variable vinv = new Variable\(id, !pos\);) s
5 156 M
(            v.setInverse\(vinv\);) s
5 145 M
(            vinv.setInverse\(v\);) s
5 134 M
(            if \(pos\) {) s
5 123 M
(                _id2variable_pos.put\(new Integer\(id\), v\);) s
5 112 M
(                _id2variable_neg.put\(new Integer\(id\), vinv\);) s
5 101 M
(            }) s
5 90 M
(            else {) s
5 79 M
(                _id2variable_neg.put\(new Integer\(id\), v\);) s
5 68 M
(                _id2variable_pos.put\(new Integer\(id\), vinv\);) s
5 57 M
(            }) s
5 46 M
(            if \(_highvariable < id\) {) s
5 35 M
(                // System.out.println\("*** setting high to "+id\);) s
5 24 M
(                _highvariable = id;) s
5 13 M
(            }) s
5 2 M
(        }) s
_R
S
%%Page: (5) 233
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 5 def
/fname (src/letter/LetterFactory.java) def
/fdir (src/letter/) def
/ftail (LetterFactory.java) def
% User defined strings:
/fmodstr (Wed Oct 19 19:27:08 2011) def
/pagenumstr (5) def
/user_header_p true def
/user_header_left_str (LetterFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 5 of 6) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        return v;) s
5 497 M
(    }) s
5 475 M
(    ) s
5 464 M
(    private class LetterReaderState {) s
5 453 M
(        public String _remaining;) s
5 442 M
(        public Letter _extracted;) s
5 431 M
(    }) s
5 409 M
(    private LetterReaderState readNextLetter\(String s\) {) s
5 387 M
(        //System.out.println\("called w: "+s\);) s
5 376 M
(        ) s
5 365 M
(        Boolean var = false;) s
5 354 M
(        if \(s.charAt\(0\) == Letter.VARIABLE_SYMBOL.charAt\(0\)\) {) s
5 343 M
(            //System.out.println\("var"\);) s
5 332 M
(            var = true;) s
5 321 M
(        }) s
5 310 M
(        else if \(s.charAt\(0\) == Letter.CONSTANT_SYMBOL.charAt\(0\)\) {) s
5 299 M
(            //System.out.println\("const"\);) s
5 288 M
(            var = false;) s
5 277 M
(        }) s
5 266 M
(        else {) s
5 255 M
(            throw new RuntimeException\("Variable.ctor: bad type"\);) s
5 244 M
(        }) s
5 222 M
(        int endofletter = s.indexOf\(Letter.ENDOFLETTER_SYMBOL\);) s
5 211 M
(        //System.out.println\("endofletter="+endofletter\);) s
5 189 M
(        String idstr = s.substring\(1, endofletter-1\);) s
5 178 M
(        //System.out.println\("idstr="+idstr\);) s
5 156 M
(        int id = Integer.parseInt\(idstr\);) s
5 134 M
(        String posstr = s.substring\(endofletter-1, endofletter\);) s
5 123 M
(        Boolean pos = false;) s
5 112 M
(        if \(posstr.compareTo\(Letter.POSITIVE_SYMBOL\)==0\) {) s
5 101 M
(            pos = true;) s
5 90 M
(        }) s
5 79 M
(        else if \(posstr.compareTo\(Letter.NEGATIVE_SYMBOL\)==0\) {) s
5 68 M
(            pos = false;) s
5 57 M
(        }) s
5 46 M
(        else {) s
5 35 M
(            throw new RuntimeException\("Variable.ctor: bad pos/neg"\);) s
5 24 M
(        }) s
5 2 M
(        Letter let;) s
_R
S
%%Page: (6) 234
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 6 def
/fname (src/letter/LetterFactory.java) def
/fdir (src/letter/) def
/ftail (LetterFactory.java) def
% User defined strings:
/fmodstr (Wed Oct 19 19:27:08 2011) def
/pagenumstr (6) def
/user_header_p true def
/user_header_left_str (LetterFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 6 of 6) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        if \(var\) {) s
5 497 M
(            let = getVariable\(id, pos\);) s
5 486 M
(        }) s
5 475 M
(        else {) s
5 464 M
(            let = getConstant\(id, pos\);) s
5 453 M
(        }) s
5 431 M
(        LetterReaderState lrs = new LetterReaderState\(\);) s
5 420 M
(        lrs._extracted = let;) s
5 409 M
(        lrs._remaining = s.substring\(endofletter+1\);) s
5 387 M
(        return lrs;) s
5 376 M
(    }) s
5 354 M
(    public String toString\(\) {) s
5 343 M
(        String s = "";) s
5 332 M
(        s+="_id2constant_pos size = "+_id2constant_pos.size\(\)+"\\n";) s
5 321 M
(        s+="_id2constant_neg size = "+_id2constant_neg.size\(\)+"\\n";) s
5 310 M
(        s+="_id2variable_pos size = "+_id2variable_pos.size\(\)+"\\n";) s
5 299 M
(        s+="_id2variable_neg size = "+_id2variable_neg.size\(\)+"\\n";) s
5 288 M
(        return s;) s
5 266 M
(    }) s
5 255 M
(}) s
_R
S
%%Page: (1) 235
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/letter/Main.java) def
/fdir (src/letter/) def
/ftail (Main.java) def
% User defined strings:
/fmodstr (Wed Oct 12 21:02:22 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Main.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package letter;) s
5 431 M
(import java.util.LinkedList;) s
5 420 M
(import java.util.Iterator;) s
5 398 M
(/**) s
5 387 M
( *) s
5 376 M
( * @author grouptheory) s
5 365 M
( */) s
5 354 M
(public class Main {) s
5 332 M
(    /**) s
5 321 M
(     * @param args the command line arguments) s
5 310 M
(     */) s
5 299 M
(    public static void main\(String[] args\) {) s
5 288 M
(        // TODO code application logic here) s
5 266 M
(        Letter z1 = LetterFactory.instance\(\).getVariable\(1, true\);) s
5 255 M
(        Letter z2 = LetterFactory.instance\(\).getVariable\(2, true\);) s
5 244 M
(        Letter z1inv = LetterFactory.instance\(\).getVariable\(1, false\);) s
5 233 M
(        Letter z2inv = LetterFactory.instance\(\).getVariable\(2, false\);) s
5 211 M
(        Letter c1 = LetterFactory.instance\(\).getConstant\(1, true\);) s
5 200 M
(        Letter c2 = LetterFactory.instance\(\).getConstant\(2, true\);) s
5 189 M
(        Letter c1inv = LetterFactory.instance\(\).getConstant\(1, false\);) s
5 178 M
(        Letter c2inv = LetterFactory.instance\(\).getConstant\(2, false\);) s
5 156 M
(        String s = "";) s
5 145 M
(        s+=z1.toString\(\);) s
5 134 M
(        s+=z2.toString\(\);) s
5 123 M
(        s+=z1inv.toString\(\);) s
5 112 M
(        s+=z2inv.toString\(\);) s
5 101 M
(        s+=c1.toString\(\);) s
5 90 M
(        s+=c2.toString\(\);) s
5 79 M
(        s+=c1inv.toString\(\);) s
5 68 M
(        s+=c2inv.toString\(\);) s
5 57 M
(        s+=z1.toString\(\);) s
5 46 M
(        s+=z2.toString\(\);) s
5 35 M
(        s+=z1inv.toString\(\);) s
5 24 M
(        s+=z2inv.toString\(\);) s
5 13 M
(        s+=c1.toString\(\);) s
5 2 M
(        s+=c2.toString\(\);) s
_R
S
%%Page: (2) 236
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/letter/Main.java) def
/fdir (src/letter/) def
/ftail (Main.java) def
% User defined strings:
/fmodstr (Wed Oct 12 21:02:22 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Main.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        s+=c1inv.toString\(\);) s
5 497 M
(        s+=c2inv.toString\(\);) s
5 475 M
(        System.out.println\(s\);) s
5 453 M
(        System.out.println\("Parsing string"\);) s
5 442 M
(        ) s
5 431 M
(        LinkedList list = LetterFactory.instance\(\).parse\(s\);) s
5 420 M
(        for \(Iterator it = list.iterator\(\); it.hasNext\(\); \) {) s
5 409 M
(            Letter let = \(Letter\)it.next\(\);) s
5 398 M
(            System.out.println\(let.toString\(\)\);) s
5 387 M
(        }) s
5 365 M
(        System.out.println\("LetterFactory: "\);) s
5 354 M
(        System.out.println\(LetterFactory.instance\(\).toString\(\)\);) s
5 343 M
(    }) s
5 332 M
(}) s
_R
S
%%Page: (1) 237
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/letter/Variable.java) def
/fdir (src/letter/) def
/ftail (Variable.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:12:55 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Variable.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package letter;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 376 M
(public class Variable extends Letter {) s
5 354 M
(    public Boolean isConstant\(\) {) s
5 343 M
(        return false;) s
5 332 M
(    }) s
5 310 M
(    private Boolean _pos;) s
5 288 M
(    public Boolean isPositive\(\) {) s
5 277 M
(        return _pos;) s
5 266 M
(    }) s
5 244 M
(    private Variable _inverse;) s
5 222 M
(    public Letter getInverse\(\) {) s
5 211 M
(        if \(_inverse == null\) {) s
5 200 M
(            throw new RuntimeException\("Variable.getInverse: _inverse == null"\);) s
5 189 M
(        }) s
5 178 M
(        return _inverse;) s
5 167 M
(    }) s
5 145 M
(    Variable\(int id, Boolean positive\) {) s
5 134 M
(        super\(id\);) s
5 123 M
(        _pos = positive;) s
5 112 M
(    }) s
5 90 M
(    void setInverse\(Variable vinv\) {) s
5 79 M
(        _inverse = vinv;) s
5 68 M
(    }) s
5 46 M
(    public String toString\(\) {) s
5 35 M
(        String s = "";) s
5 24 M
(        s += VARIABLE_SYMBOL;) s
5 13 M
(        s += _id;) s
5 2 M
(        if \(_pos\) {) s
_R
S
%%Page: (2) 238
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/letter/Variable.java) def
/fdir (src/letter/) def
/ftail (Variable.java) def
% User defined strings:
/fmodstr (Wed Oct 12 08:12:55 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Variable.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            s += POSITIVE_SYMBOL;) s
5 497 M
(        }) s
5 486 M
(        else {) s
5 475 M
(            s += NEGATIVE_SYMBOL;) s
5 464 M
(        }) s
5 453 M
(        s += ENDOFLETTER_SYMBOL;) s
5 442 M
(        return s;) s
5 431 M
(    }) s
5 420 M
(}) s
_R
S
%%Page: (1) 239
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/BaseClassCarrier.java) def
/fdir (src/makanin/) def
/ftail (BaseClassCarrier.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:59:32 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (BaseClassCarrier.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 442 M
(package makanin;) s
5 420 M
(import ge.Base;) s
5 398 M
(/**) s
5 387 M
( *) s
5 376 M
( * @author grouptheory) s
5 365 M
( */) s
5 354 M
(public class BaseClassCarrier extends BaseClassDecorator {) s
5 332 M
(    BaseClassCarrier\(\) {) s
5 321 M
(        super\(\);) s
5 310 M
(    }) s
5 299 M
(}) s
_R
S
%%Page: (1) 240
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/BaseClassDecorator.java) def
/fdir (src/makanin/) def
/ftail (BaseClassDecorator.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:59:32 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (BaseClassDecorator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package makanin;) s
5 431 M
(import ge.Base;) s
5 420 M
(import ge.BaseDecorator;) s
5 398 M
(/**) s
5 387 M
( *) s
5 376 M
( * @author grouptheory) s
5 365 M
( */) s
5 343 M
(public abstract class BaseClassDecorator extends BaseDecorator {) s
5 321 M
(    static final String NAME = "BaseClass";) s
5 310 M
(    ) s
5 299 M
(    BaseClassDecorator\(\) {) s
5 288 M
(        super\(\);) s
5 277 M
(    }) s
5 266 M
(}) s
_R
S
%%Page: (1) 241
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/BaseClassDecoratorFactory.java) def
/fdir (src/makanin/) def
/ftail (BaseClassDecoratorFactory.java) def
% User defined strings:
/fmodstr (Thu Oct 20 00:03:46 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (BaseClassDecoratorFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package makanin;) s
5 431 M
(import ge.Base;) s
5 420 M
(import ge.Boundary;) s
5 409 M
(import ge.GE;) s
5 398 M
(import java.util.Iterator;) s
5 387 M
(import java.util.HashMap;) s
5 365 M
(/**) s
5 354 M
( *) s
5 343 M
( * @author grouptheory) s
5 332 M
( */) s
5 321 M
(public class BaseClassDecoratorFactory {) s
5 299 M
(    private HashMap _base2class;) s
5 288 M
(    ) s
5 277 M
(    public static void applyToAllBases\(GE geq\) {) s
5 266 M
(        BaseClassDecoratorFactory bcf = new BaseClassDecoratorFactory\(geq\);) s
5 255 M
(        for \(Iterator it=geq.iteratorBases\(\); it.hasNext\(\);\) {) s
5 244 M
(            Base bs=\(Base\)it.next\(\);) s
5 233 M
(            BaseClassDecorator bcd = bcf.newBaseClassDecorator\(bs\);) s
5 222 M
(            bcd.attach\(BaseClassDecorator.NAME, bs\);) s
5 211 M
(        }) s
5 200 M
(    }) s
5 178 M
(    private BaseClassDecoratorFactory\(GE geq\) {) s
5 156 M
(        Carrier ca = \(Carrier\)geq.lookupDecorator\(Carrier.NAME\);) s
5 145 M
(        if \(ca == null\) {) s
5 134 M
(            throw new RuntimeException\("BaseClassDecoratorFactory.ctor: unknown carrier"\);) s
5 123 M
(        }) s
5 112 M
(        Base carrier_base = ca.getBase\(\);) s
5 101 M
(        if \(carrier_base == null\) {) s
5 90 M
(            throw new RuntimeException\("BaseClassDecoratorFactory.ctor: carrier_base is null"\);) s
5 79 M
(        }) s
5 57 M
(        CriticalBoundary cr = \(CriticalBoundary\)geq.lookupDecorator\(CriticalBoundary.NAME\);) s
5 46 M
(        if \(cr == null\) {) s
5 35 M
(            throw new RuntimeException\("BaseClassDecoratorFactory.ctor: unknown critical boundary"\);) s
5 24 M
(        }) s
5 13 M
(        Boundary critical_boundary = cr.getBoundary\(\);) s
5 2 M
(        if \(critical_boundary == null\) {) s
_R
S
%%Page: (2) 242
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/makanin/BaseClassDecoratorFactory.java) def
/fdir (src/makanin/) def
/ftail (BaseClassDecoratorFactory.java) def
% User defined strings:
/fmodstr (Thu Oct 20 00:03:46 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (BaseClassDecoratorFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            throw new RuntimeException\("BaseClassDecoratorFactory.ctor: critical_boundary is null"\);) s
5 497 M
(        }) s
5 475 M
(        _base2class = new HashMap\(\);) s
5 453 M
(        BaseClassDecorator abcCarrier = new BaseClassCarrier\(\);) s
5 442 M
(        _base2class.put\(carrier_base, abcCarrier\);) s
5 420 M
(        for \(Iterator it=geq.iteratorBases\(\); it.hasNext\(\);\) {) s
5 409 M
(            Base bs=\(Base\)it.next\(\);) s
5 398 M
(            if \(bs==carrier_base\) continue;) s
5 387 M
(            ) s
5 376 M
(            if \(bs.isEmpty\(\) && bs.getBegin\(\).getID\(\)<carrier_base.getBegin\(\).getID\(\)\) {) s
5 365 M
(                BaseClassDecorator abc = new BaseClassSuperfluous\(\);) s
5 354 M
(                _base2class.put\(bs, abc\);) s
5 343 M
(            }) s
5 332 M
(            else if\(carrier_base.getBegin\(\).getID\(\) <= bs.getBegin\(\).getID\(\) &&) s
5 321 M
(                bs.getBegin\(\).getID\(\) < critical_boundary.getID\(\)\) {) s
5 310 M
(                BaseClassDecorator abc = new BaseClassTransport\(\);) s
5 299 M
(                _base2class.put\(bs, abc\);) s
5 288 M
(            }) s
5 277 M
(            else {) s
5 266 M
(                BaseClassDecorator abc = new BaseClassFixed\(\);) s
5 255 M
(                _base2class.put\(bs, abc\);) s
5 244 M
(            }) s
5 233 M
(        }) s
5 222 M
(    }) s
5 200 M
(    private BaseClassDecorator newBaseClassDecorator\(Base bs\) {) s
5 189 M
(        return \(BaseClassDecorator\)_base2class.get\(bs\);) s
5 178 M
(    }) s
5 167 M
(}) s
_R
S
%%Page: (1) 243
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/BaseClassFixed.java) def
/fdir (src/makanin/) def
/ftail (BaseClassFixed.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:59:32 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (BaseClassFixed.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package makanin;) s
5 431 M
(import ge.Base;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(public class BaseClassFixed extends BaseClassDecorator {) s
5 354 M
(    ) s
5 343 M
(    BaseClassFixed\(\) {) s
5 332 M
(        super\(\);) s
5 321 M
(    }) s
5 310 M
(}) s
_R
S
%%Page: (1) 244
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/BaseClassSuperfluous.java) def
/fdir (src/makanin/) def
/ftail (BaseClassSuperfluous.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:59:32 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (BaseClassSuperfluous.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package makanin;) s
5 431 M
(import ge.Base;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(public class BaseClassSuperfluous extends BaseClassDecorator {) s
5 343 M
(    BaseClassSuperfluous\(\) {) s
5 332 M
(        super\(\);) s
5 321 M
(    }) s
5 310 M
(}) s
_R
S
%%Page: (1) 245
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/BaseClassTransport.java) def
/fdir (src/makanin/) def
/ftail (BaseClassTransport.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:59:32 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (BaseClassTransport.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package makanin;) s
5 431 M
(import ge.Base;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(public class BaseClassTransport extends BaseClassDecorator {) s
5 343 M
(    BaseClassTransport\(\) {) s
5 332 M
(        super\(\);) s
5 321 M
(    }) s
5 310 M
(}) s
_R
S
%%Page: (1) 246
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/Carrier.java) def
/fdir (src/makanin/) def
/ftail (Carrier.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:59:32 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Carrier.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package makanin;) s
5 431 M
(import ge.Base;) s
5 420 M
(import ge.GE;) s
5 409 M
(import ge.GEDecorator;) s
5 387 M
(/**) s
5 376 M
( *) s
5 365 M
( * @author grouptheory) s
5 354 M
( */) s
5 343 M
(public class Carrier extends GEDecorator {) s
5 321 M
(    static final String NAME = "Carrier";) s
5 299 M
(    private Base _carrier;) s
5 288 M
(    ) s
5 277 M
(    Carrier\(Base carrier\) {) s
5 266 M
(        super\(\);) s
5 255 M
(        _carrier = carrier;) s
5 244 M
(    }) s
5 222 M
(    Base getBase\(\) {) s
5 211 M
(        return _carrier;) s
5 200 M
(    }) s
5 189 M
(}) s
_R
S
%%Page: (1) 247
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/CarrierFactory.java) def
/fdir (src/makanin/) def
/ftail (CarrierFactory.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:59:32 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (CarrierFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package makanin;) s
5 431 M
(import ge.Base;) s
5 420 M
(import ge.GE;) s
5 409 M
(import java.util.TreeSet;) s
5 398 M
(import java.util.Iterator;) s
5 387 M
(import ge.BaseComparator;) s
5 365 M
(/**) s
5 354 M
( *) s
5 343 M
( * @author grouptheory) s
5 332 M
( */) s
5 321 M
(public class CarrierFactory {) s
5 310 M
(    ) s
5 299 M
(    public static void applyToGE\(GE geq\) {) s
5 288 M
(        Carrier ca = CarrierFactory.compute\(geq\);) s
5 277 M
(        ca.attach\(Carrier.NAME, geq\);) s
5 266 M
(    }) s
5 244 M
(    private static Carrier compute\(GE geq\) {) s
5 233 M
(        TreeSet ts = new TreeSet\(new BaseComparator\(\)\);) s
5 222 M
(        for \(Iterator it=geq.iteratorBases\(\); it.hasNext\(\);\) {) s
5 211 M
(            Base bs=\(Base\)it.next\(\);) s
5 200 M
(            ts.add\(bs\);) s
5 189 M
(        }) s
5 178 M
(        Base cb = \(Base\)ts.first\(\);) s
5 156 M
(        Carrier carrier = new Carrier\(cb\);) s
5 145 M
(        return carrier;) s
5 134 M
(    }) s
5 123 M
(}) s
_R
S
%%Page: (1) 248
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/ComposablePrintNodeIterator.java) def
/fdir (src/makanin/) def
/ftail (ComposablePrintNodeIterator.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:59:32 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (ComposablePrintNodeIterator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package makanin;) s
5 431 M
(import utility.AbstractComposableIterator;) s
5 420 M
(import utility.ComposableIterator;) s
5 409 M
(import java.util.LinkedList;) s
5 398 M
(import java.util.Iterator;) s
5 376 M
(/**) s
5 365 M
( *) s
5 354 M
( * @author grouptheory) s
5 343 M
( */) s
5 332 M
(public class ComposablePrintNodeIterator) s
5 321 M
(        extends AbstractComposableIterator) s
5 310 M
(        implements ComposableIterator {) s
5 288 M
(    private LinkedList _substates;) s
5 277 M
(    private Iterator _readi;) s
5 266 M
(    private Iterator _childi;) s
5 233 M
(    ComposablePrintNodeIterator\(PrintNode pn, boolean root\) {) s
5 222 M
(        _substates = new LinkedList\(\);) s
5 211 M
(        if \(pn.remainingCarrierBoundaries\(\)>0\) {) s
5 200 M
(            _substates.addLast\(pn.consumeCarrierBoundary\(PrintNode.ZERO\)\);) s
5 189 M
(            if \(!root\) _substates.addLast\(pn.consumeCarrierBoundary\(PrintNode.NONZERO\)\);) s
5 178 M
(        }) s
5 167 M
(        if \(pn.remainingCarrierDualBoundaries\(\)>0\) {) s
5 156 M
(            _substates.addLast\(pn.consumeCarrierDualBoundary\(PrintNode.ZERO\)\);) s
5 145 M
(            if \(!root\) _substates.addLast\(pn.consumeCarrierDualBoundary\(PrintNode.NONZERO\)\);) s
5 134 M
(        }) s
5 112 M
(        _readi = _substates.iterator\(\);) s
5 101 M
(        _childi = _substates.iterator\(\);) s
5 90 M
(    }) s
5 79 M
(    ) s
5 68 M
(    public ComposableIterator newComposableIterator\(ComposableIterator parent\) {) s
5 57 M
(        PrintNode pn = \(PrintNode\)_childi.next\(\);) s
5 46 M
(        boolean root = false;) s
5 35 M
(        return new ComposablePrintNodeIterator\(pn, root\);) s
5 24 M
(    }) s
5 2 M
(    public boolean hasNext\(\) {) s
_R
S
%%Page: (2) 249
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/makanin/ComposablePrintNodeIterator.java) def
/fdir (src/makanin/) def
/ftail (ComposablePrintNodeIterator.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:59:32 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (ComposablePrintNodeIterator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        return _readi.hasNext\(\);) s
5 497 M
(    }) s
5 475 M
(    public Object next\(\) {) s
5 464 M
(        PrintNode answer = \(PrintNode\)_readi.next\(\);) s
5 453 M
(        return answer;) s
5 442 M
(    }) s
5 420 M
(    public void remove\(\) {) s
5 409 M
(        throw new RuntimeException\("ComposablePrintNodeIterator.remove: not implemented"\);) s
5 398 M
(    }) s
5 387 M
(}) s
_R
S
%%Page: (1) 250
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/CriticalBoundary.java) def
/fdir (src/makanin/) def
/ftail (CriticalBoundary.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:59:32 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (CriticalBoundary.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package makanin;) s
5 431 M
(import ge.Boundary;) s
5 420 M
(import ge.GE;) s
5 409 M
(import ge.GEDecorator;) s
5 387 M
(/**) s
5 376 M
( *) s
5 365 M
( * @author grouptheory) s
5 354 M
( */) s
5 343 M
(public class CriticalBoundary extends GEDecorator {) s
5 321 M
(    static final String NAME = "CriticalBoundary";) s
5 299 M
(    private Boundary _cr;) s
5 277 M
(    CriticalBoundary\(Boundary cr\) {) s
5 266 M
(        super\(\);) s
5 255 M
(        _cr = cr;) s
5 244 M
(    }) s
5 222 M
(    Boundary getBoundary\(\) {) s
5 211 M
(        return _cr;) s
5 200 M
(    }) s
5 189 M
(}) s
_R
S
%%Page: (1) 251
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/CriticalBoundaryFactory.java) def
/fdir (src/makanin/) def
/ftail (CriticalBoundaryFactory.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:59:32 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (CriticalBoundaryFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package makanin;) s
5 431 M
(import ge.Base;) s
5 420 M
(import ge.Boundary;) s
5 409 M
(import ge.GE;) s
5 398 M
(import java.util.Iterator;) s
5 376 M
(/**) s
5 365 M
( *) s
5 354 M
( * @author grouptheory) s
5 343 M
( */) s
5 332 M
(public class CriticalBoundaryFactory {) s
5 310 M
(    public static void applyToGE\(GE geq\) {) s
5 299 M
(        Carrier ca = \(Carrier\)geq.lookupDecorator\(Carrier.NAME\);) s
5 288 M
(        if \(ca == null\) {) s
5 277 M
(            throw new RuntimeException\("CriticalBoundarySelector.applyToGE: unknown carrier"\);) s
5 266 M
(        }) s
5 255 M
(        ) s
5 244 M
(        CriticalBoundary cb = CriticalBoundaryFactory.compute\(geq, ca\);) s
5 233 M
(        cb.attach\(CriticalBoundary.NAME, geq\);) s
5 222 M
(    }) s
5 200 M
(    private static CriticalBoundary compute\(GE geq, Carrier carrier\) {) s
5 189 M
(        Base cbs = carrier.getBase\(\);) s
5 178 M
(        ) s
5 167 M
(        Boundary cr = cbs.getEnd\(\);) s
5 156 M
(        ) s
5 145 M
(        for \(Iterator it=geq.iteratorBases\(\); it.hasNext\(\);\) {) s
5 134 M
(            Base bs=\(Base\)it.next\(\);) s
5 123 M
(            if \(bs == cbs\) continue;) s
5 112 M
(            // find all bs with property that end\(carrier\) in col\(bs\)) s
5 101 M
(            if \(bs.getBegin\(\).getID\(\) < cbs.getEnd\(\).getID\(\) &&) s
5 90 M
(                bs.getEnd\(\).getID\(\) > cbs.getEnd\(\).getID\(\)\) {) s
5 79 M
(                if \(cr == null\) {) s
5 68 M
(                    cr = bs.getBegin\(\);) s
5 57 M
(                }) s
5 46 M
(                else {) s
5 35 M
(                    // find bs with minimal begin\(bs\) that has the above property) s
5 24 M
(                    if \(cr.getID\(\) > bs.getBegin\(\).getID\(\)\) {) s
5 13 M
(                        cr = bs.getBegin\(\);) s
5 2 M
(                    }) s
_R
S
%%Page: (2) 252
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/makanin/CriticalBoundaryFactory.java) def
/fdir (src/makanin/) def
/ftail (CriticalBoundaryFactory.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:59:32 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (CriticalBoundaryFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                }) s
5 497 M
(            }) s
5 486 M
(        }) s
5 464 M
(        CriticalBoundary cbd = new CriticalBoundary\(cr\);) s
5 453 M
(        return cbd;) s
5 442 M
(    }) s
5 431 M
(}) s
_R
S
%%Page: (1) 253
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/GENode.java) def
/fdir (src/makanin/) def
/ftail (GENode.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:21:50 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (GENode.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package makanin;) s
5 431 M
(import ge.GE;) s
5 420 M
(import ge.GEDegeneracyTester;) s
5 409 M
(import ge.GETrivialityTester;) s
5 398 M
(import utility.ClassLog;) s
5 387 M
(import java.util.LinkedList;) s
5 365 M
(/**) s
5 354 M
( *) s
5 343 M
( * @author grouptheory) s
5 332 M
( */) s
5 321 M
(public class GENode {) s
5 310 M
(    private GENode _parent;) s
5 299 M
(    private Print _print;) s
5 288 M
(    private PrintApplicator _pa;) s
5 277 M
(    private GE _geq;) s
5 266 M
(    private GEDegeneracyTester _degeneracy_me;) s
5 255 M
(    private GETrivialityTester _triviality_me;) s
5 244 M
(    private boolean _leaf;) s
5 233 M
(    private boolean _solvable;) s
5 222 M
(    private String _name;) s
5 211 M
(    private int _j;) s
5 200 M
(    private ClassLog _log;) s
5 189 M
(    ) s
5 178 M
(    public GENode\(GE root, String name\) {) s
5 167 M
(        _log = new ClassLog\(\);) s
5 156 M
(        _parent = null;) s
5 145 M
(        _print = null;) s
5 134 M
(        _name = name;) s
5 123 M
(        _geq = root.duplicate\(\);) s
5 112 M
(        makeLogEntry_root\(\);) s
5 101 M
(        initialize\(\);) s
5 90 M
(    }) s
5 68 M
(    private GENode\(GENode parent, Print print, String name, int j\) {) s
5 57 M
(        _log = new ClassLog\(\);) s
5 46 M
(        _parent = parent;) s
5 35 M
(        _print = print;) s
5 24 M
(        _name = name;) s
5 13 M
(        _pa = new PrintApplicator\(parent._geq, print\);) s
5 2 M
(        _geq = _pa.getPrinted\(\);) s
_R
S
%%Page: (2) 254
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/makanin/GENode.java) def
/fdir (src/makanin/) def
/ftail (GENode.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:21:50 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (GENode.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        _j = j;) s
5 486 M
(        makeLogEntry_nonroot\(\);) s
5 475 M
(        initialize\(\);) s
5 464 M
(    }) s
5 442 M
(    public String getLog\(\) {) s
5 431 M
(        return _log.toString\(\);) s
5 420 M
(    }) s
5 398 M
(    public void closeLog\(String s\) {) s
5 387 M
(        if \(_parent != null\) {) s
5 376 M
(            _log.append\("This completes the consideration of "+s+".\\\\\\\\"+params.MKParams.REPORT_SPACING+"\\n"\);) s
5 365 M
(        }) s
5 354 M
(        else {) s
5 343 M
(            _log.append\("We proceed.\\\\\\\\[0.2in]\\n"\);) s
5 332 M
(        }) s
5 321 M
(    }) s
5 299 M
(    public void appendToLog\(String s\) {) s
5 288 M
(        _log.append\(s\);) s
5 277 M
(    }) s
5 255 M
(    private void initialize\(\) {) s
5 244 M
(        CarrierFactory.applyToGE\(_geq\);) s
5 233 M
(        CriticalBoundaryFactory.applyToGE\(_geq\);) s
5 222 M
(        BaseClassDecoratorFactory.applyToAllBases\(_geq\);) s
5 200 M
(        _degeneracy_me = new GEDegeneracyTester\(_geq\);) s
5 189 M
(        _triviality_me = new GETrivialityTester\(_geq\);) s
5 167 M
(        if \(_degeneracy_me.isDegenerate\(\)\) {) s
5 156 M
(            _leaf = true;) s
5 145 M
(            _solvable = false;) s
5 134 M
(            ) s
5 123 M
(            // System.out.println\("ABC degeneracy "+degeneracy_me.toString\(\)\);) s
5 112 M
(        }) s
5 101 M
(        else if\(_triviality_me.isTrivial\(\)\) {) s
5 90 M
(            _leaf = true;) s
5 79 M
(            _solvable = true;) s
5 57 M
(            // System.out.println\("ABC triviality "+triviality_me.toString\(\)\);) s
5 46 M
(        }) s
5 35 M
(        else {) s
5 24 M
(            _leaf = false;) s
5 13 M
(            _solvable = true; // wishful thinking) s
5 2 M
(        }) s
_R
S
%%Page: (3) 255
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/makanin/GENode.java) def
/fdir (src/makanin/) def
/ftail (GENode.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:21:50 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (GENode.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 497 M
(        makeLogEntry_common\(\);) s
5 486 M
(    }) s
5 464 M
(    LinkedList expand\(\) {) s
5 453 M
(        LinkedList children = new LinkedList\(\);) s
5 442 M
(        if \(_leaf\) {) s
5 431 M
(            return children;) s
5 420 M
(        }) s
5 409 M
(        ) s
5 398 M
(        int j=1;) s
5 387 M
(        for \(PrintIterator pi = PrintIteratorFactory.instance\(\).newPrintIterator\(_geq\);) s
5 376 M
(             pi.hasNext\(\);\) {) s
5 365 M
(            Print p = \(Print\)pi.next\(\);) s
5 343 M
(            String child_name = this._name + "." + j;) s
5 332 M
(            ) s
5 321 M
(            GENode childNode = new GENode\(this, p, child_name, j\);) s
5 310 M
(            children.addLast\(childNode\);) s
5 299 M
(            ) s
5 288 M
(            j++;) s
5 277 M
(        }) s
5 266 M
(        return children;) s
5 255 M
(    }) s
5 233 M
(    public String toString\(\) {) s
5 222 M
(        String s = "";) s
5 211 M
(        s += _name;) s
5 200 M
(        s += ":";) s
5 189 M
(        if \(_leaf\) {) s
5 178 M
(            if \(_solvable\) {) s
5 167 M
(                s +="true";) s
5 156 M
(            }) s
5 145 M
(            else {) s
5 134 M
(                s +="false";) s
5 123 M
(            }) s
5 112 M
(        }) s
5 101 M
(        else {) s
5 90 M
(            s +="unresolved";) s
5 79 M
(        }) s
5 68 M
(        return s;) s
5 57 M
(    }) s
5 35 M
(    public String getName\(\) {) s
5 24 M
(        return _name;) s
5 13 M
(    }) s
_R
S
%%Page: (4) 256
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 4 def
/fname (src/makanin/GENode.java) def
/fdir (src/makanin/) def
/ftail (GENode.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:21:50 2011) def
/pagenumstr (4) def
/user_header_p true def
/user_header_left_str (GENode.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 4 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    public GE getGE\(\) {) s
5 497 M
(        return _geq;) s
5 486 M
(    }) s
5 464 M
(    public GENode getParent\(\) {) s
5 453 M
(        return _parent;) s
5 442 M
(    }) s
5 420 M
(    public boolean isSolvable\(\) {) s
5 409 M
(        return _solvable;) s
5 398 M
(    }) s
5 376 M
(    public boolean isLeaf\(\) {) s
5 365 M
(        return _leaf;) s
5 354 M
(    }) s
5 332 M
(    private void makeLogEntry_root\(\) {) s
5 321 M
(        String s = "";) s
5 310 M
(        s += "Below is the root GE obtained from the cancellation diagram above.";) s
5 299 M
(        s+=ge.Latex.instance\(\).renderGEasGraphics\(_geq\);) s
5 288 M
(        _log.append\(s\);) s
5 277 M
(    }) s
5 255 M
(    private void makeLogEntry_nonroot\(\) {) s
5 244 M
(        String s = "";) s
5 233 M
(        s+=\("{We consider its print}\\n"\);) s
5 222 M
(        s+="\\\\begin{verbatim}\\n";) s
5 211 M
(        s+=\("     Print "+_j+": "+_print+"\\n"\);) s
5 200 M
(        s+="\\\\end{verbatim}\\n";) s
5 189 M
(        s+=\("{\\\\bf Sequence of actions in performing the Print "+_j+":}\\\\\\\\\\n"\);) s
5 178 M
(        s+=_pa.toString\(\);) s
5 167 M
(        s+=\("{Upon applying the print, the GE we obtain---which we refer to as "+_name+"---is illustrated below:}\\n"\);) s
5 156 M
(        s+=ge.Latex.instance\(\).renderGEasGraphics\(_geq\);) s
5 145 M
(        _log.append\(s\);) s
5 134 M
(    }) s
5 112 M
(    void makeLogEntry_common\(\) {) s
5 101 M
(        String s = "";) s
5 79 M
(        if \(params.MKParams.FLAG_REPORT_MAKANIN_CARRIER\) {) s
5 68 M
(            s += makanin.Latex.instance\(\).renderGEasText\(_geq\);) s
5 57 M
(        }) s
5 35 M
(        if \(_degeneracy_me.isDegenerate\(\)\) {) s
5 24 M
(            s+=\("Observe the following facts about this GE:\\n"\);) s
5 13 M
(            s+=_degeneracy_me.toString\(\);) s
5 2 M
(            s+=\("These observations show that the GE above is degenerate.  "\);) s
_R
S
%%Page: (5) 257
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 5 def
/fname (src/makanin/GENode.java) def
/fdir (src/makanin/) def
/ftail (GENode.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:21:50 2011) def
/pagenumstr (5) def
/user_header_p true def
/user_header_left_str (GENode.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 5 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        }) s
5 497 M
(        else {) s
5 486 M
(            s+=\("The GE above is non-degenerate.  "\);) s
5 475 M
(        }) s
5 464 M
(        appendToLog\(s\);) s
5 453 M
(    }) s
5 442 M
(}) s
_R
S
%%Page: (1) 258
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/GENodePriorityQueue.java) def
/fdir (src/makanin/) def
/ftail (GENodePriorityQueue.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:20:16 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (GENodePriorityQueue.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package makanin;) s
5 431 M
(import java.util.LinkedList;) s
5 420 M
(import java.util.Iterator;) s
5 398 M
(/**) s
5 387 M
( *) s
5 376 M
( * @author grouptheory) s
5 365 M
( */) s
5 354 M
(public class GENodePriorityQueue {) s
5 332 M
(    private static class ProcessingPolicy {};) s
5 321 M
(    public static final ProcessingPolicy BFS_POLICY = new ProcessingPolicy\(\);) s
5 310 M
(    public static final ProcessingPolicy DFS_POLICY = new ProcessingPolicy\(\);) s
5 288 M
(    private LinkedList _q;) s
5 277 M
(    private ProcessingPolicy _policy;) s
5 255 M
(    public GENodePriorityQueue\(\) {) s
5 244 M
(        this\(BFS_POLICY\);) s
5 233 M
(    }) s
5 211 M
(    public GENodePriorityQueue\(ProcessingPolicy policy\) {) s
5 200 M
(        _policy = policy;) s
5 189 M
(        _q = new LinkedList\(\);) s
5 178 M
(        _observers = new LinkedList\(\);) s
5 167 M
(    }) s
5 145 M
(    public void enqueue\(GENode node\) {) s
5 134 M
(        _q.addLast\(node\);) s
5 123 M
(        notifyObservers\(node\);) s
5 112 M
(    }) s
5 90 M
(    public boolean empty\(\) {) s
5 79 M
(        return _q.size\(\)==0;) s
5 68 M
(    }) s
5 46 M
(    GENode dequeue\(\) {) s
5 35 M
(        if \(empty\(\)\) {) s
5 24 M
(            throw new RuntimeException\("GENodePriorityQueue.dequeue: queue is empty"\);) s
5 13 M
(        }) s
_R
S
%%Page: (2) 259
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/makanin/GENodePriorityQueue.java) def
/fdir (src/makanin/) def
/ftail (GENodePriorityQueue.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:20:16 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (GENodePriorityQueue.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        GENode next = null;) s
5 497 M
(        if \(_policy == DFS_POLICY\) {) s
5 486 M
(            next = \(GENode\)_q.removeLast\(\);) s
5 475 M
(        }) s
5 464 M
(        else if \(_policy == BFS_POLICY\) {) s
5 453 M
(            next = \(GENode\)_q.removeFirst\(\);) s
5 442 M
(        }) s
5 431 M
(        else {) s
5 420 M
(            throw new RuntimeException\("GENodePriorityQueue.dequeue: unknown policy"\);) s
5 409 M
(        }) s
5 398 M
(        return next;) s
5 387 M
(    }) s
5 365 M
(    public GENode step\(\) {) s
5 354 M
(        GENode next = null;) s
5 343 M
(        if \(!empty\(\)\) {) s
5 332 M
(            next = dequeue\(\);) s
5 321 M
(            LinkedList children = next.expand\(\);) s
5 310 M
(            int count = children.size\(\);) s
5 299 M
(            for \(Iterator it=children.iterator\(\); it.hasNext\(\);\) {) s
5 288 M
(                GENode child = \(GENode\)it.next\(\);) s
5 277 M
(                enqueue\(child\);) s
5 266 M
(            }) s
5 255 M
(            appendToGENodeLog\(next, count\);) s
5 244 M
(        }) s
5 233 M
(        return next;) s
5 222 M
(    }) s
5 200 M
(    private void appendToGENodeLog\(GENode next, int count\) {) s
5 189 M
(        if \(next.isLeaf\(\)\) {) s
5 178 M
(            next.appendToLog\("This GE is a leaf in the GE tree.  "\);) s
5 167 M
(            if \(next.isSolvable\(\)\) {) s
5 156 M
(                next.appendToLog\("We have effectively found a solution!"\);) s
5 145 M
(            }) s
5 134 M
(            else {) s
5 123 M
(                next.appendToLog\("This branch of the tree has led us to a dead end."\);) s
5 112 M
(            }) s
5 101 M
(        }) s
5 90 M
(        else {) s
5 79 M
(            next.appendToLog\("This GE is {\\\\em not} a leaf in the GE tree.   "\);) s
5 68 M
(            if \(count==0\) {) s
5 57 M
(                next.appendToLog\("However, it has no valid prints \(descendents\).  "\);) s
5 46 M
(            }) s
5 35 M
(        }) s
5 13 M
(        if \(count>0\) {) s
5 2 M
(            next.appendToLog\("It has "+count+" valid prints \(descendents\).  "\);) s
_R
S
%%Page: (3) 260
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/makanin/GENodePriorityQueue.java) def
/fdir (src/makanin/) def
/ftail (GENodePriorityQueue.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:20:16 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (GENodePriorityQueue.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        }) s
5 497 M
(        next.appendToLog\("\\\\\\\\"+params.MKParams.REPORT_SPACING+"\\n"\);) s
5 475 M
(    }) s
5 464 M
(    private LinkedList _observers;) s
5 453 M
(    ) s
5 442 M
(    public void attachObserver\(IGENodePriorityQueueObserver obs\) {) s
5 431 M
(        _observers.addLast\(obs\);) s
5 420 M
(    }) s
5 398 M
(    void detachObserver\(IGENodePriorityQueueObserver obs\) {) s
5 387 M
(        _observers.remove\(obs\);) s
5 376 M
(    }) s
5 354 M
(    void notifyObservers\(GENode node\) {) s
5 343 M
(        for \(Iterator it=_observers.iterator\(\); it.hasNext\(\);\) {) s
5 332 M
(            IGENodePriorityQueueObserver obs = \(IGENodePriorityQueueObserver\)it.next\(\);) s
5 321 M
(            obs.notify\(this, node\);) s
5 310 M
(        }) s
5 299 M
(    }) s
5 288 M
(}) s
_R
S
%%Page: (1) 261
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/GEPriorityQueueLogger.java) def
/fdir (src/makanin/) def
/ftail (GEPriorityQueueLogger.java) def
% User defined strings:
/fmodstr (Thu Oct 20 16:25:35 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (GEPriorityQueueLogger.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package makanin;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public class GEPriorityQueueLogger implements IGENodePriorityQueueObserver {) s
5 376 M
(    public void notify\(GENodePriorityQueue q, GENode node\) {) s
5 365 M
(        System.out.println\("GE "+node\);) s
5 354 M
(        // System.out.println\(""+node.getGE\(\)\);) s
5 343 M
(    }) s
5 332 M
(}) s
_R
S
%%Page: (1) 262
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/IGENodePriorityQueueObserver.java) def
/fdir (src/makanin/) def
/ftail (IGENodePriorityQueueObserver.java) def
% User defined strings:
/fmodstr (Thu Oct 20 15:58:52 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (IGENodePriorityQueueObserver.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package makanin;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public interface IGENodePriorityQueueObserver {) s
5 376 M
(    void notify\(GENodePriorityQueue q, GENode node\);) s
5 365 M
(}) s
_R
S
%%Page: (1) 263
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/Latex.java) def
/fdir (src/makanin/) def
/ftail (Latex.java) def
% User defined strings:
/fmodstr (Fri Oct 21 08:00:35 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Latex.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package makanin;) s
5 431 M
(import ge.GE;) s
5 420 M
(import ge.Base;) s
5 409 M
(import ge.Boundary;) s
5 398 M
(import ge.GEDegeneracyTester;) s
5 376 M
(/**) s
5 365 M
( *) s
5 354 M
( * @author grouptheory) s
5 343 M
( */) s
5 332 M
(public class Latex {) s
5 310 M
(    private static Latex _instance;) s
5 288 M
(    private Latex\(\) {) s
5 277 M
(    }) s
5 255 M
(    public static Latex instance\(\) {) s
5 244 M
(        if \(_instance == null\) {) s
5 233 M
(            _instance = new Latex\(\);) s
5 222 M
(        }) s
5 211 M
(        return _instance;) s
5 200 M
(    }) s
5 178 M
(    public String renderGEasText\(GE geq\) {) s
5 167 M
(        String s = "";) s
5 145 M
(        Carrier ca = \(Carrier\)geq.lookupDecorator\(Carrier.NAME\);) s
5 134 M
(        if \(ca == null\) {) s
5 123 M
(            throw new RuntimeException\("Latex.renderGEasText: unknown carrier"\);) s
5 112 M
(        }) s
5 101 M
(        Base carrier_base = ca.getBase\(\);) s
5 90 M
(        if \(carrier_base == null\) {) s
5 79 M
(            throw new RuntimeException\("Latex.renderGEasText: carrier_base is null"\);) s
5 68 M
(        }) s
5 46 M
(        CriticalBoundary cr = \(CriticalBoundary\)geq.lookupDecorator\(CriticalBoundary.NAME\);) s
5 35 M
(        if \(cr == null\) {) s
5 24 M
(            throw new RuntimeException\("Latex.renderGEasText: unknown critical boundary"\);) s
5 13 M
(        }) s
5 2 M
(        Boundary critical_boundary = cr.getBoundary\(\);) s
_R
S
%%Page: (2) 264
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/makanin/Latex.java) def
/fdir (src/makanin/) def
/ftail (Latex.java) def
% User defined strings:
/fmodstr (Fri Oct 21 08:00:35 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Latex.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        if \(critical_boundary == null\) {) s
5 497 M
(            throw new RuntimeException\("Latex.renderGEasText: critical_boundary is null"\);) s
5 486 M
(        }) s
5 464 M
(        Base carrier_dual = carrier_base.getDual\(\);) s
5 442 M
(        s+=\("{\\\\bf GE Information}:  \\n"\);) s
5 431 M
(        s+=\("Carrier: "+carrier_base.toStringShort\(\)+";  \\n"\);) s
5 420 M
(        s+=\("Carrier Dual: "+carrier_dual.toStringShort\(\)+";  \\n"\);) s
5 409 M
(        s+=\("Critical Boundary: "+critical_boundary+";  \\n"\);) s
5 387 M
(        return s;) s
5 376 M
(    }) s
5 354 M
(    public String renderPrintsasText\(GE geq\) {) s
5 343 M
(        String s = "";) s
5 321 M
(        s+=\("{\\\\bf Prints}\\n"\);) s
5 310 M
(        s+="\\\\begin{verbatim}\\n";) s
5 299 M
(        int j=0;) s
5 288 M
(        for \(PrintIterator pi = PrintIteratorFactory.instance\(\).newPrintIterator\(geq\);) s
5 277 M
(             pi.hasNext\(\);\) {) s
5 266 M
(            Print p = \(Print\)pi.next\(\);) s
5 255 M
(            s+=\("     Print "+j+": "+p+"\\n"\);) s
5 244 M
(            j++;) s
5 233 M
(        }) s
5 222 M
(        s+="\\\\end{verbatim}\\n";) s
5 211 M
(        s+=\("Total number of prints: "+j+"\\\\\\\\\\n"\);) s
5 189 M
(        j=1;) s
5 178 M
(        for \(PrintIterator pi = PrintIteratorFactory.instance\(\).newPrintIterator\(geq\);) s
5 167 M
(             pi.hasNext\(\);\) {) s
5 156 M
(            Print p = \(Print\)pi.next\(\);) s
5 134 M
(            if \(j==0\) {) s
5 123 M
(                s+=\("{\\\\em First, we consider}\\n"\);) s
5 112 M
(            }) s
5 101 M
(            else {) s
5 90 M
(                s+=\("{\\\\em Next, we consider}\\n"\);) s
5 79 M
(            }) s
5 68 M
(            s+="\\\\begin{verbatim}\\n";) s
5 57 M
(            s+=\("     Print "+j+": "+p+"\\n"\);) s
5 46 M
(            s+="\\\\end{verbatim}\\n";) s
5 24 M
(            PrintApplicator pa = new PrintApplicator\(geq, p\);) s
5 13 M
(            GE childeq = pa.getPrinted\(\);) s
_R
S
%%Page: (3) 265
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/makanin/Latex.java) def
/fdir (src/makanin/) def
/ftail (Latex.java) def
% User defined strings:
/fmodstr (Fri Oct 21 08:00:35 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (Latex.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            s+=\("{\\\\bf Sequence of Actions in performing the Print "+j+":}\\\\\\\\\\n"\);) s
5 497 M
(            s+=pa.toString\(\);) s
5 475 M
(            s+=\("{\\\\em Summarizing, the GE we obtain after applying}\\n"\);) s
5 464 M
(            s+="\\\\begin{verbatim}\\n";) s
5 453 M
(            s+=\("     Print "+j+": "+p+"\\n"\);) s
5 442 M
(            s+="\\\\end{verbatim}\\n";) s
5 431 M
(            s+=\("{\\\\em is shown below:}\\n"\);) s
5 409 M
(            s+=ge.Latex.instance\(\).renderGEasGraphics\(childeq\);) s
5 387 M
(            GEDegeneracyTester testchild = new GEDegeneracyTester\(childeq\);) s
5 376 M
(            if \(testchild.isDegenerate\(\)\) {) s
5 365 M
(                s+=\("Observe the following facts about this GE:\\n"\);) s
5 354 M
(                s+=testchild.toString\(\);) s
5 343 M
(                s+=\("These observations show that the GE above is degenerate.\\\\\\\\"+params.MKParams.REPORT_SPACING+"\\n"\);) s
5 332 M
(            }) s
5 321 M
(            else {) s
5 310 M
(                s+=\("The GE above is non-degenerate.\\\\\\\\"+params.MKParams.REPORT_SPACING+"\\n"\);) s
5 299 M
(            }) s
5 288 M
(            s+=\("This completes the consideration of Print "+j+".\\\\\\\\"+params.MKParams.REPORT_SPACING+"\\n"\);) s
5 277 M
(            ) s
5 266 M
(            j++;) s
5 255 M
(        }) s
5 233 M
(        return s;) s
5 222 M
(    }) s
5 200 M
(    public String renderGEasGraphics\(GE geq\) {) s
5 189 M
(        String s = "";) s
5 178 M
(        s += ge.Latex.instance\(\).renderGEasGraphics\(geq\);) s
5 167 M
(        return s;) s
5 156 M
(    }) s
5 145 M
(}) s
_R
S
%%Page: (1) 266
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/Main.java) def
/fdir (src/makanin/) def
/ftail (Main.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:59:32 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Main.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package makanin;) s
5 431 M
(import equation.GroupEquation;) s
5 420 M
(import ge.TopLevelGEIterator;) s
5 409 M
(import ge.TopLevelGEIteratorFactory;) s
5 398 M
(import ge.GE;) s
5 387 M
(import ge.Base;) s
5 376 M
(import ge.Boundary;) s
5 365 M
(import java.util.Iterator;) s
5 354 M
(import utility.CompositeIterator;) s
5 343 M
(import utility.CompositeIterator.State;) s
5 321 M
(/**) s
5 310 M
( *) s
5 299 M
( * @author grouptheory) s
5 288 M
( */) s
5 277 M
(public class Main {) s
5 266 M
(    /**) s
5 255 M
(     * @param args the command line arguments) s
5 244 M
(     */) s
5 233 M
(    public static void main\(String[] args\) {) s
5 222 M
(        // TODO code application logic here) s
5 200 M
(        GroupEquation problem = new GroupEquation\("z1+.c1+.z2+.c2+.z1-.c3+.z2-."\);) s
5 178 M
(        TopLevelGEIterator iter = TopLevelGEIteratorFactory.instance\(\).newTopLevelGEIterator\(problem\);) s
5 156 M
(        int i=0;) s
5 145 M
(        for \(;iter.hasNext\(\);\) {) s
5 134 M
(            GE geq = \(GE\)iter.next\(\);) s
5 112 M
(            CarrierFactory.applyToGE\(geq\);) s
5 101 M
(            CriticalBoundaryFactory.applyToGE\(geq\);) s
5 90 M
(            BaseClassDecoratorFactory.applyToAllBases\(geq\);) s
5 68 M
(            Carrier ca = \(Carrier\)geq.lookupDecorator\(Carrier.NAME\);) s
5 57 M
(            if \(ca == null\) {) s
5 46 M
(                throw new RuntimeException\("gutierrez.Main: unknown carrier"\);) s
5 35 M
(            }) s
5 24 M
(            Base carrier_base = ca.getBase\(\);) s
5 13 M
(            if \(carrier_base == null\) {) s
5 2 M
(                throw new RuntimeException\("gutierrez.Main: carrier_base is null"\);) s
_R
S
%%Page: (2) 267
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/makanin/Main.java) def
/fdir (src/makanin/) def
/ftail (Main.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:59:32 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Main.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            }) s
5 486 M
(            CriticalBoundary cr = \(CriticalBoundary\)geq.lookupDecorator\(CriticalBoundary.NAME\);) s
5 475 M
(            if \(cr == null\) {) s
5 464 M
(                throw new RuntimeException\("gutierrez.Main: unknown critical boundary"\);) s
5 453 M
(            }) s
5 442 M
(            Boundary critical_boundary = cr.getBoundary\(\);) s
5 431 M
(            if \(critical_boundary == null\) {) s
5 420 M
(                throw new RuntimeException\("gutierrez.Main: critical_boundary is null"\);) s
5 409 M
(            }) s
5 387 M
(            Base carrier_dual = carrier_base.getDual\(\);) s
5 365 M
(            System.out.println\("GE#"+i+":\\n"\);) s
5 343 M
(            /*) s
5 332 M
(            System.out.println\(""+geq+"\\n"\);) s
5 321 M
(            System.out.println\("\\n"\);) s
5 310 M
(            System.out.println\("Carrier: "+carrier_base+"\\n"\);) s
5 299 M
(            System.out.println\("Carrier Dual: "+carrier_dual\);) s
5 288 M
(            System.out.println\("Critical Boundary: "+critical_boundary+"\\n"\);) s
5 277 M
(            System.out.println\("\\n\\n"\);) s
5 266 M
(            */) s
5 244 M
(            i++;) s
5 222 M
(            int j=0;) s
5 211 M
(            for \(PrintIterator pi = PrintIteratorFactory.instance\(\).newPrintIterator\(geq\);) s
5 200 M
(                 pi.hasNext\(\);\) {) s
5 189 M
(                Print p = \(Print\)pi.next\(\);) s
5 178 M
(                // System.out.println\("PRINT "+p\);) s
5 167 M
(                j++;) s
5 156 M
(            }) s
5 145 M
(            System.out.println\("Total number of prints generated: "+j+"\\n"\);) s
5 123 M
(            //break;) s
5 112 M
(        }) s
5 90 M
(        System.out.println\("Total number of GEs generated: "+i+"\\n"\);) s
5 79 M
(    }) s
5 68 M
(}) s
_R
S
%%Page: (1) 268
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/Main2.java) def
/fdir (src/makanin/) def
/ftail (Main2.java) def
% User defined strings:
/fmodstr (Thu Oct 20 22:24:59 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Main2.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package makanin;) s
5 431 M
(import equation.GroupEquation;) s
5 420 M
(import ge.TopLevelGEIterator;) s
5 409 M
(import ge.TopLevelGEIteratorFactory;) s
5 398 M
(import ge.GE;) s
5 387 M
(import ge.GEFactory;) s
5 376 M
(import ge.CancellationDiagramAnalysis_GEDecorator;) s
5 365 M
(import equation.GroupEquation;) s
5 354 M
(import equation.QuadraticSystem;) s
5 343 M
(import cancellation.Diagram;) s
5 332 M
(import cancellation.DiagramTreeNode;) s
5 321 M
(import cancellation.ICancellationDiagramAnalysis;) s
5 310 M
(import cancellation.CancellationDiagramFactory;) s
5 299 M
(import java.util.Iterator;) s
5 277 M
(/**) s
5 266 M
( *) s
5 255 M
( * @author grouptheory) s
5 244 M
( */) s
5 233 M
(public class Main2 {) s
5 222 M
(    /**) s
5 211 M
(     * @param args the command line arguments) s
5 200 M
(     */) s
5 189 M
(    public static void main\(String[] args\) {) s
5 178 M
(        // TODO code application logic here) s
5 156 M
(        GroupEquation problem = new GroupEquation\("z1-.c1+.z1+.c1-."\);) s
5 134 M
(        ICancellationDiagramAnalysis analysis;) s
5 123 M
(        analysis = CancellationDiagramFactory.instance\(\).newDiagramProbe\(problem\);) s
5 101 M
(        analysis.addDecorator\(new CancellationDiagramAnalysis_GEDecorator\(\)\);) s
5 68 M
(        int i=1;) s
5 57 M
(        for \(Iterator it = analysis.iteratorDiagramTreeNodes\(\); it.hasNext\(\);\) {) s
5 46 M
(            DiagramTreeNode dtn = \(DiagramTreeNode\)it.next\(\);) s
5 24 M
(            QuadraticSystem qs = analysis.getQuadraticSystem\(\);) s
5 13 M
(            Diagram d = dtn.getDiagram\(\);) s
_R
S
%%Page: (2) 269
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/makanin/Main2.java) def
/fdir (src/makanin/) def
/ftail (Main2.java) def
% User defined strings:
/fmodstr (Thu Oct 20 22:24:59 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Main2.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            GEFactory gef = GEFactory.instance\(\);) s
5 497 M
(            GE geq = gef.newGE\(d, qs\);) s
5 475 M
(            String name = "root"+i;) s
5 464 M
(            ) s
5 453 M
(            GENode gnode = new GENode\(geq, name\);) s
5 442 M
(            GENodePriorityQueue pq = new GENodePriorityQueue\(\);) s
5 431 M
(            pq.attachObserver\(new GEPriorityQueueLogger\(\)\);) s
5 420 M
(            ) s
5 409 M
(            pq.enqueue\(gnode\);) s
5 387 M
(            while \(!pq.empty\(\)\) {) s
5 376 M
(                pq.step\(\);) s
5 365 M
(            }) s
5 343 M
(            i++;) s
5 332 M
(            ) s
5 321 M
(            //break;) s
5 310 M
(        }) s
5 288 M
(        System.out.println\("Total number of GEs generated: "+i+"\\n"\);) s
5 277 M
(    }) s
5 266 M
(}) s
_R
S
%%Page: (1) 270
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/Print.java) def
/fdir (src/makanin/) def
/ftail (Print.java) def
% User defined strings:
/fmodstr (Thu Oct 20 02:54:06 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Print.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package makanin;) s
5 431 M
(import ge.Boundary;) s
5 420 M
(import java.util.Iterator;) s
5 409 M
(import java.util.LinkedList;) s
5 398 M
(/**) s
5 387 M
( *) s
5 376 M
( * @author grouptheory) s
5 365 M
( */) s
5 354 M
(public class Print {) s
5 332 M
(    private LinkedList _nodes;) s
5 321 M
(    private boolean _flipped;) s
5 310 M
(    ) s
5 299 M
(    Print\(boolean flipped\) {) s
5 288 M
(        _nodes = new LinkedList\(\);) s
5 277 M
(        _flipped = flipped;) s
5 266 M
(    }) s
5 244 M
(    void append\(PrintNode pn\) {) s
5 233 M
(        _nodes.addLast\(pn\);) s
5 222 M
(    }) s
5 200 M
(    PrintNode nextPrintNode\(PrintNode pn\) {) s
5 189 M
(        int idx = _nodes.indexOf\(pn\);) s
5 178 M
(        if \(idx == _nodes.size\(\)-1\) {) s
5 167 M
(            return null;) s
5 156 M
(        }) s
5 145 M
(        else {) s
5 134 M
(            return \(PrintNode\)_nodes.get\(idx+1\);) s
5 123 M
(        }) s
5 112 M
(    }) s
5 79 M
(    PrintNode prevPrintNode\(PrintNode pn\) {) s
5 68 M
(        int idx = _nodes.indexOf\(pn\);) s
5 57 M
(        if \(idx == 0\) {) s
5 46 M
(            return null;) s
5 35 M
(        }) s
5 24 M
(        else {) s
5 13 M
(            return \(PrintNode\)_nodes.get\(idx-1\);) s
5 2 M
(        }) s
_R
S
%%Page: (2) 271
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/makanin/Print.java) def
/fdir (src/makanin/) def
/ftail (Print.java) def
% User defined strings:
/fmodstr (Thu Oct 20 02:54:06 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Print.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    }) s
5 486 M
(    public String toString\(\) {) s
5 475 M
(        String s="";) s
5 464 M
(        for \(Iterator it=_nodes.iterator\(\);it.hasNext\(\);\) {) s
5 453 M
(            PrintNode pn = \(PrintNode\)it.next\(\);) s
5 442 M
(            s += pn.toString\(\);) s
5 431 M
(        }) s
5 420 M
(        return s;) s
5 409 M
(    }) s
5 387 M
(    public Iterator iteratorPrintNodes\(boolean ascending\) {) s
5 376 M
(        if \(ascending\) {) s
5 365 M
(            return _nodes.iterator\(\);) s
5 354 M
(        }) s
5 343 M
(        else {) s
5 332 M
(            return _nodes.descendingIterator\(\);) s
5 321 M
(        }) s
5 310 M
(    }) s
5 288 M
(    PrintNode get\(Boundary b1, PrintNode.Source s1\) {) s
5 277 M
(        for \(Iterator it=_nodes.iterator\(\);it.hasNext\(\);\) {) s
5 266 M
(            PrintNode pn = \(PrintNode\)it.next\(\);) s
5 255 M
(            if \(\(pn.getSource\(\) == s1\) && \(pn.getBoundary\(\)==b1\)\) {) s
5 244 M
(                return pn;) s
5 233 M
(            }) s
5 222 M
(        }) s
5 211 M
(        return null;) s
5 200 M
(    }) s
5 189 M
(    ) s
5 178 M
(    boolean contains\(Boundary b1, PrintNode.Source s1\) {) s
5 167 M
(        return get\(b1,s1\)!=null;) s
5 156 M
(    }) s
5 134 M
(    Boundary getBegin\(\) {) s
5 123 M
(        Iterator it = \(!_flipped\) ? _nodes.iterator\(\) : _nodes.descendingIterator\(\);) s
5 112 M
(        for \(;it.hasNext\(\);\) {) s
5 101 M
(            PrintNode pn = \(PrintNode\)it.next\(\);) s
5 90 M
(            if \(pn.getSource\(\) == PrintNode.DUAL\) {) s
5 79 M
(                return pn.getBoundary\(\);) s
5 68 M
(            }) s
5 57 M
(        }) s
5 46 M
(        return null;) s
5 35 M
(    }) s
5 13 M
(    Boundary getEnd\(\) {) s
5 2 M
(        Iterator it = \(!_flipped\) ? _nodes.descendingIterator\(\) : _nodes.iterator\(\) ;) s
_R
S
%%Page: (3) 272
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/makanin/Print.java) def
/fdir (src/makanin/) def
/ftail (Print.java) def
% User defined strings:
/fmodstr (Thu Oct 20 02:54:06 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (Print.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        for \(;it.hasNext\(\);\) {) s
5 497 M
(            PrintNode pn = \(PrintNode\)it.next\(\);) s
5 486 M
(            if \(pn.getSource\(\) == PrintNode.DUAL\) {) s
5 475 M
(                return pn.getBoundary\(\);) s
5 464 M
(            }) s
5 453 M
(        }) s
5 442 M
(        return null;) s
5 431 M
(    }) s
5 409 M
(    int compare\(Boundary b1, PrintNode.Source s1, Boundary b2, PrintNode.Source s2\) {) s
5 398 M
(        ) s
5 387 M
(        PrintNode p1 = null;) s
5 376 M
(        PrintNode p2 = null;) s
5 365 M
(        PrintNode first = null;) s
5 354 M
(        for \(Iterator it=_nodes.iterator\(\);it.hasNext\(\);\) {) s
5 343 M
(            PrintNode pn = \(PrintNode\)it.next\(\);) s
5 332 M
(            if \(\(pn.getSource\(\) == s1\) && \(pn.getBoundary\(\)==b1\)\) {) s
5 321 M
(                p1 = pn;) s
5 310 M
(                if \(first==null\) first=p1;) s
5 299 M
(            }) s
5 288 M
(            if \(\(pn.getSource\(\) == s2\) && \(pn.getBoundary\(\)==b2\)\) {) s
5 277 M
(                p2 = pn;) s
5 266 M
(                if \(first==null\) first=p2;) s
5 255 M
(            }) s
5 244 M
(            if \(p1!=null && p2!=null\) {) s
5 233 M
(                break;) s
5 222 M
(            }) s
5 211 M
(        }) s
5 189 M
(        // System.out.println\("Comparing "+b1+":"+s1.toString\(\)+" with "+b2+":"+s2.toString\(\)\);) s
5 167 M
(        if \(p1==null\) {) s
5 156 M
(            throw new RuntimeException\("Print.compare: boundary "+b1+" not found in "+s1\);) s
5 145 M
(        }) s
5 123 M
(        if \(p2==null\) {) s
5 112 M
(            throw new RuntimeException\("Print.compare: boundary "+b2+" not found in "+s2\);) s
5 101 M
(        }) s
5 79 M
(        int i1=_nodes.indexOf\(p1\);) s
5 68 M
(        int i2=_nodes.indexOf\(p2\);) s
5 57 M
(        int low,high;) s
5 46 M
(        if \(first==p1\) {) s
5 35 M
(            low=i1; high=i2;) s
5 24 M
(        }) s
5 13 M
(        else {) s
5 2 M
(            low=i2; high=i1;) s
_R
S
%%Page: (4) 273
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 4 def
/fname (src/makanin/Print.java) def
/fdir (src/makanin/) def
/ftail (Print.java) def
% User defined strings:
/fmodstr (Thu Oct 20 02:54:06 2011) def
/pagenumstr (4) def
/user_header_p true def
/user_header_left_str (Print.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 4 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        }) s
5 486 M
(        int distance = 0;) s
5 475 M
(        for \(int i=low+1; i<=high; i++\) {) s
5 464 M
(            PrintNode pn = \(PrintNode\)_nodes.get\(i\);) s
5 453 M
(            if \(pn.getOffset\(\) == PrintNode.NONZERO\) {) s
5 442 M
(                distance++;) s
5 431 M
(            }) s
5 420 M
(        }) s
5 398 M
(        distance *= \(\(first==p1\) ? -1 : +1\);) s
5 376 M
(        return distance;) s
5 365 M
(    }) s
5 354 M
(}) s
_R
S
%%Page: (1) 274
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/PrintApplicator.java) def
/fdir (src/makanin/) def
/ftail (PrintApplicator.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (PrintApplicator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 13) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package makanin;) s
5 431 M
(import ge.GE;) s
5 420 M
(import ge.Constraint;) s
5 409 M
(import ge.Boundary;) s
5 398 M
(import ge.Base;) s
5 387 M
(import ge.IGETask;) s
5 376 M
(import ge.GETask_ConstraintDeletion;) s
5 365 M
(import ge.GETask_ConstraintAddition;) s
5 354 M
(import ge.GETask_BoundaryInsertion;) s
5 343 M
(import ge.GETask_MoveBase;) s
5 332 M
(import ge.GETask_CollapseBase;) s
5 321 M
(import ge.GETask_DeleteBase;) s
5 310 M
(import ge.GETask_DeleteBoundary;) s
5 299 M
(import ge.BaseComparator;) s
5 288 M
(import java.util.Iterator;) s
5 277 M
(import java.util.TreeMap;) s
5 266 M
(import java.util.HashMap;) s
5 255 M
(import java.util.LinkedList;) s
5 233 M
(/**) s
5 222 M
( *) s
5 211 M
( * @author grouptheory) s
5 200 M
( */) s
5 189 M
(public class PrintApplicator {) s
5 167 M
(    private TreeMap _old2new_bdmap;) s
5 156 M
(    private HashMap _old2new_bsmap;) s
5 145 M
(    private GE _geqOriginal;) s
5 134 M
(    private GE _geqPrinted;) s
5 123 M
(    ) s
5 112 M
(    private TreeMap _crtr2new_bdmap;) s
5 90 M
(    private LinkedList _pendingTasks;) s
5 79 M
(    private LinkedList _completedTasks;) s
5 68 M
(    private void drainTaskQueue\(\) {) s
5 57 M
(        for \(Iterator it = _pendingTasks.iterator\(\); it.hasNext\(\);\) {) s
5 46 M
(            IGETask task = \(IGETask\)it.next\(\);) s
5 35 M
(            try {) s
5 24 M
(                _geqPrinted.validate\(\);) s
5 13 M
(                task.execute\(\);) s
5 2 M
(                _geqPrinted.validate\(\);) s
_R
S
%%Page: (2) 275
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/makanin/PrintApplicator.java) def
/fdir (src/makanin/) def
/ftail (PrintApplicator.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (PrintApplicator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 13) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            }) s
5 497 M
(            catch \(RuntimeException ex\) {) s
5 486 M
(                System.out.println\("EXCEPTION "+task\);) s
5 475 M
(                throw ex;) s
5 464 M
(            }) s
5 453 M
(            ) s
5 442 M
(            _completedTasks.addLast\(task\);) s
5 431 M
(        }) s
5 420 M
(        _pendingTasks.clear\(\);) s
5 409 M
(    }) s
5 398 M
(    private void enqueueTask\(IGETask task\) {) s
5 387 M
(        _pendingTasks.addLast\(task\);) s
5 376 M
(    }) s
5 354 M
(    ) s
5 343 M
(    PrintApplicator\(GE geq, Print p\) {) s
5 332 M
(        _old2new_bdmap = new TreeMap\(\);) s
5 321 M
(        _old2new_bsmap = new HashMap\(\);) s
5 310 M
(        _geqOriginal = geq;) s
5 299 M
(        _geqOriginal.validate\(\);) s
5 288 M
(        ) s
5 277 M
(        _geqPrinted = geq.duplicate\(_old2new_bdmap, _old2new_bsmap\);) s
5 266 M
(        _geqPrinted.validate\(\);) s
5 255 M
(        ) s
5 244 M
(        _crtr2new_bdmap = new TreeMap\(\);) s
5 233 M
(        ) s
5 222 M
(        _pendingTasks = new LinkedList\(\);) s
5 211 M
(        _completedTasks = new LinkedList\(\);) s
5 200 M
(        ) s
5 189 M
(        apply\(p\);) s
5 178 M
(    }) s
5 156 M
(    GE getPrinted\(\) {) s
5 145 M
(        return _geqPrinted;) s
5 134 M
(    }) s
5 123 M
(    ) s
5 112 M
(    private void apply\(Print p\) {) s
5 90 M
(        _geqPrinted.validate\(\);) s
5 79 M
(        // System.out.println\("XYZ XXXXXXXXXX"\);) s
5 57 M
(        insertNewBoundaries\(p\);) s
5 46 M
(        _geqPrinted.validate\(\);) s
5 24 M
(        LinkedList additionalTasks = null;) s
5 13 M
(        if \(isCriticalBoundaryStrictlyBelowRightBoundary\(\)\) {) s
5 2 M
(            // System.out.println\("ABC FHGFHGFHGFHGFHFHF"\);) s
_R
S
%%Page: (3) 276
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/makanin/PrintApplicator.java) def
/fdir (src/makanin/) def
/ftail (PrintApplicator.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (PrintApplicator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 13) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            reduceConstraintsOnCarrier\(\);) s
5 497 M
(        }) s
5 486 M
(        else {) s
5 475 M
(            Base oldCarrier = getOldCarrier\(\);) s
5 464 M
(            additionalTasks = moveBaseToDualPart1\(p, oldCarrier, true\);) s
5 453 M
(            moveBaseToDualPart2\(additionalTasks\);) s
5 442 M
(        }) s
5 431 M
(        _geqPrinted.validate\(\);) s
5 409 M
(        moveTransportBases\(p\);) s
5 398 M
(        _geqPrinted.validate\(\);) s
5 376 M
(        collapseAlignedVariableBases\(p\);) s
5 365 M
(        _geqPrinted.validate\(\);) s
5 343 M
(        eliminateBasesStartingLeftOfCriticalBoundary\(p\);) s
5 332 M
(        _geqPrinted.validate\(\);) s
5 310 M
(        eliminateUselessBoundaries\(p\);) s
5 299 M
(        _geqPrinted.validate\(\);) s
5 288 M
(    }) s
5 266 M
(    private void eliminateUselessBoundaries\(Print p\) {) s
5 244 M
(        for \(Iterator it = _geqPrinted.iteratorBoundaries\(\); it.hasNext\(\);\) {) s
5 233 M
(            Boundary bdNew = \(Boundary\)it.next\(\);) s
5 222 M
(            if \(_geqPrinted.isUseless\(bdNew\)\) {) s
5 211 M
(                enqueueTask\(new GETask_DeleteBoundary\(bdNew, _geqPrinted\)\);) s
5 200 M
(            }) s
5 189 M
(            ) s
5 178 M
(        }) s
5 167 M
(        drainTaskQueue\(\);) s
5 156 M
(    }) s
5 134 M
(    private void eliminateBasesStartingLeftOfCriticalBoundary\(Print p\) {) s
5 123 M
(        Boundary crOld = getOldCriticalBoundary\(\);) s
5 112 M
(        Boundary crNew = Old2NewBoundary\(crOld\);) s
5 101 M
(        Base carrierOld = getOldCarrier\(\);) s
5 90 M
(        Base carrierNew = Old2NewBase\(carrierOld\);) s
5 79 M
(        Base carrierDualOld = carrierOld.getDual\(\);) s
5 68 M
(        Base carrierDualNew = carrierNew.getDual\(\);) s
5 46 M
(        for \(Iterator it = _geqOriginal.iteratorBases\(\); it.hasNext\(\);\) {) s
5 35 M
(            Base baseOld = \(Base\)it.next\(\);) s
5 24 M
(            Base baseNew = Old2NewBase\(baseOld\);) s
5 13 M
(            ) s
5 2 M
(            if \(baseNew.getBegin\(\).getID\(\) < crNew.getID\(\)\) {) s
_R
S
%%Page: (4) 277
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 4 def
/fname (src/makanin/PrintApplicator.java) def
/fdir (src/makanin/) def
/ftail (PrintApplicator.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (4) def
/user_header_p true def
/user_header_left_str (PrintApplicator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 4 of 13) def
/user_footer_p false def
%%EndPageSetup
do_header
5 497 M
(                if \( ! baseOld.getLabel\(\).isConstant\(\)\) {) s
5 486 M
(                    // System.out.println\("Original:"+_geqOriginal\);) s
5 475 M
(                    // System.out.println\("Print:"+p\);) s
5 464 M
(                    // System.out.println\("New:"+_geqPrinted\);) s
5 453 M
(                    // System.out.println\("carrierOld:"+carrierOld\);) s
5 442 M
(                    // System.out.println\("carrierDualOld:"+carrierDualOld\);) s
5 431 M
(                    // System.out.println\("baseOld:"+baseOld\);) s
5 420 M
(                    // System.out.println\("crOld:"+crOld\);) s
5 398 M
(                    // System.out.println\("carrierNew:"+carrierNew\);) s
5 387 M
(                    // System.out.println\("carrierDualNew:"+carrierDualNew\);) s
5 376 M
(                    // System.out.println\("baseNew:"+baseNew\);) s
5 365 M
(                    // System.out.println\("crNew:"+crNew\);) s
5 343 M
(                    throw new RuntimeException\("PrintApplicator.eliminateBasesStartingLeftOfCriticalBoundary eliminating a) s
5 332 M
( variable base "+baseNew\);) s
5 321 M
(                }) s
5 299 M
(                enqueueTask\(new GETask_DeleteBase\(baseNew, _geqPrinted\)\);) s
5 288 M
(            }) s
5 277 M
(        }) s
5 266 M
(        drainTaskQueue\(\);) s
5 255 M
(    }) s
5 233 M
(    private void collapseAlignedVariableBases\(Print p\) {) s
5 222 M
(        BaseComparator bcomp = new BaseComparator\(\);) s
5 211 M
(        ) s
5 200 M
(        for \(Iterator it = _geqPrinted.iteratorBases\(\); it.hasNext\(\);\) {) s
5 189 M
(            Base baseNew = \(Base\)it.next\(\);) s
5 178 M
(            if \(baseNew.getLabel\(\).isConstant\(\)\) continue;) s
5 167 M
(            ) s
5 156 M
(            Base dualNew = baseNew.getDual\(\);) s
5 134 M
(            if \(bcomp.compare\(baseNew, dualNew\) < 0\) continue;) s
5 112 M
(            if \(!dualNew.isEmpty\(\) &&) s
5 101 M
(                \(\(baseNew.getBegin\(\) == dualNew.getBegin\(\)\) &&) s
5 90 M
(                 \(baseNew.getEnd\(\) == dualNew.getEnd\(\)\) &&) s
5 79 M
(                 \(baseNew.getLabel\(\) == dualNew.getLabel\(\)\)\)\) {) s
5 68 M
(                enqueueTask\(new GETask_CollapseBase\(baseNew, _geqPrinted\)\);) s
5 57 M
(            }) s
5 46 M
(        }) s
5 35 M
(        drainTaskQueue\(\);) s
5 24 M
(    }) s
5 2 M
(    private void moveTransportBases\(Print p\) {) s
_R
S
%%Page: (5) 278
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 5 def
/fname (src/makanin/PrintApplicator.java) def
/fdir (src/makanin/) def
/ftail (PrintApplicator.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (5) def
/user_header_p true def
/user_header_left_str (PrintApplicator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 5 of 13) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        for \(Iterator it = _geqOriginal.iteratorBases\(\); it.hasNext\(\);\) {) s
5 497 M
(            Base transportOld = \(Base\)it.next\(\);) s
5 486 M
(            if \(transportOld == getOldCarrier\(\)\) continue;) s
5 464 M
(            if \(transportOld.lookupDecorator\(makanin.BaseClassDecorator.NAME\) instanceof makanin.BaseClassTransport\) {) s
5 453 M
(                addConstraintsToCarrier\(transportOld\);) s
5 431 M
(                Base transportNew = Old2NewBase\(transportOld\);) s
5 420 M
(                // System.out.println\("XYZ Moving transport base "+transportNew\);) s
5 398 M
(                LinkedList additionalTasks = moveBaseToDualPart1\(p, transportOld, false\);) s
5 387 M
(                moveBaseToDualPart2\(additionalTasks\);) s
5 376 M
(            }) s
5 365 M
(        }) s
5 354 M
(        drainTaskQueue\(\);) s
5 343 M
(    }) s
5 321 M
(    private void insertNewBoundaries\(Print p\) {) s
5 299 M
(        boolean flipped = isCarrierFlipped\(\);) s
5 277 M
(        Boundary startOld = p.getBegin\(\);) s
5 266 M
(        Boundary startNew = Old2NewBoundary\(startOld\);) s
5 244 M
(        // System.out.println\("XYZ*** p.getBegin\(\): "+p.getBegin\(\)\);) s
5 233 M
(        // System.out.println\("XYZ*** p.getEnd\(\): "+p.getEnd\(\)\);) s
5 222 M
(        // System.out.println\("XYZ*** startNew: "+startNew\);) s
5 200 M
(        for \(Iterator it=p.iteratorPrintNodes\(!flipped\); it.hasNext\(\);\) {) s
5 189 M
(            PrintNode pn = \(PrintNode\)it.next\(\);) s
5 178 M
(            // System.out.println\("XYZ PrintNode: "+pn\);) s
5 167 M
(        }) s
5 156 M
(        ) s
5 145 M
(        for \(Iterator it=p.iteratorPrintNodes\(!flipped\); it.hasNext\(\);\) {) s
5 134 M
(            PrintNode pn = \(PrintNode\)it.next\(\);) s
5 112 M
(            if \(pn.getSource\(\) == PrintNode.CARRIER_TR\) {) s
5 101 M
(                Boundary equiv = getEquivalentExistingBoundaryNew\(p, pn\);) s
5 90 M
(                if \(equiv == null\) {) s
5 79 M
(                    boolean after = true;) s
5 57 M
(                    // System.out.println\("add after: "+startNew\);) s
5 35 M
(                    GETask_BoundaryInsertion task = new GETask_BoundaryInsertion\(startNew, after, _geqPrinted\);) s
5 24 M
(                    enqueueTask\(task\);) s
5 13 M
(                    drainTaskQueue\(\);) s
5 2 M
(                    startNew = task.getNewBoundary\(\);) s
_R
S
%%Page: (6) 279
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 6 def
/fname (src/makanin/PrintApplicator.java) def
/fdir (src/makanin/) def
/ftail (PrintApplicator.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (6) def
/user_header_p true def
/user_header_left_str (PrintApplicator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 6 of 13) def
/user_footer_p false def
%%EndPageSetup
do_header
5 497 M
(                    // System.out.println\("XYZ pn "+pn+" ++> "+startNew\);) s
5 486 M
(                    _crtr2new_bdmap.put\(pn.getBoundary\(\), startNew\);) s
5 475 M
(                }) s
5 464 M
(                else {) s
5 453 M
(                    // System.out.println\("XYZ pn "+pn+" ==> "+equiv\);) s
5 442 M
(                    _crtr2new_bdmap.put\(pn.getBoundary\(\), equiv\);) s
5 431 M
(                }) s
5 420 M
(            }) s
5 409 M
(            else {) s
5 398 M
(                startNew = Old2NewBoundary\(pn.getBoundary\(\)\);) s
5 387 M
(                // System.out.println\("pushed startNew: "+startNew\);) s
5 376 M
(            }) s
5 365 M
(        }) s
5 354 M
(    }) s
5 343 M
(    ) s
5 332 M
(    private boolean isEquivalentToExistingBoundary\(Print p, PrintNode pntest\) {) s
5 321 M
(        return \(getEquivalentExistingBoundaryNew\(p, pntest\) != null\);) s
5 310 M
(    }) s
5 288 M
(    private Boundary getEquivalentExistingBoundaryNew\(Print p, PrintNode pntest\) {) s
5 277 M
(        Boundary beforeBd=isEquivalentToExistingBoundaryNewBefore\(p,pntest\);) s
5 266 M
(        boolean before = \(beforeBd!=null\);) s
5 244 M
(        Boundary afterBd=isEquivalentToExistingBoundaryNewAfter\(p,pntest\);) s
5 233 M
(        boolean after = \(afterBd!=null\);) s
5 222 M
(        if \(before && after && \(beforeBd != afterBd\)\) {) s
5 211 M
(            // System.out.println\("XYZ testing for equivs to "+pntest\);) s
5 200 M
(            // System.out.println\("XYZ equiv to "+afterBd\);) s
5 189 M
(            // System.out.println\("XYZ equiv to "+beforeBd\);) s
5 178 M
(            throw new RuntimeException\("PrintApplicator.isEquivalentToExistingBoundary finds something both before and aft) s
5 167 M
(er"\);) s
5 156 M
(        }) s
5 145 M
(        if \(before\) {) s
5 134 M
(            return beforeBd;) s
5 123 M
(        }) s
5 112 M
(        if \(after\) {) s
5 101 M
(            return afterBd;) s
5 90 M
(        }) s
5 79 M
(        return null;) s
5 68 M
(    }) s
5 57 M
(    ) s
5 46 M
(    private Boundary isEquivalentToExistingBoundaryNewBefore\(Print p, PrintNode pntest\) {) s
5 35 M
(        PrintNode pn = pntest;) s
5 24 M
(        do {) s
5 13 M
(            if \(pn!=null\) {) s
5 2 M
(                if \(pn.getOffset\(\) == PrintNode.NONZERO\) {) s
_R
S
%%Page: (7) 280
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 7 def
/fname (src/makanin/PrintApplicator.java) def
/fdir (src/makanin/) def
/ftail (PrintApplicator.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (7) def
/user_header_p true def
/user_header_left_str (PrintApplicator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 7 of 13) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                    return null;) s
5 497 M
(                }) s
5 475 M
(                if \(pn.getSource\(\) == PrintNode.DUAL\) {) s
5 464 M
(                    return Old2NewBoundary\(pn.getBoundary\(\)\);) s
5 453 M
(                }) s
5 442 M
(                else if \(pn.getSource\(\) == PrintNode.CARRIER_TR\) {) s
5 431 M
(                    Boundary inserted = CarrierTranspose2NewBoundary\(pn.getBoundary\(\)\);) s
5 420 M
(                    if \(inserted!=null\) {) s
5 409 M
(                        return inserted;) s
5 398 M
(                    }) s
5 387 M
(                }) s
5 376 M
(            }) s
5 365 M
(            pn = p.prevPrintNode\(pn\);) s
5 354 M
(        }) s
5 343 M
(        while \(pn!=null\);) s
5 332 M
(        return null;) s
5 321 M
(    }) s
5 299 M
(    private Boundary isEquivalentToExistingBoundaryNewAfter\(Print p, PrintNode pntest\) {) s
5 288 M
(        PrintNode pn = pntest;) s
5 277 M
(        if \(pn.getSource\(\) == PrintNode.DUAL\) {) s
5 266 M
(            return Old2NewBoundary\(pn.getBoundary\(\)\);) s
5 255 M
(        }) s
5 244 M
(        else if \(pn.getSource\(\) == PrintNode.CARRIER_TR\) {) s
5 233 M
(            Boundary inserted = CarrierTranspose2NewBoundary\(pn.getBoundary\(\)\);) s
5 222 M
(            if \(inserted!=null\) {) s
5 211 M
(                return inserted;) s
5 200 M
(            }) s
5 189 M
(        }) s
5 178 M
(        ) s
5 167 M
(        do {) s
5 156 M
(            pn = p.nextPrintNode\(pn\);) s
5 145 M
(            if \(pn!=null\) {) s
5 134 M
(                if \(pn.getOffset\(\) == PrintNode.NONZERO\) {) s
5 123 M
(                    return null;) s
5 112 M
(                }) s
5 101 M
(                if \(pn.getSource\(\) == PrintNode.DUAL\) {) s
5 90 M
(                    return Old2NewBoundary\(pn.getBoundary\(\)\);) s
5 79 M
(                }) s
5 68 M
(                else if \(pn.getSource\(\) == PrintNode.CARRIER_TR\) {) s
5 57 M
(                    Boundary inserted = CarrierTranspose2NewBoundary\(pn.getBoundary\(\)\);) s
5 46 M
(                    if \(inserted!=null\) {) s
5 35 M
(                        return inserted;) s
5 24 M
(                    }) s
5 13 M
(                }) s
5 2 M
(            }) s
_R
S
%%Page: (8) 281
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 8 def
/fname (src/makanin/PrintApplicator.java) def
/fdir (src/makanin/) def
/ftail (PrintApplicator.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (8) def
/user_header_p true def
/user_header_left_str (PrintApplicator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 8 of 13) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        }) s
5 497 M
(        while \(pn!=null\);) s
5 486 M
(        return null;) s
5 475 M
(    }) s
5 453 M
(    private boolean isCriticalBoundaryStrictlyBelowRightBoundary\(\) {) s
5 442 M
(        boolean answer = true;) s
5 431 M
(        Base carrier = getOldCarrier\(\);) s
5 420 M
(        Boundary cr = getOldCriticalBoundary\(\);) s
5 409 M
(        if \(cr.getID\(\) < carrier.getEnd\(\).getID\(\)\) {) s
5 398 M
(            answer = true;) s
5 387 M
(        }) s
5 376 M
(        else {) s
5 365 M
(            answer = false;) s
5 354 M
(        }) s
5 343 M
(        return answer;) s
5 332 M
(    }) s
5 310 M
(    private boolean isCarrierFlipped\(\) {) s
5 288 M
(        Base carrierOld = getOldCarrier\(\);) s
5 277 M
(        Base carrierNew = Old2NewBase\(carrierOld\);) s
5 266 M
(        Base carrierDualNew = carrierNew.getDual\(\);) s
5 244 M
(        if \(\( carrierNew.getLabel\(\).isPositive\(\) && !carrierDualNew.getLabel\(\).isPositive\(\)\) ||) s
5 233 M
(            \(!carrierNew.getLabel\(\).isPositive\(\) &&  carrierDualNew.getLabel\(\).isPositive\(\)\)\) {) s
5 222 M
(            return true;) s
5 211 M
(        }) s
5 200 M
(        else return false;) s
5 189 M
(    }) s
5 178 M
(    ) s
5 167 M
(    private LinkedList moveBaseToDualPart1\(Print p, Base baseOld, boolean isCarrier\) {) s
5 156 M
(        Base baseNew = Old2NewBase\(baseOld\);) s
5 145 M
(        ) s
5 134 M
(        LinkedList additionalTasks = new LinkedList\(\);) s
5 112 M
(        if \(baseOld.getLabel\(\).isConstant\(\)\) {) s
5 90 M
(        }) s
5 79 M
(        else {) s
5 68 M
(            Base dualOld = baseOld.getDual\(\);) s
5 57 M
(            Base dualNew = Old2NewBase\(dualOld\);) s
5 35 M
(            Constraint consOld = baseOld.getConstraint\(\);) s
5 24 M
(            Constraint consdualOld = baseOld.getConstraint\(\);) s
5 2 M
(            Constraint consNew = baseNew.getConstraint\(\);) s
_R
S
%%Page: (9) 282
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 9 def
/fname (src/makanin/PrintApplicator.java) def
/fdir (src/makanin/) def
/ftail (PrintApplicator.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (9) def
/user_header_p true def
/user_header_left_str (PrintApplicator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 9 of 13) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            Constraint consdualNew = dualNew.getConstraint\(\);) s
5 475 M
(            Iterator itOrig=consOld.iteratorBoundary\(\);) s
5 464 M
(            for \(Iterator it=consNew.iteratorBoundary\(\); it.hasNext\(\);\) {) s
5 453 M
(                Boundary bdNew = \(Boundary\)it.next\(\);) s
5 442 M
(                Boundary bdDualNew = consNew.getDual\(bdNew\);) s
5 420 M
(                if \(bdNew==baseNew.getBegin\(\)\) continue;) s
5 409 M
(                if \(bdNew==baseNew.getEnd\(\)\) continue;) s
5 398 M
(                ) s
5 387 M
(                if \(!isCarrier\) {) s
5 376 M
(                    // System.out.println\("XYZ GETask_ConstraintDeletion base "+baseNew.getLabel\(\)+"@"+bdNew+" XXX "+dualN) s
5 365 M
(ew.getLabel\(\)+"@"+bdDualNew\);) s
5 354 M
(                }) s
5 343 M
(                enqueueTask\(new GETask_ConstraintDeletion\(baseNew, bdNew, bdDualNew, _geqPrinted\)\);) s
5 321 M
(                Boundary bdOrig =\(Boundary\)itOrig.next\(\);) s
5 299 M
(                Boundary bdOrig_tr_New = CarrierTranspose2NewBoundary\(bdOrig\);) s
5 277 M
(                /*) s
5 266 M
(                PrintNode pOrig = p.get\(bdOrig, PrintNode.CARRIER_TR\);) s
5 255 M
(                if \(pOrig == null\) {) s
5 244 M
(                    throw new RuntimeException\("PrintApplicator.moveBaseToDualPart1: pOrig is null"\);) s
5 233 M
(                }) s
5 211 M
(                bdOrig_tr_New = getEquivalentExistingBoundaryNew\(p, pOrig\);) s
5 200 M
(                 */) s
5 178 M
(                if \(bdOrig_tr_New == null\) {) s
5 167 M
(                    // System.out.println\("XYZ searching for = "+bdOrig\);) s
5 156 M
(                    // System.out.println\("XYZ print = "+p\);) s
5 145 M
(                    throw new RuntimeException\("PrintApplicator.moveBaseToDualPart1: bdOrig_tr is null"\);) s
5 134 M
(                }) s
5 112 M
(                if \(!isCarrier\) {) s
5 101 M
(                    // System.out.println\("XYZ GETask_ConstraintAddition base "+baseNew.getLabel\(\)+"@"+bdOrig_tr_New+" ===) s
5 90 M
( "+dualNew.getLabel\(\)+"@"+bdDualNew\);) s
5 79 M
(                }) s
5 57 M
(                additionalTasks.addLast\(new GETask_ConstraintAddition\(baseNew, bdOrig_tr_New, bdDualNew, _geqPrinted\)\);) s
5 46 M
(            }) s
5 35 M
(        }) s
5 24 M
(        ) s
5 13 M
(        drainTaskQueue\(\);) s
5 2 M
(        ) s
_R
S
%%Page: (10) 283
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 10 def
/fname (src/makanin/PrintApplicator.java) def
/fdir (src/makanin/) def
/ftail (PrintApplicator.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (10) def
/user_header_p true def
/user_header_left_str (PrintApplicator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 10 of 13) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        Boundary begin = CarrierTranspose2NewBoundary\(baseOld.getBegin\(\)\); // dualNew.getBegin\(\);) s
5 497 M
(        Boundary end = CarrierTranspose2NewBoundary\(baseOld.getEnd\(\)\); // dualNew.getEnd\(\);) s
5 486 M
(        /*) s
5 475 M
(        if \(isCarrierFlipped\(\)\) {) s
5 464 M
(            Boundary swap=begin;) s
5 453 M
(            begin=end;) s
5 442 M
(            end=swap;) s
5 431 M
(        }) s
5 420 M
(         */) s
5 409 M
(        additionalTasks.addFirst\(new GETask_MoveBase\(baseNew, begin, end, _geqPrinted\)\);) s
5 387 M
(        return additionalTasks;) s
5 376 M
(    }) s
5 354 M
(    private void moveBaseToDualPart2\(LinkedList additionalTasks\) {) s
5 343 M
(        for \(Iterator it=additionalTasks.iterator\(\); it.hasNext\(\);\) {) s
5 332 M
(            IGETask task = \(IGETask\)it.next\(\);) s
5 321 M
(            enqueueTask\(task\);) s
5 310 M
(        }) s
5 299 M
(        drainTaskQueue\(\);) s
5 288 M
(    }) s
5 277 M
(    ) s
5 266 M
(    private void reduceConstraintsOnCarrier\(\) {) s
5 255 M
(        Base carrierOld = getOldCarrier\(\);) s
5 244 M
(        Boundary crOld = getOldCriticalBoundary\(\);) s
5 233 M
(        Base carrier = Old2NewBase\(carrierOld\);) s
5 222 M
(        Boundary cr = Old2NewBoundary\(crOld\);) s
5 211 M
(        Boundary cr_tr = CarrierTranspose2NewBoundary\(crOld\);) s
5 200 M
(        ) s
5 189 M
(        // System.out.println\("Carrier is "+carrier\);) s
5 178 M
(        ) s
5 167 M
(        Constraint cons = carrier.getConstraint\(\);) s
5 156 M
(        for \(Iterator it=cons.iteratorBoundary\(\); it.hasNext\(\);\) {) s
5 145 M
(            Boundary bdi=\(Boundary\)it.next\(\);) s
5 134 M
(            if \(bdi.getID\(\) <  cr.getID\(\)\) {) s
5 123 M
(                Boundary bdi_dual = cons.getDual\(bdi\);) s
5 112 M
(                enqueueTask\(new GETask_ConstraintDeletion\(carrier, bdi, bdi_dual, _geqPrinted,) s
5 101 M
(                        cr, cr_tr\)\);) s
5 90 M
(            }) s
5 79 M
(        }) s
5 57 M
(        drainTaskQueue\(\);) s
5 46 M
(    }) s
5 24 M
(    private void addConstraintsToCarrier\(Base transportOld\) {) s
5 13 M
(       Base carrierOld = getOldCarrier\(\);) s
5 2 M
(       Boundary crOld = getOldCriticalBoundary\(\);) s
_R
S
%%Page: (11) 284
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 11 def
/fname (src/makanin/PrintApplicator.java) def
/fdir (src/makanin/) def
/ftail (PrintApplicator.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (11) def
/user_header_p true def
/user_header_left_str (PrintApplicator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 11 of 13) def
/user_footer_p false def
%%EndPageSetup
do_header
5 497 M
(       Base carrierNew = Old2NewBase\(carrierOld\);) s
5 486 M
(       Boundary crNew = Old2NewBoundary\(crOld\);) s
5 475 M
(       Base transportNew = Old2NewBase\(transportOld\);) s
5 453 M
(       // System.out.println\("Carrier is "+carrier\);) s
5 431 M
(       Constraint consCarrier = carrierNew.getConstraint\(\);) s
5 420 M
(       ) s
5 409 M
(       if \(transportNew.getLabel\(\).isConstant\(\)\) {) s
5 398 M
(           Boundary leftOld = transportOld.getBegin\(\);) s
5 387 M
(           if \(crOld.getID\(\) < leftOld.getID\(\)\) {) s
5 376 M
(               Boundary leftNew = Old2NewBoundary\(leftOld\);) s
5 365 M
(               Boundary left_trNew = CarrierTranspose2NewBoundary\(leftOld\);) s
5 354 M
(               enqueueTask\(new GETask_ConstraintAddition\(carrierNew, leftNew, left_trNew, _geqPrinted\)\);) s
5 343 M
(           }) s
5 321 M
(           Boundary rightOld = transportOld.getEnd\(\);) s
5 310 M
(           if \(crOld.getID\(\) < rightOld.getID\(\)\) {) s
5 299 M
(               Boundary rightNew = Old2NewBoundary\(rightOld\);) s
5 288 M
(               Boundary right_trNew = CarrierTranspose2NewBoundary\(rightOld\);) s
5 277 M
(               enqueueTask\(new GETask_ConstraintAddition\(carrierNew, rightNew, right_trNew, _geqPrinted\)\);) s
5 266 M
(           }) s
5 255 M
(       }) s
5 244 M
(       else {) s
5 233 M
(           Constraint consOld = transportOld.getConstraint\(\);) s
5 211 M
(           for \(Iterator it=consOld.iteratorBoundary\(\); it.hasNext\(\);\) {) s
5 200 M
(              Boundary bdtransOld=\(Boundary\)it.next\(\);) s
5 189 M
(              if \(crOld.getID\(\) < bdtransOld.getID\(\)\) {) s
5 178 M
(                  Boundary bdtransNew = Old2NewBoundary\(bdtransOld\);) s
5 167 M
(                  Boundary bdtrans_trNew = CarrierTranspose2NewBoundary\(bdtransOld\);) s
5 156 M
(                  enqueueTask\(new GETask_ConstraintAddition\(carrierNew, bdtransNew, bdtrans_trNew, _geqPrinted\)\);) s
5 145 M
(              }) s
5 134 M
(           }) s
5 123 M
(        }) s
5 112 M
(    }) s
5 101 M
(    ) s
5 90 M
(    private Boundary Old2NewBoundary\(Boundary bd\) {) s
5 79 M
(        Boundary bdnew = \(Boundary\)_old2new_bdmap.get\(bd\);) s
5 68 M
(        if \(bdnew==null\) {) s
5 57 M
(            throw new RuntimeException\("PrintApplicator.Old2NewBoundary unknown boundary"\);) s
5 46 M
(        }) s
5 35 M
(        return bdnew;) s
5 24 M
(    }) s
5 2 M
(    private Boundary CarrierTranspose2NewBoundary\(Boundary bd\) {) s
_R
S
%%Page: (12) 285
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 12 def
/fname (src/makanin/PrintApplicator.java) def
/fdir (src/makanin/) def
/ftail (PrintApplicator.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (12) def
/user_header_p true def
/user_header_left_str (PrintApplicator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 12 of 13) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        Boundary bdnew = \(Boundary\)_crtr2new_bdmap.get\(bd\);) s
5 497 M
(        return bdnew;) s
5 486 M
(    }) s
5 475 M
(    ) s
5 464 M
(    private Base Old2NewBase\(Base bs\) {) s
5 453 M
(        Base bsnew = \(Base\)_old2new_bsmap.get\(bs\);) s
5 442 M
(        if \(bsnew==null\) {) s
5 431 M
(            throw new RuntimeException\("PrintApplicator.Old2NewBase unknown base"\);) s
5 420 M
(        }) s
5 409 M
(        return bsnew;) s
5 398 M
(    }) s
5 376 M
(    private Base getOldCarrier\(\) {) s
5 365 M
(        Carrier ca = \(Carrier\)_geqOriginal.lookupDecorator\(Carrier.NAME\);) s
5 354 M
(        if \(ca == null\) {) s
5 343 M
(            throw new RuntimeException\("PrintApplicator.Main: unknown carrier"\);) s
5 332 M
(        }) s
5 321 M
(        Base carrier_base = ca.getBase\(\);) s
5 310 M
(        if \(carrier_base == null\) {) s
5 299 M
(            throw new RuntimeException\("PrintApplicator.Main: carrier_base is null"\);) s
5 288 M
(        }) s
5 277 M
(        return carrier_base;) s
5 266 M
(    }) s
5 244 M
(    private Boundary getOldCriticalBoundary\(\) {) s
5 233 M
(        Base carrier_base = getOldCarrier\(\);) s
5 222 M
(        CriticalBoundary cr = \(CriticalBoundary\)_geqOriginal.lookupDecorator\(CriticalBoundary.NAME\);) s
5 211 M
(        if \(cr == null\) {) s
5 200 M
(            throw new RuntimeException\("PrintApplicator.Main: unknown critical boundary"\);) s
5 189 M
(        }) s
5 178 M
(        Boundary critical_boundary = cr.getBoundary\(\);) s
5 167 M
(        if \(critical_boundary == null\) {) s
5 156 M
(            throw new RuntimeException\("PrintApplicator.Main: critical_boundary is null"\);) s
5 145 M
(        }) s
5 134 M
(        return critical_boundary;) s
5 123 M
(    }) s
5 101 M
(    private Base getOldCarrierDual\(\) {) s
5 90 M
(        Base carrier_base = getOldCarrier\(\);) s
5 79 M
(        Base carrier_dual = carrier_base.getDual\(\);) s
5 68 M
(        return carrier_dual;) s
5 57 M
(    }) s
5 24 M
(    public String toString\(\) {) s
5 13 M
(        String s="";) s
5 2 M
(        int i=1;) s
_R
S
%%Page: (13) 286
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 13 def
/fname (src/makanin/PrintApplicator.java) def
/fdir (src/makanin/) def
/ftail (PrintApplicator.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:34 2011) def
/pagenumstr (13) def
/user_header_p true def
/user_header_left_str (PrintApplicator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 13 of 13) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        for \(Iterator it = _completedTasks.iterator\(\); it.hasNext\(\);\) {) s
5 497 M
(            IGETask task = \(IGETask\)it.next\(\);) s
5 486 M
(            s+="{\\\\underline{Step "+i+"}:} ";) s
5 475 M
(            s+=task.toString\(\);) s
5 464 M
(            if \(it.hasNext\(\)\) {) s
5 453 M
(                s+="\\\\\\\\\\n";) s
5 442 M
(            }) s
5 431 M
(            else {) s
5 420 M
(                s+="\\\\\\\\"+params.MKParams.REPORT_SPACING+"\\n";) s
5 409 M
(            }) s
5 398 M
(            i++;) s
5 387 M
(        }) s
5 376 M
(        return s;) s
5 365 M
(    }) s
5 354 M
(}) s
_R
S
%%Page: (1) 287
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/PrintIterator.java) def
/fdir (src/makanin/) def
/ftail (PrintIterator.java) def
% User defined strings:
/fmodstr (Thu Oct 20 02:51:41 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (PrintIterator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package makanin;) s
5 431 M
(import ge.GE;) s
5 420 M
(import ge.Base;) s
5 409 M
(import java.util.Iterator;) s
5 398 M
(import utility.CompositeIterator;) s
5 387 M
(import utility.CompositeIterator.State;) s
5 365 M
(/**) s
5 354 M
( *) s
5 343 M
( * @author grouptheory) s
5 332 M
( */) s
5 321 M
(public class PrintIterator implements Iterator {) s
5 299 M
(    private GE _geq;) s
5 288 M
(    private PrintProbe _pp;) s
5 277 M
(    private Iterator _it;) s
5 266 M
(    private Print _nextPrint;) s
5 255 M
(    ) s
5 244 M
(    PrintIterator\(GE geq\) {) s
5 233 M
(        _geq = geq;) s
5 222 M
(        _pp = new PrintProbe\(geq\);) s
5 211 M
(        _it = _pp.iteratorTreeNodes\(\);) s
5 200 M
(        ) s
5 189 M
(        _nextPrint = nextPrint\(\);) s
5 178 M
(    }) s
5 156 M
(    public boolean hasNext\(\) {) s
5 145 M
(        return \(_nextPrint!=null\);) s
5 134 M
(    }) s
5 112 M
(    public Object next\(\) {) s
5 101 M
(        Print nextPrint = _nextPrint;) s
5 90 M
(        _nextPrint = nextPrint\(\);) s
5 79 M
(        return nextPrint;) s
5 68 M
(    }) s
5 46 M
(    public void remove\(\) {) s
5 35 M
(        throw new RuntimeException\("PrintIterator.remove: not implemented"\);) s
5 24 M
(    }) s
5 2 M
(    private Print nextPrint\(\) {) s
_R
S
%%Page: (2) 288
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/makanin/PrintIterator.java) def
/fdir (src/makanin/) def
/ftail (PrintIterator.java) def
% User defined strings:
/fmodstr (Thu Oct 20 02:51:41 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (PrintIterator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        Print answer = null;) s
5 497 M
(        while \(_it.hasNext\(\)\) {) s
5 486 M
(            Print pr = new Print\(isCarrierFlipped\(\)\);) s
5 475 M
(            CompositeIterator.State cs = \(CompositeIterator.State\)_it.next\(\);) s
5 453 M
(            for \(Iterator itsub=cs.iteratorComposableStates\(\); itsub.hasNext\(\);\) {) s
5 442 M
(                PrintNode pn = \(PrintNode\)itsub.next\(\);) s
5 431 M
(                pr.append\(pn\);) s
5 420 M
(            }) s
5 398 M
(            if \(PrintValidator.validate\(pr, _geq\)\) {) s
5 387 M
(                answer = pr;) s
5 376 M
(                break;) s
5 365 M
(            }) s
5 354 M
(        }) s
5 343 M
(        return answer;) s
5 332 M
(    }) s
5 299 M
(    private Base getCarrier\(\) {) s
5 288 M
(        Carrier ca = \(Carrier\)_geq.lookupDecorator\(Carrier.NAME\);) s
5 277 M
(        if \(ca == null\) {) s
5 266 M
(            throw new RuntimeException\("PrintApplicator.Main: unknown carrier"\);) s
5 255 M
(        }) s
5 244 M
(        Base carrier_base = ca.getBase\(\);) s
5 233 M
(        if \(carrier_base == null\) {) s
5 222 M
(            throw new RuntimeException\("PrintApplicator.Main: carrier_base is null"\);) s
5 211 M
(        }) s
5 200 M
(        return carrier_base;) s
5 189 M
(    }) s
5 167 M
(    private Base getCarrierDual\(\) {) s
5 156 M
(        Base carrier_base = getCarrier\(\);) s
5 145 M
(        Base carrier_dual = carrier_base.getDual\(\);) s
5 134 M
(        return carrier_dual;) s
5 123 M
(    }) s
5 101 M
(    private boolean isCarrierFlipped\(\) {) s
5 90 M
(        Base carrier = getCarrier\(\);) s
5 79 M
(        Base carrierDual = getCarrierDual\(\);) s
5 57 M
(        if \(\( carrier.getLabel\(\).isPositive\(\) && !carrierDual.getLabel\(\).isPositive\(\)\) ||) s
5 46 M
(            \(!carrier.getLabel\(\).isPositive\(\) &&  carrierDual.getLabel\(\).isPositive\(\)\)\) {) s
5 35 M
(            return true;) s
5 24 M
(        }) s
5 13 M
(        else return false;) s
_R
S
%%Page: (3) 289
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/makanin/PrintIterator.java) def
/fdir (src/makanin/) def
/ftail (PrintIterator.java) def
% User defined strings:
/fmodstr (Thu Oct 20 02:51:41 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (PrintIterator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    }) s
5 497 M
(}) s
_R
S
%%Page: (1) 290
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/PrintIteratorFactory.java) def
/fdir (src/makanin/) def
/ftail (PrintIteratorFactory.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:59:32 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (PrintIteratorFactory.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package makanin;) s
5 431 M
(import ge.GE;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(public class PrintIteratorFactory {) s
5 343 M
(    private static PrintIteratorFactory _instance;) s
5 321 M
(    private PrintIteratorFactory\(\) {) s
5 310 M
(    }) s
5 288 M
(    public static PrintIteratorFactory instance\(\) {) s
5 277 M
(        if \(_instance == null\) {) s
5 266 M
(            _instance = new PrintIteratorFactory\(\);) s
5 255 M
(        }) s
5 244 M
(        return _instance;) s
5 233 M
(    }) s
5 211 M
(    public PrintIterator newPrintIterator\(GE geq\) {) s
5 200 M
(        return new PrintIterator\(geq\);) s
5 189 M
(    }) s
5 178 M
(}) s
_R
S
%%Page: (1) 291
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/PrintNode.java) def
/fdir (src/makanin/) def
/ftail (PrintNode.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:59:32 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (PrintNode.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package makanin;) s
5 431 M
(import ge.Boundary;) s
5 420 M
(import ge.Base;) s
5 409 M
(import ge.GE;) s
5 398 M
(import java.util.LinkedList;) s
5 387 M
(import java.util.Iterator;) s
5 376 M
(import letter.Letter;) s
5 365 M
(import letter.Variable;) s
5 343 M
(/**) s
5 332 M
( *) s
5 321 M
( * @author grouptheory) s
5 310 M
( */) s
5 299 M
(public class PrintNode {) s
5 288 M
(    ) s
5 277 M
(    static class Offset {) s
5 266 M
(        private String _name;) s
5 255 M
(        private Offset\(String name\) { _name = name; }) s
5 244 M
(        public String toString\(\) { return _name; }) s
5 233 M
(    };) s
5 211 M
(    static Offset ZERO = new Offset\("ZERO"\);) s
5 200 M
(    static Offset NONZERO = new Offset\("NONZERO"\);) s
5 178 M
(    static class Source {) s
5 167 M
(        private String _name;) s
5 156 M
(        private Source\(String name\) { _name = name; }) s
5 145 M
(        public String toString\(\) { return _name; }) s
5 134 M
(    };) s
5 112 M
(    static Source CARRIER_TR = new Source\("CARRIER_TR"\);) s
5 101 M
(    static Source DUAL = new Source\("DUAL"\);) s
5 79 M
(    private LinkedList _ca_bd;) s
5 68 M
(    private LinkedList _caDual_bd;) s
5 57 M
(    private PrintNode.Offset _offset;) s
5 46 M
(    private Boundary _bd;) s
5 35 M
(    private PrintNode.Source _source;) s
5 13 M
(    PrintNode\(GE geq\) {) s
5 2 M
(        this\(\);) s
_R
S
%%Page: (2) 292
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/makanin/PrintNode.java) def
/fdir (src/makanin/) def
/ftail (PrintNode.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:59:32 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (PrintNode.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 497 M
(        Carrier ca = \(Carrier\)geq.lookupDecorator\(Carrier.NAME\);) s
5 486 M
(        if \(ca == null\) {) s
5 475 M
(            throw new RuntimeException\("gutierrez.Main: unknown carrier"\);) s
5 464 M
(        }) s
5 453 M
(        Base carrier_base = ca.getBase\(\);) s
5 442 M
(        if \(carrier_base == null\) {) s
5 431 M
(            throw new RuntimeException\("gutierrez.Main: carrier_base is null"\);) s
5 420 M
(        }) s
5 398 M
(        _offset = PrintNode.ZERO;) s
5 387 M
(        _bd = null;) s
5 376 M
(        _source = null;) s
5 354 M
(        for \(int i=carrier_base.getBegin\(\).getID\(\); i<=carrier_base.getEnd\(\).getID\(\); i++\) {) s
5 343 M
(            Boundary bd = geq.getNthBoundary\(i\);) s
5 332 M
(            _ca_bd.addLast\(bd\);) s
5 321 M
(        }) s
5 299 M
(        Base carrier_dual = carrier_base.getDual\(\);) s
5 277 M
(        Variable v = \(Variable\)carrier_base.getLabel\(\);) s
5 266 M
(        Variable vdual = \(Variable\)carrier_dual.getLabel\(\);) s
5 244 M
(        boolean flipDualBoundaries = false;) s
5 233 M
(        if \(\(v.isPositive\(\) && !vdual.isPositive\(\)\) ||) s
5 222 M
(            \(!v.isPositive\(\) && vdual.isPositive\(\)\)\) {) s
5 211 M
(            flipDualBoundaries = true;) s
5 200 M
(        }) s
5 189 M
(        ) s
5 178 M
(        for \(int i=carrier_dual.getBegin\(\).getID\(\); i<=carrier_dual.getEnd\(\).getID\(\); i++\) {) s
5 167 M
(            Boundary bd = geq.getNthBoundary\(i\);) s
5 156 M
(            if \(!flipDualBoundaries\) {) s
5 145 M
(                _caDual_bd.addLast\(bd\);) s
5 134 M
(            }) s
5 123 M
(            else {) s
5 112 M
(                _caDual_bd.addFirst\(bd\);) s
5 101 M
(            }) s
5 90 M
(            //System.out.print\(""+bd+","\);) s
5 79 M
(        }) s
5 68 M
(        //System.out.println\(""\);) s
5 57 M
(    }) s
5 35 M
(    PrintNode\(LinkedList ca_bd, LinkedList caDual_bd, ) s
5 24 M
(              PrintNode.Offset offset, Boundary bd, PrintNode.Source source\) {) s
5 13 M
(        this\(\);) s
5 2 M
(        _ca_bd.addAll\(ca_bd\);) s
_R
S
%%Page: (3) 293
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/makanin/PrintNode.java) def
/fdir (src/makanin/) def
/ftail (PrintNode.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:59:32 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (PrintNode.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        _caDual_bd.addAll\(caDual_bd\);) s
5 497 M
(        _offset = offset;) s
5 486 M
(        _bd = bd;) s
5 475 M
(        _source = source;) s
5 464 M
(    }) s
5 442 M
(    private PrintNode\(\) {) s
5 431 M
(        _ca_bd = new LinkedList\(\);) s
5 420 M
(        _caDual_bd = new LinkedList\(\);) s
5 409 M
(        _offset = PrintNode.ZERO;) s
5 398 M
(        _bd = null;) s
5 387 M
(        _source = null;) s
5 376 M
(    }) s
5 354 M
(    PrintNode.Source getSource\(\) {) s
5 343 M
(        return _source;) s
5 332 M
(    }) s
5 310 M
(    PrintNode.Offset getOffset\(\) {) s
5 299 M
(        return _offset;) s
5 288 M
(    }) s
5 266 M
(    Boundary getBoundary\(\) {) s
5 255 M
(        return _bd;) s
5 244 M
(    }) s
5 233 M
(    ) s
5 222 M
(    PrintNode consumeCarrierBoundary\(PrintNode.Offset offset\) {) s
5 211 M
(        LinkedList clist = new LinkedList\(\);) s
5 200 M
(        clist.addAll\(_ca_bd\);) s
5 189 M
(        Boundary bd = \(Boundary\)clist.getFirst\(\);) s
5 178 M
(        clist.removeFirst\(\);) s
5 167 M
(        return new PrintNode\(clist, _caDual_bd, offset, bd, PrintNode.CARRIER_TR\);) s
5 156 M
(    }) s
5 134 M
(    PrintNode consumeCarrierDualBoundary\(PrintNode.Offset offset\) {) s
5 123 M
(        LinkedList clist = new LinkedList\(\);) s
5 112 M
(        clist.addAll\(_caDual_bd\);) s
5 101 M
(        Boundary bd = \(Boundary\)clist.getFirst\(\);) s
5 90 M
(        clist.removeFirst\(\);) s
5 79 M
(        return new PrintNode\(_ca_bd, clist, offset, bd, PrintNode.DUAL\);) s
5 68 M
(    }) s
5 46 M
(    int remainingCarrierBoundaries\(\) {) s
5 35 M
(        return _ca_bd.size\(\);) s
5 24 M
(    }) s
5 2 M
(    int remainingCarrierDualBoundaries\(\) {) s
_R
S
%%Page: (4) 294
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 4 def
/fname (src/makanin/PrintNode.java) def
/fdir (src/makanin/) def
/ftail (PrintNode.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:59:32 2011) def
/pagenumstr (4) def
/user_header_p true def
/user_header_left_str (PrintNode.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 4 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        return _caDual_bd.size\(\);) s
5 497 M
(    }) s
5 475 M
(    public String toString\(\) {) s
5 464 M
(        String s="";) s
5 442 M
(        if \(_offset==PrintNode.ZERO\) {) s
5 431 M
(            s += "=";) s
5 420 M
(        }) s
5 409 M
(        else if \(_offset==PrintNode.NONZERO\) {) s
5 398 M
(            s += "<";) s
5 387 M
(        }) s
5 376 M
(        else {) s
5 365 M
(            throw new RuntimeException\("PrintNode.toString: unknown offset"\);) s
5 354 M
(        }) s
5 332 M
(        if \(_bd==null\) {) s
5 321 M
(            s += "[]";) s
5 310 M
(        }) s
5 299 M
(        else {) s
5 288 M
(            s += _bd;) s
5 266 M
(            if \(_source==PrintNode.CARRIER_TR\) {) s
5 255 M
(                s += "";) s
5 244 M
(            }) s
5 233 M
(            else if \(_source==PrintNode.DUAL\) {) s
5 222 M
(                s += "*";) s
5 211 M
(            }) s
5 200 M
(        }) s
5 178 M
(        return s;) s
5 167 M
(    }) s
5 145 M
(    public String toStringLong\(\) {) s
5 134 M
(        String s="";) s
5 112 M
(        s+="Offset: ";) s
5 101 M
(        if \(_offset==PrintNode.ZERO\) {) s
5 90 M
(            s += "=";) s
5 79 M
(        }) s
5 68 M
(        else if \(_offset==PrintNode.NONZERO\) {) s
5 57 M
(            s += "<";) s
5 46 M
(        }) s
5 35 M
(        else {) s
5 24 M
(            throw new RuntimeException\("PrintNode.toString: unknown offset"\);) s
5 13 M
(        }) s
5 2 M
(        s+="\\n";) s
_R
S
%%Page: (5) 295
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 5 def
/fname (src/makanin/PrintNode.java) def
/fdir (src/makanin/) def
/ftail (PrintNode.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:59:32 2011) def
/pagenumstr (5) def
/user_header_p true def
/user_header_left_str (PrintNode.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 5 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        ) s
5 497 M
(        s+="Boundary: ";) s
5 486 M
(        s += _bd;) s
5 475 M
(        s+="\\n";) s
5 453 M
(        s+="Carrier boundaries: ";) s
5 442 M
(        for \(Iterator it=_ca_bd.iterator\(\); it.hasNext\(\);\) {) s
5 431 M
(            Boundary bd = \(Boundary\)it.next\(\);) s
5 420 M
(            s+=bd;) s
5 409 M
(            if \(it.hasNext\(\)\) s+=",";) s
5 398 M
(        }) s
5 387 M
(        s+="\\n";) s
5 376 M
(        ) s
5 365 M
(        s+="Carrier Dual boundaries: ";) s
5 354 M
(        for \(Iterator it=_caDual_bd.iterator\(\); it.hasNext\(\);\) {) s
5 343 M
(            Boundary bd = \(Boundary\)it.next\(\);) s
5 332 M
(            s+=bd;) s
5 321 M
(            if \(it.hasNext\(\)\) s+=",";) s
5 310 M
(        }) s
5 299 M
(        s+="\\n";) s
5 277 M
(        return s;) s
5 266 M
(    }) s
5 255 M
(}) s
_R
S
%%Page: (1) 296
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/PrintProbe.java) def
/fdir (src/makanin/) def
/ftail (PrintProbe.java) def
% User defined strings:
/fmodstr (Wed Oct 19 17:59:32 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (PrintProbe.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package makanin;) s
5 431 M
(import ge.GE;) s
5 420 M
(import java.util.Iterator;) s
5 409 M
(import utility.CompositeIterator;) s
5 387 M
(/**) s
5 376 M
( *) s
5 365 M
( * @author grouptheory) s
5 354 M
( */) s
5 343 M
(public class PrintProbe {) s
5 321 M
(    private GE _geq;) s
5 299 M
(    PrintProbe\(GE geq\) {) s
5 288 M
(        _geq = geq;) s
5 277 M
(    }) s
5 255 M
(    public Iterator iteratorTreeNodes\(\) {) s
5 244 M
(        PrintNode pn = new PrintNode\(_geq\);) s
5 233 M
(        boolean root = true;) s
5 222 M
(        ComposablePrintNodeIterator cdi = new ComposablePrintNodeIterator\(pn, root\);) s
5 211 M
(        CompositeIterator compiter = new CompositeIterator\(cdi, false\);) s
5 200 M
(        return compiter;) s
5 189 M
(    }) s
5 167 M
(    public String toString\(\) {) s
5 156 M
(        String s = "";) s
5 145 M
(        s += "PrintProbe: ";) s
5 134 M
(        return s;) s
5 123 M
(    }) s
5 112 M
(}) s
_R
S
%%Page: (1) 297
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/makanin/PrintValidator.java) def
/fdir (src/makanin/) def
/ftail (PrintValidator.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:31 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (PrintValidator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 9) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package makanin;) s
5 431 M
(import ge.GE;) s
5 420 M
(import ge.Base;) s
5 409 M
(import ge.Boundary;) s
5 398 M
(import ge.Constraint;) s
5 387 M
(import letter.Letter;) s
5 376 M
(import letter.Variable;) s
5 365 M
(import java.util.Iterator;) s
5 343 M
(/**) s
5 332 M
( *) s
5 321 M
( * @author grouptheory) s
5 310 M
( */) s
5 299 M
(public class PrintValidator {) s
5 277 M
(    static boolean validate\(Print p, GE geq\) {) s
5 266 M
(        //System.out.println\("PrintValidator"\);) s
5 255 M
(        ) s
5 244 M
(        if \( ! canonicalEqualityOrdering\(p,geq\)\) return false;) s
5 233 M
(        if \( ! carrierExactlyOverlapsDual\(p,geq\)\) return false;) s
5 222 M
(        if \( ! carrierConstraintsOverlapsDualConstraints\(p,geq\)\) return false;) s
5 211 M
(        if \( ! nonCollapsing\(p,geq\)\) return false;) s
5 200 M
(        if \( ! consistentTransport\(p,geq\)\) return false;) s
5 189 M
(        if \( ! consistentConstants\(p,geq\)\) return false;) s
5 167 M
(        return true;) s
5 156 M
(    }) s
5 134 M
(    private static boolean consistentConstants\(Print p, GE geq\) {) s
5 123 M
(        // constant bases move consistently) s
5 112 M
(        boolean answer = true;) s
5 90 M
(        Boundary lp=p.getBegin\(\);) s
5 79 M
(        Boundary rp=p.getEnd\(\);) s
5 57 M
(        for \(Iterator it=geq.iteratorBases\(\); it.hasNext\(\);\) {) s
5 46 M
(            Base bs = \(Base\)it.next\(\);) s
5 35 M
(            if \( ! bs.getLabel\(\).isConstant\(\)\) continue;) s
5 13 M
(            // all constant bases) s
5 2 M
(            Boundary left=bs.getBegin\(\);) s
_R
S
%%Page: (2) 298
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/makanin/PrintValidator.java) def
/fdir (src/makanin/) def
/ftail (PrintValidator.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:31 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (PrintValidator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 9) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            Boundary right=bs.getEnd\(\);) s
5 486 M
(            if \(left.getID\(\)+1 != right.getID\(\)\) {) s
5 475 M
(                throw new RuntimeException\("PrintValidator.consistentConstants: constant length > 1"\);) s
5 464 M
(            }) s
5 442 M
(            if \(left.getID\(\)<=lp.getID\(\) && right.getID\(\)<=lp.getID\(\)\) {) s
5 431 M
(                // entirely to the left) s
5 420 M
(            }) s
5 409 M
(            else if \(left.getID\(\)>=rp.getID\(\) && right.getID\(\)>=rp.getID\(\)\) {) s
5 398 M
(                // entirely to right) s
5 387 M
(            }) s
5 376 M
(            else if \(left.getID\(\)>=lp.getID\(\) && right.getID\(\)<=rp.getID\(\)\) {) s
5 365 M
(                // inside) s
5 354 M
(                int distance = p.compare\(left, PrintNode.DUAL, right, PrintNode.DUAL\);) s
5 332 M
(                boolean currentanswer = true;) s
5 310 M
(                // absolute value) s
5 299 M
(                if \(Math.abs\(distance\) != 1\) {) s
5 288 M
(                    currentanswer = false;) s
5 277 M
(                }) s
5 255 M
(                if \(!currentanswer\) {) s
5 244 M
(                    //System.out.println\("***********************************"\);) s
5 233 M
(                    //System.out.println\("consistentConstants rejects a print "+p+""\);) s
5 222 M
(                    //System.out.println\("of ge "+geq+""\);) s
5 211 M
(                    //System.out.println\("because PRE-EXISTING constant over dual "+bs+" splits, dist="+distance\);) s
5 200 M
(                }) s
5 189 M
(                ) s
5 178 M
(                answer = answer && currentanswer;) s
5 167 M
(            }) s
5 156 M
(            else {) s
5 145 M
(                throw new RuntimeException\("PrintValidator.consistentConstants: unexpected constant"\);) s
5 134 M
(            }) s
5 101 M
(            if \(\(p.contains\(left, PrintNode.CARRIER_TR\) &&) s
5 90 M
(                 p.contains\(right, PrintNode.CARRIER_TR\)\)\) {) s
5 68 M
(                int distance2 = p.compare\(left, PrintNode.CARRIER_TR, right, PrintNode.CARRIER_TR\);) s
5 46 M
(                boolean currentanswer = true;) s
5 35 M
(                if \(distance2 != -1\) {) s
5 24 M
(                    currentanswer = false;) s
5 13 M
(                }) s
_R
S
%%Page: (3) 299
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/makanin/PrintValidator.java) def
/fdir (src/makanin/) def
/ftail (PrintValidator.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:31 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (PrintValidator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 9) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                if \(!currentanswer\) {) s
5 497 M
(                    //System.out.println\("***********************************"\);) s
5 486 M
(                    //System.out.println\("consistentConstants rejects a print "+p+""\);) s
5 475 M
(                    //System.out.println\("of ge "+geq+""\);) s
5 464 M
(                    //System.out.println\("because constant over carrier "+bs+" STRETCHES"\);) s
5 453 M
(                }) s
5 442 M
(                ) s
5 431 M
(                answer = answer && currentanswer;) s
5 420 M
(            }) s
5 409 M
(        }) s
5 387 M
(        return answer;) s
5 376 M
(    }) s
5 354 M
(    private static boolean consistentTransport\(Print p, GE geq\) {) s
5 343 M
(        // transport bases move consistently) s
5 332 M
(        boolean answer = true;) s
5 321 M
(        for \(Iterator it=geq.iteratorBases\(\); it.hasNext\(\);\) {) s
5 310 M
(            Base bs = \(Base\)it.next\(\);) s
5 299 M
(            if \(bs.getLabel\(\).isConstant\(\)\) continue;) s
5 277 M
(            Base dual = bs.getDual\(\);) s
5 255 M
(            BaseClassDecorator bcd = \(BaseClassDecorator\)bs.lookupDecorator\(BaseClassDecorator.NAME\);) s
5 244 M
(            BaseClassDecorator bcdDual = \(BaseClassDecorator\)dual.lookupDecorator\(BaseClassDecorator.NAME\);) s
5 222 M
(            if \(\(bcd instanceof BaseClassTransport\) &&) s
5 211 M
(                \(bcdDual instanceof BaseClassFixed\)\) {) s
5 189 M
(                // System.out.println\("consistentTransport on "+bs+" whose dual is "+dual\);) s
5 178 M
(                ) s
5 167 M
(                Constraint con = bs.getConstraint\(\);) s
5 156 M
(                Constraint con_dual = dual.getConstraint\(\);) s
5 134 M
(                boolean aligned = false;) s
5 123 M
(                for \(Iterator it2 = con.iteratorBoundary\(\); it2.hasNext\(\);\) {) s
5 112 M
(                    Boundary bd = \(Boundary\)it2.next\(\);) s
5 101 M
(                    Boundary bd_dual = con.getDual\(bd\);) s
5 79 M
(                    if \(p.contains\(bd_dual, PrintNode.DUAL\)\) {) s
5 68 M
(                        int b1 = p.compare\(bd, PrintNode.CARRIER_TR,) s
5 57 M
(                                           bd_dual, PrintNode.DUAL\);) s
5 35 M
(                        if \(b1==0\) {) s
5 24 M
(                            aligned = true;) s
5 13 M
(                            break;) s
5 2 M
(                        }) s
_R
S
%%Page: (4) 300
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 4 def
/fname (src/makanin/PrintValidator.java) def
/fdir (src/makanin/) def
/ftail (PrintValidator.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:31 2011) def
/pagenumstr (4) def
/user_header_p true def
/user_header_left_str (PrintValidator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 4 of 9) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                    }) s
5 497 M
(                }) s
5 475 M
(                if \(aligned\) {) s
5 464 M
(                    boolean strict = true;) s
5 453 M
(                    boolean currentanswer = baseOverlapsDualConstraints\(p, geq, bs, !strict\);) s
5 442 M
(                    /*) s
5 431 M
(                    if \(answer && !currentanswer\) {) s
5 420 M
(                        System.out.println\("consistentTransport rejects a print "+p+""\);) s
5 409 M
(                        System.out.println\("of ge "+geq+""\);) s
5 398 M
(                        System.out.println\("because of "+bs+" whose dual is "+dual\);) s
5 387 M
(                    }) s
5 376 M
(                     */) s
5 365 M
(                    answer = answer && currentanswer;) s
5 354 M
(                }) s
5 332 M
(            }) s
5 321 M
(        }) s
5 310 M
(        return answer;) s
5 299 M
(    }) s
5 277 M
(    private static boolean nonCollapsing\(Print p, GE geq\) {) s
5 266 M
(        // distinct boundaries go to distinct boundaries) s
5 255 M
(        boolean answer = true;) s
5 233 M
(        // System.out.println\("non collapsing: "+p\);) s
5 211 M
(        Carrier ca = \(Carrier\)geq.lookupDecorator\(Carrier.NAME\);) s
5 200 M
(        if \(ca == null\) {) s
5 189 M
(            throw new RuntimeException\("PrintValidator.nonCollapsing: unknown carrier"\);) s
5 178 M
(        }) s
5 167 M
(        Base carrier_base = ca.getBase\(\);) s
5 156 M
(        if \(carrier_base == null\) {) s
5 145 M
(            throw new RuntimeException\("PrintValidator.nonCollapsing: carrier_base is null"\);) s
5 134 M
(        }) s
5 112 M
(        Base carrier_dual = carrier_base.getDual\(\);) s
5 90 M
(        int targetValue = -1;) s
5 79 M
(        ) s
5 68 M
(        int low = carrier_base.getBegin\(\).getID\(\);) s
5 57 M
(        int high = carrier_base.getEnd\(\).getID\(\);) s
5 46 M
(        for \(int i=low;i<high;i++\) {) s
5 35 M
(            Boundary smaller=geq.getNthBoundary\(i\);) s
5 24 M
(            Boundary larger=geq.getNthBoundary\(i+1\);) s
5 13 M
(            int b1 = p.compare\(smaller, PrintNode.CARRIER_TR,) s
5 2 M
(                               larger, PrintNode.CARRIER_TR\);) s
_R
S
%%Page: (5) 301
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 5 def
/fname (src/makanin/PrintValidator.java) def
/fdir (src/makanin/) def
/ftail (PrintValidator.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:31 2011) def
/pagenumstr (5) def
/user_header_p true def
/user_header_left_str (PrintValidator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 5 of 9) def
/user_footer_p false def
%%EndPageSetup
do_header
5 497 M
(            // System.out.println\("Comparing "+smaller+":CARRIER with "+larger+":CARRIER"\);) s
5 475 M
(            if \(b1 * targetValue <= 0\) answer = false;) s
5 464 M
(        }) s
5 442 M
(        Variable v = \(Variable\)carrier_base.getLabel\(\);) s
5 431 M
(        Variable vdual = \(Variable\)carrier_dual.getLabel\(\);) s
5 409 M
(        boolean flipDualBoundaries = false;) s
5 398 M
(        if \(\(v.isPositive\(\) && !vdual.isPositive\(\)\) ||) s
5 387 M
(            \(!v.isPositive\(\) && vdual.isPositive\(\)\)\) {) s
5 376 M
(            flipDualBoundaries = true;) s
5 365 M
(        }) s
5 343 M
(        if \(flipDualBoundaries\) {) s
5 332 M
(            targetValue *= -1;) s
5 321 M
(        }) s
5 310 M
(        ) s
5 299 M
(        int lowdual = carrier_dual.getBegin\(\).getID\(\);) s
5 288 M
(        int highdual = carrier_dual.getEnd\(\).getID\(\);) s
5 277 M
(        for \(int i=lowdual;i<highdual;i++\) {) s
5 266 M
(            Boundary smaller=geq.getNthBoundary\(i\);) s
5 255 M
(            Boundary larger=geq.getNthBoundary\(i+1\);) s
5 244 M
(            int b2 = p.compare\(smaller, PrintNode.DUAL,) s
5 233 M
(                               larger, PrintNode.DUAL\);) s
5 222 M
(            ) s
5 211 M
(            // System.out.println\("Comparing "+smaller+":DUAL with "+larger+":DUAL"\);) s
5 200 M
(            ) s
5 189 M
(            if \(b2 * targetValue <= 0\) answer = false;) s
5 178 M
(        }) s
5 156 M
(        return answer;) s
5 145 M
(    }) s
5 123 M
(    private static boolean carrierConstraintsOverlapsDualConstraints\(Print p, GE geq\) {) s
5 112 M
(        // the first and last) s
5 101 M
(        boolean answer = true;) s
5 79 M
(        Carrier ca = \(Carrier\)geq.lookupDecorator\(Carrier.NAME\);) s
5 68 M
(        if \(ca == null\) {) s
5 57 M
(            throw new RuntimeException\("PrintValidator.carrierConstraintsOverlapsDualConstraints: unknown carrier"\);) s
5 46 M
(        }) s
5 35 M
(        Base carrier_base = ca.getBase\(\);) s
5 24 M
(        if \(carrier_base == null\) {) s
5 13 M
(            throw new RuntimeException\("PrintValidator.carrierConstraintsOverlapsDualConstraints: carrier_base is null"\);) s
5 2 M
(        }) s
_R
S
%%Page: (6) 302
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 6 def
/fname (src/makanin/PrintValidator.java) def
/fdir (src/makanin/) def
/ftail (PrintValidator.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:31 2011) def
/pagenumstr (6) def
/user_header_p true def
/user_header_left_str (PrintValidator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 6 of 9) def
/user_footer_p false def
%%EndPageSetup
do_header
5 497 M
(        boolean strict = true;) s
5 486 M
(        return baseOverlapsDualConstraints\(p, geq, carrier_base, strict\);) s
5 475 M
(    }) s
5 442 M
(    private static boolean baseOverlapsDualConstraints\(Print p, GE geq, Base base, boolean strict\) {) s
5 431 M
(        // the first and last) s
5 420 M
(        boolean answer = true;) s
5 398 M
(        Base dual = base.getDual\(\);) s
5 376 M
(        Variable v = \(Variable\)base.getLabel\(\);) s
5 365 M
(        Variable vdual = \(Variable\)dual.getLabel\(\);) s
5 343 M
(        boolean flipDualBoundaries = false;) s
5 332 M
(        if \(\(v.isPositive\(\) && !vdual.isPositive\(\)\) ||) s
5 321 M
(            \(!v.isPositive\(\) && vdual.isPositive\(\)\)\) {) s
5 310 M
(            flipDualBoundaries = true;) s
5 299 M
(        }) s
5 277 M
(        Constraint con_carrier = base.getConstraint\(\);) s
5 266 M
(        Constraint con_dual = dual.getConstraint\(\);) s
5 244 M
(        int a_carrier = 0;) s
5 233 M
(        boolean dual_found1 = false;) s
5 222 M
(        for \(Iterator it = con_carrier.iteratorBoundary\(\); it.hasNext\(\);\) {) s
5 211 M
(            Boundary bd = \(Boundary\)it.next\(\);) s
5 200 M
(            Boundary bd_dual = con_carrier.getDual\(bd\);) s
5 178 M
(            if \(p.contains\(bd_dual, PrintNode.DUAL\)\) {) s
5 167 M
(                dual_found1 = true;) s
5 156 M
(                int b1 = p.compare\(bd, PrintNode.CARRIER_TR,) s
5 145 M
(                                   bd_dual, PrintNode.DUAL\);) s
5 123 M
(                if \(b1!=0\) a_carrier=b1;) s
5 112 M
(            }) s
5 101 M
(            else {) s
5 90 M
(                if \(strict\) {) s
5 79 M
(                    throw new RuntimeException\("PrintValidator.carrierConstraintsOverlapsDualConstraints: inconsistent str) s
5 68 M
(ict overlap check 1 fails"\);) s
5 57 M
(                }) s
5 46 M
(            }) s
5 35 M
(        }) s
5 13 M
(        int a_dual = 0;) s
5 2 M
(        boolean dual_found2 = false;) s
_R
S
%%Page: (7) 303
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 7 def
/fname (src/makanin/PrintValidator.java) def
/fdir (src/makanin/) def
/ftail (PrintValidator.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:31 2011) def
/pagenumstr (7) def
/user_header_p true def
/user_header_left_str (PrintValidator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 7 of 9) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        for \(Iterator it = con_dual.iteratorBoundary\(\); it.hasNext\(\);\) {) s
5 497 M
(            Boundary bd_dual = \(Boundary\)it.next\(\);) s
5 486 M
(            Boundary bd = con_dual.getDual\(bd_dual\);) s
5 464 M
(            if \(p.contains\(bd_dual, PrintNode.DUAL\)\) {) s
5 453 M
(                dual_found2 = true;) s
5 431 M
(                int b2 = p.compare\(bd, PrintNode.CARRIER_TR,) s
5 420 M
(                                   bd_dual, PrintNode.DUAL\);) s
5 398 M
(                if \(b2!=0\) {) s
5 387 M
(                    a_dual=b2;) s
5 376 M
(                }) s
5 365 M
(            }) s
5 354 M
(            else {) s
5 343 M
(                if \(strict\) {) s
5 332 M
(                    throw new RuntimeException\("PrintValidator.carrierConstraintsOverlapsDualConstraints: inconsistent str) s
5 321 M
(ict overlap check 2 fails"\);) s
5 310 M
(                }) s
5 299 M
(            }) s
5 288 M
(        }) s
5 266 M
(        if \(\(a_carrier==0 && a_dual!=0\) ||) s
5 255 M
(            \(a_carrier!=0 && a_dual==0\)\) {) s
5 244 M
(            throw new RuntimeException\("PrintValidator.carrierConstraintsOverlapsDualConstraints: inconsistent constraints) s
5 233 M
( between carrier/dual"\);  ) s
5 222 M
(        }) s
5 211 M
(        ) s
5 200 M
(        return \(a_carrier==0 && \(dual_found2 && a_dual==0\)\);) s
5 189 M
(    }) s
5 167 M
(    private static boolean carrierExactlyOverlapsDual\(Print p, GE geq\) {) s
5 156 M
(        // the first and last boundaries of the carrier and the dual agree) s
5 145 M
(        boolean answer = true;) s
5 123 M
(        Carrier ca = \(Carrier\)geq.lookupDecorator\(Carrier.NAME\);) s
5 112 M
(        if \(ca == null\) {) s
5 101 M
(            throw new RuntimeException\("PrintValidator.carrierExactlyOverlapsDual: unknown carrier"\);) s
5 90 M
(        }) s
5 79 M
(        Base carrier_base = ca.getBase\(\);) s
5 68 M
(        if \(carrier_base == null\) {) s
5 57 M
(            throw new RuntimeException\("PrintValidator.carrierExactlyOverlapsDual: carrier_base is null"\);) s
5 46 M
(        }) s
5 24 M
(        Base carrier_dual = carrier_base.getDual\(\);) s
5 2 M
(        Variable v = \(Variable\)carrier_base.getLabel\(\);) s
_R
S
%%Page: (8) 304
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 8 def
/fname (src/makanin/PrintValidator.java) def
/fdir (src/makanin/) def
/ftail (PrintValidator.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:31 2011) def
/pagenumstr (8) def
/user_header_p true def
/user_header_left_str (PrintValidator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 8 of 9) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        Variable vdual = \(Variable\)carrier_dual.getLabel\(\);) s
5 486 M
(        boolean flipDualBoundaries = false;) s
5 475 M
(        if \(\(v.isPositive\(\) && !vdual.isPositive\(\)\) ||) s
5 464 M
(            \(!v.isPositive\(\) && vdual.isPositive\(\)\)\) {) s
5 453 M
(            flipDualBoundaries = true;) s
5 442 M
(        }) s
5 431 M
(        ) s
5 420 M
(        int b1, b2;) s
5 409 M
(        if \(!flipDualBoundaries\) {) s
5 398 M
(            b1 = p.compare\(carrier_base.getBegin\(\), PrintNode.CARRIER_TR,) s
5 387 M
(                           carrier_dual.getBegin\(\), PrintNode.DUAL\);) s
5 376 M
(            b2 = p.compare\(carrier_base.getEnd\(\), PrintNode.CARRIER_TR,) s
5 365 M
(                           carrier_dual.getEnd\(\), PrintNode.DUAL\);) s
5 354 M
(            //System.out.println\("Comparing "+carrier_base.getBegin\(\)+" & "+carrier_dual.getBegin\(\)+" => "+b1\);) s
5 343 M
(            //System.out.println\("Comparing "+carrier_base.getEnd\(\)+" & "+carrier_dual.getEnd\(\)+" => "+b2\);) s
5 332 M
(        }) s
5 321 M
(        else {) s
5 310 M
(            b1 = p.compare\(carrier_base.getBegin\(\), PrintNode.CARRIER_TR,) s
5 299 M
(                           carrier_dual.getEnd\(\), PrintNode.DUAL\);) s
5 288 M
(            b2 = p.compare\(carrier_base.getEnd\(\), PrintNode.CARRIER_TR,) s
5 277 M
(                           carrier_dual.getBegin\(\), PrintNode.DUAL\);) s
5 266 M
(            //System.out.println\("Comparing "+carrier_base.getBegin\(\)+" & "+carrier_dual.getEnd\(\)+" => "+b1\);) s
5 255 M
(            //System.out.println\("Comparing "+carrier_base.getEnd\(\)+" & "+carrier_dual.getBegin\(\)+" => "+b2\);) s
5 233 M
(        }) s
5 222 M
(        answer = \(\(b1==0\) && \(b2==0\)\);) s
5 200 M
(        return answer;) s
5 189 M
(    }) s
5 167 M
(    private static boolean canonicalEqualityOrdering\(Print p, GE geq\) {) s
5 156 M
(        // all equivalence classes of boundaries in the Print) s
5 145 M
(        // should be ordered by listing CARRIER boundaries) s
5 134 M
(        // before DUAL boundaries) s
5 123 M
(        boolean answer = true;) s
5 112 M
(        ) s
5 101 M
(        PrintNode pn, pnlast;) s
5 90 M
(        pn = pnlast = null;) s
5 79 M
(        for \(Iterator it=p.iteratorPrintNodes\(true\); it.hasNext\(\);\) {) s
5 68 M
(            pnlast = pn;) s
5 57 M
(            pn = \(PrintNode\)it.next\(\);) s
5 46 M
(            if \(\(pnlast!=null\) &&) s
5 35 M
(                \(pnlast.getSource\(\)==PrintNode.DUAL\) &&) s
5 24 M
(                \(pn.getSource\(\)==PrintNode.CARRIER_TR\) &&) s
5 13 M
(                \(pn.getOffset\(\)==PrintNode.ZERO\)\) {) s
5 2 M
(                answer = false;) s
_R
S
%%Page: (9) 305
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 9 def
/fname (src/makanin/PrintValidator.java) def
/fdir (src/makanin/) def
/ftail (PrintValidator.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:02:31 2011) def
/pagenumstr (9) def
/user_header_p true def
/user_header_left_str (PrintValidator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 9 of 9) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(                break;) s
5 497 M
(            }) s
5 486 M
(        }) s
5 475 M
(        return answer;) s
5 464 M
(    }) s
5 453 M
(}) s
_R
S
%%Page: (1) 306
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/params/MKParams.java) def
/fdir (src/params/) def
/ftail (MKParams.java) def
% User defined strings:
/fmodstr (Fri Oct 21 08:00:33 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (MKParams.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package params;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public class MKParams {) s
5 376 M
(    public static final String OUTPUT_DIRECTORY = "output";) s
5 354 M
(    public static final boolean FLAG_REPORT_GE_QUADRATICSYSTEM = true;) s
5 343 M
(    public static final boolean FLAG_REPORT_CANCELLATION_PICTURES = true;) s
5 332 M
(    public static final boolean FLAG_REPORT_GE_STRUCTURES = false;) s
5 321 M
(    public static final boolean FLAG_REPORT_GE_PICTURES = true;) s
5 310 M
(    public static final boolean FLAG_REPORT_MAKANIN_CARRIER = true;) s
5 299 M
(    public static final boolean FLAG_REPORT_MAKANIN_PRINTS = true;) s
5 288 M
(    public static final boolean FLAG_REPORT_DATE = false;) s
5 266 M
(    public static final String REPORT_SPACING = "[0.1in]";) s
5 255 M
(}) s
_R
S
%%Page: (1) 307
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/report/CancellationDiagramReport.java) def
/fdir (src/report/) def
/ftail (CancellationDiagramReport.java) def
% User defined strings:
/fmodstr (Fri Oct 21 04:28:37 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (CancellationDiagramReport.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package report;) s
5 431 M
(import ge.GE;) s
5 420 M
(import ge.GEFactory;) s
5 409 M
(import ge.Latex;) s
5 398 M
(import ge.CancellationDiagramAnalysis_GEDecorator;) s
5 387 M
(import equation.GroupEquation;) s
5 376 M
(import equation.QuadraticSystem;) s
5 365 M
(import cancellation.Diagram;) s
5 354 M
(import cancellation.DiagramTreeNode;) s
5 343 M
(import cancellation.ICancellationDiagramAnalysis;) s
5 332 M
(import cancellation.CancellationDiagramFactory;) s
5 321 M
(import java.io.BufferedWriter;) s
5 310 M
(import java.io.FileWriter;) s
5 299 M
(import java.io.IOException;) s
5 288 M
(import java.util.Iterator;) s
5 266 M
(/**) s
5 255 M
( *) s
5 244 M
( * @author grouptheory) s
5 233 M
( */) s
5 222 M
(public class CancellationDiagramReport {) s
5 211 M
(    private static String SUFFIX = "-CancellationDiagrams.tex";) s
5 189 M
(    private String _latex;) s
5 167 M
(    String latexHeader\(\) {) s
5 156 M
(        String s = "";) s
5 145 M
(        s+="\\\\documentclass[final]{article}\\n";) s
5 134 M
(        s+="\\\\usepackage{amssymb,amsmath,amsfonts}\\n";) s
5 123 M
(        s+="\\\\usepackage[dvips]{graphicx}\\n";) s
5 112 M
(        s+="\\\\usepackage{longtable}\\n";) s
5 101 M
(        s+="\\\\usepackage{pstricks-add,pst-slpe}\\n";) s
5 90 M
(        s+="\\\\begin{document}\\n";) s
5 79 M
(        if \( ! params.MKParams.FLAG_REPORT_DATE\) {) s
5 68 M
(            s+="\\\\date{}\\n";) s
5 57 M
(        }) s
5 46 M
(        return s;) s
5 35 M
(    }) s
5 13 M
(    String latexTitle\(GroupEquation eq\) {) s
5 2 M
(        String s="";) s
_R
S
%%Page: (2) 308
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/report/CancellationDiagramReport.java) def
/fdir (src/report/) def
/ftail (CancellationDiagramReport.java) def
% User defined strings:
/fmodstr (Fri Oct 21 04:28:37 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (CancellationDiagramReport.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        s+="\\\\title{\\n";) s
5 497 M
(        s+="  {\\\\Large The Cancellation Diagrams of \\\\\\\\";) s
5 486 M
(        s += "$";) s
5 475 M
(        s += equation.Latex.instance\(\).renderGroupEquation\(eq\);) s
5 464 M
(        s += "$";) s
5 453 M
(        s += "\\\\\\\\ in a Free Group}\\n";) s
5 442 M
(        s+="  {\\\\normalsize\\n";) s
5 431 M
(        s+="   \\\\author{Bilal Khan\\n";) s
5 420 M
(        s+="        \\\\thanks{Department of Mathematics and Computer Science, John Jay College of Criminal Justice, City Un) s
5 409 M
(iversity of New York \(CUNY\).}\\n";) s
5 398 M
(        s+="   \\\\and M-K Solver\\n";) s
5 387 M
(        s+="        \\\\thanks{This report was generated automatically by software developed with support from the National ) s
5 376 M
(Security Agency Grant H98230-06-1-0042.}\\n";) s
5 365 M
(        s+="           }\\n";) s
5 354 M
(        s+="  }\\n";) s
5 343 M
(        s+="}\\n\\n";) s
5 332 M
(        s+="\\\\maketitle\\n\\n";) s
5 321 M
(        return s;) s
5 310 M
(    }) s
5 288 M
(    String latexFooter\(\) {) s
5 277 M
(        String s = "";) s
5 266 M
(        s+="\\\\end{document}\\n";) s
5 255 M
(        return s;) s
5 244 M
(    }) s
5 233 M
(    ) s
5 222 M
(    CancellationDiagramReport\(GroupEquation eq\) {) s
5 211 M
(        GroupEquation prob = new GroupEquation\(eq\);) s
5 189 M
(        ICancellationDiagramAnalysis analysis;) s
5 178 M
(        /*) s
5 167 M
(            analysis = CancellationDiagramFactory.instance\(\).newDiagramTree\(prob\);) s
5 156 M
(        */) s
5 145 M
(        analysis = CancellationDiagramFactory.instance\(\).newDiagramProbe\(prob\);) s
5 123 M
(        analysis.addDecorator\(new CancellationDiagramAnalysis_GEDecorator\(\)\);) s
5 112 M
(        ) s
5 101 M
(        _latex = "";) s
5 90 M
(        _latex += latexHeader\(\);) s
5 79 M
(        _latex += latexTitle\(prob\);) s
5 68 M
(        ) s
5 57 M
(        _latex += cancellation.Latex.instance\(\).renderCancellationDiagramAnalysis\(analysis\);) s
5 35 M
(        _latex +=  latexFooter\(\);) s
5 24 M
(    }) s
5 2 M
(    void save\(String filename\) {) s
_R
S
%%Page: (3) 309
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/report/CancellationDiagramReport.java) def
/fdir (src/report/) def
/ftail (CancellationDiagramReport.java) def
% User defined strings:
/fmodstr (Fri Oct 21 04:28:37 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (CancellationDiagramReport.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 3) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        BufferedWriter outfile;) s
5 497 M
(        try {) s
5 486 M
(            outfile = new BufferedWriter\(new FileWriter\(filename+SUFFIX\)\);) s
5 475 M
(            outfile.write\(_latex\);) s
5 464 M
(            outfile.close\(\);) s
5 453 M
(        } catch \(IOException e\) {) s
5 442 M
(            throw new RuntimeException\("Report file could not be written to"\);) s
5 431 M
(        }) s
5 420 M
(    }) s
5 409 M
(}) s
_R
S
%%Page: (1) 310
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/report/GEPrintsReport.java) def
/fdir (src/report/) def
/ftail (GEPrintsReport.java) def
% User defined strings:
/fmodstr (Fri Oct 21 04:28:32 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (GEPrintsReport.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package report;) s
5 420 M
(import ge.GE;) s
5 409 M
(import ge.GEFactory;) s
5 398 M
(import ge.Latex;) s
5 387 M
(import ge.CancellationDiagramAnalysis_GEDecorator;) s
5 376 M
(import equation.GroupEquation;) s
5 365 M
(import equation.QuadraticSystem;) s
5 354 M
(import cancellation.Diagram;) s
5 343 M
(import cancellation.DiagramTreeNode;) s
5 332 M
(import cancellation.ICancellationDiagramAnalysis;) s
5 321 M
(import cancellation.CancellationDiagramFactory;) s
5 310 M
(import cancellation.DiagramDegeneracyTester;) s
5 299 M
(import java.io.BufferedWriter;) s
5 288 M
(import java.io.FileWriter;) s
5 277 M
(import java.io.IOException;) s
5 266 M
(import java.util.Iterator;) s
5 255 M
(import makanin.CarrierFactory;) s
5 244 M
(import makanin.CriticalBoundaryFactory;) s
5 233 M
(import makanin.BaseClassDecoratorFactory;) s
5 211 M
(/**) s
5 200 M
( *) s
5 189 M
( * @author grouptheory) s
5 178 M
( */) s
5 167 M
(public class GEPrintsReport {) s
5 156 M
(    private static String SUFFIX = "-Prints.tex";) s
5 134 M
(    private String _latex;) s
5 112 M
(    String latexHeader\(\) {) s
5 101 M
(        String s = "";) s
5 90 M
(        s+="\\\\documentclass[final]{article}\\n";) s
5 79 M
(        s+="\\\\usepackage{amssymb,amsmath,amsfonts}\\n";) s
5 68 M
(        s+="\\\\usepackage[dvips]{graphicx}\\n";) s
5 57 M
(        s+="\\\\usepackage{longtable}\\n";) s
5 46 M
(        s+="\\\\usepackage{verbatim}\\n";) s
5 35 M
(        s+="\\\\usepackage{pstricks-add,pst-slpe}\\n";) s
5 24 M
(        s+="\\\\begin{document}\\n";) s
5 13 M
(        if \( ! params.MKParams.FLAG_REPORT_DATE\) {) s
5 2 M
(            s+="\\\\date{}\\n";) s
_R
S
%%Page: (2) 311
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/report/GEPrintsReport.java) def
/fdir (src/report/) def
/ftail (GEPrintsReport.java) def
% User defined strings:
/fmodstr (Fri Oct 21 04:28:32 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (GEPrintsReport.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        }) s
5 497 M
(        return s;) s
5 486 M
(    }) s
5 464 M
(    String latexTitle\(GroupEquation eq\) {) s
5 453 M
(        String s="";) s
5 442 M
(        s+="\\\\title{\\n";) s
5 431 M
(        s+="  {\\\\Large The Prints of the Generalized Equations of \\\\\\\\";) s
5 420 M
(        s += "$";) s
5 409 M
(        s += equation.Latex.instance\(\).renderGroupEquation\(eq\);) s
5 398 M
(        s += "$";) s
5 387 M
(        s += "\\\\\\\\ in a Free Group}\\n";) s
5 376 M
(        s+="  {\\\\normalsize\\n";) s
5 365 M
(        s+="   \\\\author{Bilal Khan\\n";) s
5 354 M
(        s+="        \\\\thanks{Department of Mathematics and Computer Science, John Jay College of Criminal Justice, City Un) s
5 343 M
(iversity of New York \(CUNY\).}\\n";) s
5 332 M
(        s+="   \\\\and M-K Solver\\n";) s
5 321 M
(        s+="        \\\\thanks{This report was generated automatically by software developed with support from the National ) s
5 310 M
(Security Agency Grant H98230-06-1-0042.}\\n";) s
5 299 M
(        s+="           }\\n";) s
5 288 M
(        s+="  }\\n";) s
5 277 M
(        s+="}\\n\\n";) s
5 266 M
(        s+="\\\\maketitle\\n\\n";) s
5 255 M
(        return s;) s
5 244 M
(    }) s
5 222 M
(    String latexFooter\(\) {) s
5 211 M
(        String s = "";) s
5 200 M
(        s+="\\\\end{document}\\n";) s
5 189 M
(        return s;) s
5 178 M
(    }) s
5 156 M
(    GEPrintsReport\(GroupEquation eq\) {) s
5 145 M
(        GroupEquation prob = new GroupEquation\(eq\);) s
5 123 M
(        ICancellationDiagramAnalysis analysis;) s
5 112 M
(        /*) s
5 101 M
(            analysis = CancellationDiagramFactory.instance\(\).newDiagramTree\(prob\);) s
5 90 M
(        */) s
5 79 M
(            analysis = CancellationDiagramFactory.instance\(\).newDiagramProbe\(prob\);) s
5 57 M
(        analysis.addDecorator\(new CancellationDiagramAnalysis_GEDecorator\(\)\);) s
5 35 M
(        _latex = "";) s
5 24 M
(        _latex += latexHeader\(\);) s
5 13 M
(        _latex += latexTitle\(prob\);) s
_R
S
%%Page: (3) 312
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/report/GEPrintsReport.java) def
/fdir (src/report/) def
/ftail (GEPrintsReport.java) def
% User defined strings:
/fmodstr (Fri Oct 21 04:28:32 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (GEPrintsReport.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        int i=1;) s
5 497 M
(        for \(Iterator it = analysis.iteratorDiagramTreeNodes\(\); it.hasNext\(\);\) {) s
5 486 M
(            DiagramTreeNode dtn = \(DiagramTreeNode\)it.next\(\);) s
5 464 M
(            _latex += "\\\\section{Generalized Equation \\\\#$"+i+"$}\\n";) s
5 442 M
(            /*) s
5 431 M
(            if \(DiagramDegeneracyTester.isDegenerate\(dtn.getDiagram\(\)\)\) {) s
5 420 M
(                continue;) s
5 409 M
(            }) s
5 387 M
(            if \(!dtn.getLeaf\(\)\) {) s
5 376 M
(                // this can happen if |w| is odd and) s
5 365 M
(                // we return back to 1 with at the) s
5 354 M
(                // penultimate symbol.) s
5 343 M
(                continue;) s
5 332 M
(            }) s
5 321 M
(            */) s
5 310 M
(            QuadraticSystem qs = analysis.getQuadraticSystem\(\);) s
5 299 M
(            Diagram d = dtn.getDiagram\(\);) s
5 277 M
(            GEFactory gef = GEFactory.instance\(\);) s
5 266 M
(            GE geq = gef.newGE\(d, qs\);) s
5 255 M
(            ) s
5 244 M
(            CarrierFactory.applyToGE\(geq\);) s
5 233 M
(            CriticalBoundaryFactory.applyToGE\(geq\);) s
5 222 M
(            BaseClassDecoratorFactory.applyToAllBases\(geq\);) s
5 200 M
(            if \(params.MKParams.FLAG_REPORT_GE_QUADRATICSYSTEM\) {) s
5 189 M
(                _latex += equation.Latex.instance\(\).renderQSAsText\(qs\);) s
5 178 M
(            }) s
5 167 M
(            if \(params.MKParams.FLAG_REPORT_GE_PICTURES\) {) s
5 156 M
(                _latex += makanin.Latex.instance\(\).renderGEasGraphics\(geq\);) s
5 145 M
(            }) s
5 134 M
(            if \(params.MKParams.FLAG_REPORT_MAKANIN_CARRIER\) {) s
5 123 M
(                _latex += makanin.Latex.instance\(\).renderGEasText\(geq\);) s
5 112 M
(            }) s
5 101 M
(            if \(params.MKParams.FLAG_REPORT_MAKANIN_PRINTS\) {) s
5 90 M
(                _latex += makanin.Latex.instance\(\).renderPrintsasText\(geq\);) s
5 79 M
(            }) s
5 68 M
(            i++;) s
5 57 M
(        }) s
5 35 M
(        _latex +=  latexFooter\(\);) s
5 24 M
(    }) s
5 2 M
(    void save\(String filename\) {) s
_R
S
%%Page: (4) 313
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 4 def
/fname (src/report/GEPrintsReport.java) def
/fdir (src/report/) def
/ftail (GEPrintsReport.java) def
% User defined strings:
/fmodstr (Fri Oct 21 04:28:32 2011) def
/pagenumstr (4) def
/user_header_p true def
/user_header_left_str (GEPrintsReport.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 4 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        BufferedWriter outfile;) s
5 497 M
(        try {) s
5 486 M
(            outfile = new BufferedWriter\(new FileWriter\(filename+SUFFIX\)\);) s
5 475 M
(            outfile.write\(_latex\);) s
5 464 M
(            outfile.close\(\);) s
5 453 M
(        } catch \(IOException e\) {) s
5 442 M
(            throw new RuntimeException\("Report file could not be written to"\);) s
5 431 M
(        }) s
5 420 M
(    }) s
5 409 M
(}) s
_R
S
%%Page: (1) 314
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/report/Latex.java) def
/fdir (src/report/) def
/ftail (Latex.java) def
% User defined strings:
/fmodstr (Thu Oct 13 16:06:10 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Latex.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package report;) s
5 431 M
(import equation.GroupEquation;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(public class Latex {) s
5 343 M
(    private static Latex _instance;) s
5 321 M
(    private Latex\(\) {) s
5 310 M
(    }) s
5 288 M
(    public static Latex instance\(\) {) s
5 277 M
(        if \(_instance == null\) {) s
5 266 M
(            _instance = new Latex\(\);) s
5 255 M
(        }) s
5 244 M
(        return _instance;) s
5 233 M
(    }) s
5 200 M
(}) s
_R
S
%%Page: (1) 315
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/report/Main.java) def
/fdir (src/report/) def
/ftail (Main.java) def
% User defined strings:
/fmodstr (Fri Oct 21 08:39:00 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Main.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package report;) s
5 431 M
(import equation.GroupEquation;) s
5 420 M
(import cancellation.CancellationDiagramTree;) s
5 409 M
(import cancellation.CancellationDiagramFactory;) s
5 387 M
(/**) s
5 376 M
( *) s
5 365 M
( * @author grouptheory) s
5 354 M
( */) s
5 343 M
(public class Main {) s
5 332 M
(    /**) s
5 321 M
(     * @param args the command line arguments) s
5 310 M
(     */) s
5 299 M
(    public static void main\(String[] args\) {) s
5 277 M
(        int MAX_SUBTREE = 8;) s
5 266 M
(        MetaReport.create\("z1-.c1+.z1+.c1-.", "exp1", MAX_SUBTREE\);) s
5 255 M
(        ) s
5 244 M
(    }) s
5 222 M
(}) s
_R
S
%%Page: (1) 316
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/report/MetaReport.java) def
/fdir (src/report/) def
/ftail (MetaReport.java) def
% User defined strings:
/fmodstr (Fri Oct 21 08:17:36 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (MetaReport.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package report;) s
5 420 M
(import equation.GroupEquation;) s
5 409 M
(import cancellation.CancellationDiagramTree;) s
5 398 M
(import cancellation.CancellationDiagramFactory;) s
5 376 M
(/**) s
5 365 M
( *) s
5 354 M
( * @author grouptheory) s
5 343 M
( */) s
5 332 M
(public class MetaReport {) s
5 310 M
(    public static void create\(String equationAsString, String experimentName, int MAX_SUBTREE\) {) s
5 288 M
(        GroupEquation problem = new GroupEquation\(equationAsString\);) s
5 277 M
(/*) s
5 266 M
(        CancellationDiagramReport report = new CancellationDiagramReport\(problem\);) s
5 255 M
(        report.save\(""+params.MKParams.OUTPUT_DIRECTORY+"/"+experimentName\);) s
5 233 M
(        // System.out.println\("XXXXXXXXXXXXXXXXXXXXXXXX"\);) s
5 211 M
(        GEPrintsReport report2 = new GEPrintsReport\(problem\);) s
5 200 M
(        report2.save\(""+params.MKParams.OUTPUT_DIRECTORY+"/"+experimentName\);) s
5 189 M
( *) s
5 178 M
( */) s
5 167 M
(        SolutionReport report3 = new SolutionReport\(problem, MAX_SUBTREE\);) s
5 156 M
(        report3.save\(""+params.MKParams.OUTPUT_DIRECTORY+"/"+experimentName\);) s
5 145 M
(    }) s
5 134 M
(}) s
_R
S
%%Page: (1) 317
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/report/SolutionReport.java) def
/fdir (src/report/) def
/ftail (SolutionReport.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:14:01 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (SolutionReport.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package report;) s
5 431 M
(import ge.GE;) s
5 420 M
(import ge.GEFactory;) s
5 409 M
(import makanin.Print;) s
5 398 M
(import makanin.PrintIterator;) s
5 387 M
(import makanin.PrintIteratorFactory;) s
5 376 M
(import ge.Latex;) s
5 365 M
(import ge.CancellationDiagramAnalysis_GEDecorator;) s
5 354 M
(import equation.GroupEquation;) s
5 343 M
(import equation.QuadraticSystem;) s
5 332 M
(import cancellation.Diagram;) s
5 321 M
(import cancellation.DiagramTreeNode;) s
5 310 M
(import cancellation.ICancellationDiagramAnalysis;) s
5 299 M
(import cancellation.CancellationDiagramFactory;) s
5 288 M
(import cancellation.DiagramDegeneracyTester;) s
5 277 M
(import java.io.BufferedWriter;) s
5 266 M
(import java.io.FileWriter;) s
5 255 M
(import java.io.IOException;) s
5 244 M
(import java.util.Iterator;) s
5 233 M
(import makanin.CarrierFactory;) s
5 222 M
(import makanin.CriticalBoundaryFactory;) s
5 211 M
(import makanin.BaseClassDecoratorFactory;) s
5 200 M
(import makanin.GENode;) s
5 189 M
(import makanin.GENodePriorityQueue;) s
5 178 M
(import makanin.GEPriorityQueueLogger;) s
5 156 M
(/**) s
5 145 M
( *) s
5 134 M
( * @author grouptheory) s
5 123 M
( */) s
5 112 M
(public class SolutionReport {) s
5 101 M
(    private static String SUFFIX = "-Solution.tex";) s
5 79 M
(    private String _latex;) s
5 57 M
(    String latexHeader\(GroupEquation eq\) {) s
5 46 M
(        String s = "";) s
5 35 M
(        s+="\\\\documentclass[final]{article}\\n";) s
5 24 M
(        s+="\\\\usepackage{amssymb,amsmath,amsfonts}\\n";) s
5 13 M
(        s+="\\\\usepackage[dvips]{graphicx}\\n";) s
5 2 M
(        s+="\\\\usepackage{longtable}\\n";) s
_R
S
%%Page: (2) 318
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/report/SolutionReport.java) def
/fdir (src/report/) def
/ftail (SolutionReport.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:14:01 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (SolutionReport.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        s+="\\\\usepackage{verbatim}\\n";) s
5 497 M
(        s+="\\\\usepackage{fancyhdr}\\n";) s
5 486 M
(        s+="\\\\usepackage{pstricks-add,pst-slpe}\\n";) s
5 475 M
(        s+="\\\\pagestyle{fancy}\\n";) s
5 464 M
(        s+="\\\\fancyhead{}\\n";) s
5 453 M
(        s+="\\\\fancyfoot{}\\n";) s
5 442 M
(        s+="\\\\fancyhead[CO,CE]{$"+equation.Latex.instance\(\).renderGroupEquation\(eq\)+"$}\\n";) s
5 431 M
(        s+="\\\\fancyfoot[RO, LE] {\\\\thepage}\\n";) s
5 420 M
(        s+="\\\\begin{document}\\n";) s
5 409 M
(        if \( ! params.MKParams.FLAG_REPORT_DATE\) {) s
5 398 M
(            s+="\\\\date{}\\n";) s
5 387 M
(        }) s
5 376 M
(        return s;) s
5 365 M
(    }) s
5 343 M
(    String latexTitle\(GroupEquation eq\) {) s
5 332 M
(        String s="";) s
5 321 M
(        s+="\\\\title{\\n";) s
5 310 M
(        s+="  {\\\\Large Solution of the equation \\\\\\\\";) s
5 299 M
(        s += "$";) s
5 288 M
(        s += equation.Latex.instance\(\).renderGroupEquation\(eq\);) s
5 277 M
(        s += "$";) s
5 266 M
(        s += "\\\\\\\\ in a Free Group}\\n";) s
5 255 M
(        s+="  {\\\\normalsize\\n";) s
5 244 M
(        s+="   \\\\author{Bilal Khan\\n";) s
5 233 M
(        s+="        \\\\thanks{Department of Mathematics and Computer Science, John Jay College of Criminal Justice, City Un) s
5 222 M
(iversity of New York \(CUNY\).}\\n";) s
5 211 M
(        s+="   \\\\and M-K Solver\\n";) s
5 200 M
(        s+="        \\\\thanks{This report was generated automatically by software developed with support from the National ) s
5 189 M
(Security Agency Grant H98230-06-1-0042.}\\n";) s
5 178 M
(        s+="           }\\n";) s
5 167 M
(        s+="  }\\n";) s
5 156 M
(        s+="}\\n\\n";) s
5 145 M
(        s+="\\\\maketitle\\n\\n";) s
5 134 M
(        s+="\\\\tableofcontents\\n\\n";) s
5 123 M
(        return s;) s
5 112 M
(    }) s
5 90 M
(    String latexFooter\(\) {) s
5 79 M
(        String s = "";) s
5 68 M
(        s+="\\\\section{Acknowledgements}\\n";) s
5 57 M
(        s+="The authors acknowledge that this report was generated by software developed as part of a funded project suppo) s
5 46 M
(rted by a research grant \(H98230-06-1-0042\) from the National Security Agency.";) s
5 35 M
(        s+="  We also give special thanks to Alexei Miasnikov and Olga Kharlampovich for many helpful discussions along th) s
5 24 M
(e way.  ";) s
5 13 M
(        s+="\\\\end{document}\\n";) s
5 2 M
(        return s;) s
_R
S
%%Page: (3) 319
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/report/SolutionReport.java) def
/fdir (src/report/) def
/ftail (SolutionReport.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:14:01 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (SolutionReport.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    }) s
5 486 M
(    SolutionReport\(GroupEquation eq, int MAX_SUBTREE\) {) s
5 475 M
(        GroupEquation prob = new GroupEquation\(eq\);) s
5 453 M
(        ICancellationDiagramAnalysis analysis;) s
5 442 M
(        analysis = CancellationDiagramFactory.instance\(\).newDiagramProbe\(prob\);) s
5 420 M
(        analysis.addDecorator\(new CancellationDiagramAnalysis_GEDecorator\(\)\);) s
5 398 M
(        _latex = "";) s
5 387 M
(        _latex += latexHeader\(prob\);) s
5 376 M
(        _latex += latexTitle\(prob\);) s
5 354 M
(        int i=1;) s
5 343 M
(        for \(Iterator it = analysis.iteratorDiagramTreeNodes\(\); it.hasNext\(\);\) {) s
5 332 M
(            DiagramTreeNode dtn = \(DiagramTreeNode\)it.next\(\);) s
5 310 M
(            _latex += "\\\\newpage\\n";) s
5 299 M
(            _latex += "\\\\section{Cancellation scheme \\\\#$"+i+"$}\\n";) s
5 277 M
(            QuadraticSystem qs = analysis.getQuadraticSystem\(\);) s
5 266 M
(            Diagram d = dtn.getDiagram\(\);) s
5 244 M
(            GEFactory gef = GEFactory.instance\(\);) s
5 233 M
(            GE geq = gef.newGE\(d, qs\);) s
5 211 M
(            String name = "root-"+i;) s
5 189 M
(            GENode gnode = new GENode\(geq, name\);) s
5 178 M
(            GENodePriorityQueue pq = new GENodePriorityQueue\(\);) s
5 167 M
(            pq.attachObserver\(new GEPriorityQueueLogger\(\)\);) s
5 145 M
(            pq.enqueue\(gnode\);) s
5 123 M
(            _latex += cancellation.Latex.instance\(\).renderDiagram\(d\);) s
5 112 M
(            ) s
5 101 M
(            int gen=0;) s
5 90 M
(            while \(!pq.empty\(\)\) {) s
5 79 M
(                GENode nextGE = pq.step\(\);) s
5 57 M
(                _latex += "\\\\subsection*{Generalized Equation "+nextGE.getName\(\)+"}\\n";) s
5 46 M
(                _latex += "\\\\label{"+nextGE.getName\(\)+"}";) s
5 24 M
(                if \(nextGE.getParent\(\) != null\) {) s
5 13 M
(                    _latex += "We begin from the GE "+nextGE.getParent\(\).getName\(\)+" \(see pp. \\\\pageref{"+nextGE.getParent) s
5 2 M
(\(\).getName\(\)+"}\).  ";) s
_R
S
%%Page: (4) 320
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 4 def
/fname (src/report/SolutionReport.java) def
/fdir (src/report/) def
/ftail (SolutionReport.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:14:01 2011) def
/pagenumstr (4) def
/user_header_p true def
/user_header_left_str (SolutionReport.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 4 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 497 M
(                    // _latex += makanin.Latex.instance\(\).renderGEasGraphics\(nextGE.getParent\(\).getGE\(\)\);) s
5 486 M
(                }) s
5 464 M
(                if \(!nextGE.isLeaf\(\)\) {) s
5 453 M
(                    int kcount=0;) s
5 442 M
(                    for \(PrintIterator pi = PrintIteratorFactory.instance\(\).newPrintIterator\(nextGE.getGE\(\)\);) s
5 431 M
(                         pi.hasNext\(\);\) {) s
5 420 M
(                        Print p = \(Print\)pi.next\(\);) s
5 409 M
(                        kcount++;) s
5 398 M
(                    }) s
5 376 M
(                    String s = "";) s
5 365 M
(                    s += \("   It has "+kcount+" legal carrier-to-dual prints, as follows:\\n"\);) s
5 354 M
(                    s+="\\\\begin{verbatim}\\n";) s
5 343 M
(                    int k=1;) s
5 332 M
(                    for \(PrintIterator pi = PrintIteratorFactory.instance\(\).newPrintIterator\(nextGE.getGE\(\)\);) s
5 321 M
(                         pi.hasNext\(\);\) {) s
5 310 M
(                        Print p = \(Print\)pi.next\(\);) s
5 299 M
(                        s+=\("     Print "+k+": "+p+"\\n"\);) s
5 288 M
(                        k++;) s
5 277 M
(                    }) s
5 266 M
(                    s+="\\\\end{verbatim}\\n";) s
5 244 M
(                    nextGE.appendToLog\(s\);) s
5 233 M
(                }) s
5 211 M
(                /*) s
5 200 M
(                if \(params.MKParams.FLAG_REPORT_GE_PICTURES\) {) s
5 189 M
(                    _latex += makanin.Latex.instance\(\).renderGEasGraphics\(nextGE.getGE\(\)\);) s
5 178 M
(                }) s
5 167 M
(                if \(params.MKParams.FLAG_REPORT_MAKANIN_CARRIER\) {) s
5 156 M
(                    _latex += makanin.Latex.instance\(\).renderGEasText\(nextGE.getGE\(\)\);) s
5 145 M
(                }) s
5 134 M
(                */) s
5 123 M
(                String closure = "";) s
5 112 M
(                closure = ""+nextGE.getName\(\)+) s
5 101 M
(                        \(nextGE.getParent\(\)!=null?", as derived from the application of a print to "+nextGE.getParent\(\).ge) s
5 90 M
(tName\(\):""\);) s
5 57 M
(                nextGE.closeLog\(closure\);) s
5 46 M
(                ) s
5 35 M
(                _latex += nextGE.getLog\(\);) s
5 24 M
(                gen++;) s
5 2 M
(                if \(gen>=MAX_SUBTREE\) break;) s
_R
S
%%Page: (5) 321
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 5 def
/fname (src/report/SolutionReport.java) def
/fdir (src/report/) def
/ftail (SolutionReport.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:14:01 2011) def
/pagenumstr (5) def
/user_header_p true def
/user_header_left_str (SolutionReport.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 5 of 5) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            }) s
5 497 M
(            ) s
5 486 M
(            i++;) s
5 475 M
(        }) s
5 453 M
(        _latex +=  latexFooter\(\);) s
5 442 M
(    }) s
5 420 M
(    void save\(String filename\) {) s
5 409 M
(        BufferedWriter outfile;) s
5 398 M
(        try {) s
5 387 M
(            outfile = new BufferedWriter\(new FileWriter\(filename+SUFFIX\)\);) s
5 376 M
(            outfile.write\(_latex\);) s
5 365 M
(            outfile.close\(\);) s
5 354 M
(        } catch \(IOException e\) {) s
5 343 M
(            throw new RuntimeException\("Report file could not be written to"\);) s
5 332 M
(        }) s
5 321 M
(    }) s
5 310 M
(}) s
_R
S
%%Page: (1) 322
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/transformations/Elem.java) def
/fdir (src/transformations/) def
/ftail (Elem.java) def
% User defined strings:
/fmodstr (Thu Oct 13 16:57:45 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Elem.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package transformations;) s
5 431 M
(import ge.GE;) s
5 420 M
(import hom.Hom;) s
5 398 M
(/**) s
5 387 M
( *) s
5 376 M
( * @author grouptheory) s
5 365 M
( */) s
5 354 M
(public interface Elem {) s
5 343 M
(    GE apply\(GE actedOn\);) s
5 332 M
(    Hom getHom\(\);) s
5 321 M
(}) s
_R
S
%%Page: (1) 323
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/utility/AbstractComposableIterator.java) def
/fdir (src/utility/) def
/ftail (AbstractComposableIterator.java) def
% User defined strings:
/fmodstr (Thu Oct 13 13:33:00 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (AbstractComposableIterator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package utility;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public abstract class AbstractComposableIterator implements ComposableIterator {) s
5 365 M
(    private Object _state;) s
5 343 M
(    public Object getState\(\) {) s
5 332 M
(        return _state;) s
5 321 M
(    }) s
5 310 M
(    ) s
5 299 M
(    public void setState\(Object o\) {) s
5 288 M
(        _state = o;) s
5 277 M
(    }) s
5 255 M
(    private ComposableIterator _p;) s
5 233 M
(    public ComposableIterator getParent\(\) {) s
5 222 M
(        return _p;) s
5 211 M
(    }) s
5 189 M
(    public void setParent\(ComposableIterator p\) {) s
5 178 M
(        _p = p;) s
5 167 M
(    }) s
5 156 M
(}) s
_R
S
%%Page: (1) 324
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/utility/AbstractDecorable.java) def
/fdir (src/utility/) def
/ftail (AbstractDecorable.java) def
% User defined strings:
/fmodstr (Fri Oct 21 03:42:53 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (AbstractDecorable.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package utility;) s
5 431 M
(import utility.IDecorator;) s
5 420 M
(import utility.IDecorable;) s
5 409 M
(import java.util.HashMap;) s
5 398 M
(import java.util.Iterator;) s
5 376 M
(/**) s
5 365 M
( *) s
5 354 M
( * @author grouptheory) s
5 343 M
( */) s
5 332 M
(public abstract class AbstractDecorable implements IDecorable {) s
5 321 M
(    private HashMap _name2dec;) s
5 310 M
(    private HashMap _dec2name;) s
5 288 M
(    protected AbstractDecorable\(\) {) s
5 277 M
(        _name2dec = new HashMap\(\);) s
5 266 M
(        _dec2name = new HashMap\(\);) s
5 255 M
(    }) s
5 233 M
(    public void attachDecorator\(String name, IDecorator dec\) {) s
5 222 M
(        if \(_name2dec.containsKey\(name\)\) {) s
5 211 M
(            throw new RuntimeException\("AbstractDecorable.attachDecorator: _name2dec duplicate key: "+name\);) s
5 200 M
(        }) s
5 189 M
(        if \(_name2dec.containsValue\(dec\)\) {) s
5 178 M
(            throw new RuntimeException\("AbstractDecorable.attachDecorator: _name2dec duplicate val"\);) s
5 167 M
(        }) s
5 156 M
(        if \(_dec2name.containsKey\(dec\)\) {) s
5 145 M
(            throw new RuntimeException\("AbstractDecorable.attachDecorator: _dec2name duplicate key"\);) s
5 134 M
(        }) s
5 123 M
(        if \(_dec2name.containsValue\(name\)\) {) s
5 112 M
(            throw new RuntimeException\("AbstractDecorable.attachDecorator: _dec2name duplicate val: "+name\);) s
5 101 M
(        }) s
5 79 M
(        // Thread.dumpStack\(\);) s
5 68 M
(        ) s
5 57 M
(        _name2dec.put\(name, dec\);) s
5 46 M
(        _dec2name.put\(dec, name\);) s
5 35 M
(    }) s
5 13 M
(    public void detachDecorator\(IDecorator dec\) {) s
5 2 M
(        String name = lookupDecoratorName\(dec\);) s
_R
S
%%Page: (2) 325
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/utility/AbstractDecorable.java) def
/fdir (src/utility/) def
/ftail (AbstractDecorable.java) def
% User defined strings:
/fmodstr (Fri Oct 21 03:42:53 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (AbstractDecorable.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 497 M
(        if \(!_name2dec.containsKey\(name\)\) {) s
5 486 M
(            throw new RuntimeException\("AbstractDecorable.detachDecorator: _name2dec unknown key"\);) s
5 475 M
(        }) s
5 464 M
(        if \(!_dec2name.containsKey\(dec\)\) {) s
5 453 M
(            throw new RuntimeException\("AbstractDecorable.detachDecorator: _dec2name unknown key"\);) s
5 442 M
(        }) s
5 420 M
(        _dec2name.remove\(dec\);) s
5 409 M
(        _name2dec.remove\(name\);) s
5 398 M
(    }) s
5 376 M
(    public String lookupDecoratorName\(IDecorator dec\) {) s
5 365 M
(        if \(!_dec2name.containsKey\(dec\)\) {) s
5 354 M
(            throw new RuntimeException\("AbstractDecorable.lookupDecoratorName: _dec2name unknown key"\);) s
5 343 M
(        }) s
5 332 M
(        return \(String\)_dec2name.get\(dec\);) s
5 321 M
(    }) s
5 299 M
(    public IDecorator lookupDecorator\(String name\) {) s
5 288 M
(        /*) s
5 277 M
(        if \(!_name2dec.containsKey\(name\)\) {) s
5 266 M
(            throw new RuntimeException\("AbstractDecorable.lookupDecoratorName: _name2dec unknown key"\);) s
5 255 M
(        }) s
5 244 M
(         */) s
5 233 M
(        return \(IDecorator\)_name2dec.get\(name\);) s
5 222 M
(    }) s
5 200 M
(    public Iterator iteratorDecorators\(\) {) s
5 189 M
(        return _name2dec.values\(\).iterator\(\);) s
5 178 M
(    }) s
5 156 M
(}) s
_R
S
%%Page: (1) 326
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/utility/AbstractDecorator.java) def
/fdir (src/utility/) def
/ftail (AbstractDecorator.java) def
% User defined strings:
/fmodstr (Tue Oct 18 14:33:43 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (AbstractDecorator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package utility;) s
5 431 M
(import utility.IDecorator;) s
5 420 M
(import utility.IDecorable;) s
5 398 M
(/**) s
5 387 M
( *) s
5 376 M
( * @author grouptheory) s
5 365 M
( */) s
5 354 M
(public abstract class AbstractDecorator implements IDecorator {) s
5 332 M
(    private IDecorable _owner;) s
5 310 M
(    protected AbstractDecorator\(\) {) s
5 299 M
(    }) s
5 288 M
(    ) s
5 277 M
(    public void setOwner\(IDecorable owner\) {) s
5 266 M
(        if \(\(_owner != null\) && \(_owner != owner\)\) {) s
5 255 M
(            throw new RuntimeException\("BaseDecorator.attach: already attached"\);) s
5 244 M
(        }) s
5 222 M
(        if \(_owner != owner\) {) s
5 211 M
(            _owner = owner;) s
5 200 M
(        }) s
5 189 M
(    }) s
5 178 M
(    ) s
5 167 M
(    public IDecorable getOwner\(\) {) s
5 156 M
(        return _owner;) s
5 145 M
(    }) s
5 134 M
(}) s
_R
S
%%Page: (1) 327
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/utility/ClassLog.java) def
/fdir (src/utility/) def
/ftail (ClassLog.java) def
% User defined strings:
/fmodstr (Fri Oct 21 09:05:49 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (ClassLog.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package utility;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public class ClassLog {) s
5 376 M
(    String _data;) s
5 354 M
(    public ClassLog\(\) {) s
5 343 M
(        _data = "";) s
5 332 M
(    }) s
5 310 M
(    public String toString\(\) {) s
5 299 M
(        return _data;) s
5 288 M
(    }) s
5 266 M
(    public void append\(String msg\) {) s
5 255 M
(        _data += msg;) s
5 244 M
(    }) s
5 222 M
(    public void clear\(\) {) s
5 211 M
(        _data = "";) s
5 200 M
(    }) s
5 189 M
(}) s
_R
S
%%Page: (1) 328
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/utility/ComposableIterator.java) def
/fdir (src/utility/) def
/ftail (ComposableIterator.java) def
% User defined strings:
/fmodstr (Thu Oct 13 16:22:21 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (ComposableIterator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package utility;) s
5 431 M
(import java.util.Iterator;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(public interface ComposableIterator extends Iterator {) s
5 354 M
(    ) s
5 343 M
(    ComposableIterator newComposableIterator\(ComposableIterator parent\);) s
5 332 M
(    ) s
5 321 M
(    Object getState\(\);) s
5 310 M
(    void setState\(Object o\);) s
5 288 M
(    ComposableIterator getParent\(\);) s
5 277 M
(    void setParent\(ComposableIterator p\);) s
5 266 M
(}) s
_R
S
%%Page: (1) 329
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/utility/CompositeIterator.java) def
/fdir (src/utility/) def
/ftail (CompositeIterator.java) def
% User defined strings:
/fmodstr (Tue Oct 18 19:34:27 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (CompositeIterator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package utility;) s
5 431 M
(import java.util.Iterator;) s
5 420 M
(import java.util.HashMap;) s
5 409 M
(import java.util.LinkedList;) s
5 376 M
(/**) s
5 365 M
( *) s
5 354 M
( * @author grouptheory) s
5 343 M
( */) s
5 332 M
(public class CompositeIterator implements Iterator {) s
5 310 M
(    private LinkedList _subIterators;) s
5 299 M
(    private CompositeIterator.State _next;) s
5 288 M
(    private boolean _leafOnly = false;) s
5 277 M
(    ) s
5 266 M
(    public CompositeIterator\(ComposableIterator root, boolean leafOnly\) {) s
5 255 M
(        _subIterators = new LinkedList\(\);) s
5 244 M
(        root.setParent\(null\);) s
5 233 M
(        _subIterators.addLast\(root\);) s
5 222 M
(        _next = computeNext\(\);) s
5 211 M
(        _leafOnly = leafOnly;) s
5 200 M
(    }) s
5 189 M
(    ) s
5 178 M
(    public boolean hasNext\(\) {) s
5 167 M
(        return \(_next!=null\);) s
5 156 M
(    }) s
5 145 M
(     ) s
5 134 M
(    public Object next\(\) {) s
5 123 M
(        CompositeIterator.State answerFull = _next;) s
5 112 M
(        // System.out.println\("DEBUG pre "+answer.getLeafIteratorState\(\)\);) s
5 101 M
(        _next = computeNext\(\);) s
5 90 M
(        // System.out.println\("DEBUG post "+answer\);) s
5 79 M
(        if \(_subIterators.size\(\) == 0\) {) s
5 68 M
(            _next = null;) s
5 57 M
(        }) s
5 35 M
(        Object answer = answerFull;) s
5 24 M
(        if \(_leafOnly\) {) s
5 13 M
(            answer = answerFull.getLeafIteratorState\(\);) s
5 2 M
(        }) s
_R
S
%%Page: (2) 330
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/utility/CompositeIterator.java) def
/fdir (src/utility/) def
/ftail (CompositeIterator.java) def
% User defined strings:
/fmodstr (Tue Oct 18 19:34:27 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (CompositeIterator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(        return answer;) s
5 497 M
(    }) s
5 475 M
(    public void remove\(\) {) s
5 464 M
(        throw new RuntimeException\("CompositeIterator.remove: not implemented"\);) s
5 453 M
(    }) s
5 431 M
(    private CompositeIterator.State computeNext\(\) {) s
5 420 M
(        ComposableIterator subitWithStuff = null;) s
5 409 M
(        ) s
5 398 M
(        for \(Iterator it=_subIterators.descendingIterator\(\);it.hasNext\(\);\) {) s
5 387 M
(            ComposableIterator subit = \(ComposableIterator\)it.next\(\);) s
5 376 M
(            if \( ! subit.hasNext\(\)\) {) s
5 365 M
(                it.remove\(\);) s
5 354 M
(            }) s
5 343 M
(            else {) s
5 332 M
(                Object subobj = subit.next\(\);) s
5 321 M
(                if \(subobj == null\) {) s
5 310 M
(                    it.remove\(\);) s
5 299 M
(                }) s
5 288 M
(                else {) s
5 277 M
(                    subit.setState\(subobj\);) s
5 266 M
(                    subitWithStuff = subit;) s
5 255 M
(                    break;) s
5 244 M
(                }) s
5 233 M
(            }) s
5 222 M
(        }) s
5 200 M
(        while \(subitWithStuff != null\) {) s
5 189 M
(            ComposableIterator nextIter = subitWithStuff.newComposableIterator\(subitWithStuff\);) s
5 178 M
(            if \(nextIter != null\) {) s
5 167 M
(                if \(nextIter.hasNext\(\)\) {) s
5 156 M
(                    Object subobj = nextIter.next\(\);) s
5 145 M
(                    if \(subobj!=null\) {) s
5 134 M
(                        nextIter.setState\(subobj\);) s
5 123 M
(                        nextIter.setParent\(subitWithStuff\);) s
5 112 M
(                        _subIterators.addLast\(nextIter\);) s
5 101 M
(                    }) s
5 90 M
(                    else nextIter=null;) s
5 79 M
(                }) s
5 68 M
(                else nextIter=null;) s
5 57 M
(            }) s
5 46 M
(            ) s
5 35 M
(            subitWithStuff = nextIter;) s
5 24 M
(        }) s
5 2 M
(        return new State\(this\);) s
_R
S
%%Page: (3) 331
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 3 def
/fname (src/utility/CompositeIterator.java) def
/fdir (src/utility/) def
/ftail (CompositeIterator.java) def
% User defined strings:
/fmodstr (Tue Oct 18 19:34:27 2011) def
/pagenumstr (3) def
/user_header_p true def
/user_header_left_str (CompositeIterator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 3 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    }) s
5 486 M
(    public String toString\(\) {) s
5 475 M
(        String s="";) s
5 464 M
(        s += "CompositeIterator BEGIN\\n";) s
5 453 M
(        s += "levels = "+_subIterators.size\(\)+"\\n";) s
5 442 M
(        int ct=0;) s
5 431 M
(        for \(Iterator it=_subIterators.iterator\(\);it.hasNext\(\);\) {) s
5 420 M
(            ComposableIterator subit = \(ComposableIterator\)it.next\(\);) s
5 409 M
(            s += subit.toString\(\);) s
5 398 M
(            if \(it.hasNext\(\)\) s += ",";) s
5 387 M
(            ct++;) s
5 376 M
(        }) s
5 365 M
(        ) s
5 354 M
(        if \(_next == null\) {) s
5 343 M
(            s += " CompositeIterator.State = null";) s
5 332 M
(        }) s
5 321 M
(        else {) s
5 310 M
(            s += " State="+_next.toString\(\);) s
5 299 M
(        }) s
5 288 M
(        s += "CompositeIterator END\\n";) s
5 277 M
(        return s;) s
5 266 M
(    }) s
5 244 M
(    public static class State {) s
5 233 M
(        private LinkedList _subObjects;) s
5 222 M
(        private CompositeIterator _owner;) s
5 200 M
(        State\(CompositeIterator owner\) {) s
5 189 M
(            _owner = owner;) s
5 178 M
(            _subObjects = new LinkedList\(\);) s
5 167 M
(            for \(Iterator it=_owner._subIterators.iterator\(\);it.hasNext\(\);\) {) s
5 156 M
(                ComposableIterator subit = \(ComposableIterator\)it.next\(\);) s
5 145 M
(                Object subobj = subit.getState\(\);) s
5 134 M
(                _subObjects.addLast\(subobj\);) s
5 123 M
(            }) s
5 112 M
(        }) s
5 90 M
(        public Object getLeafIteratorState\(\) {) s
5 79 M
(            return _subObjects.getLast\(\);) s
5 68 M
(        }) s
5 46 M
(        public Iterator iteratorComposableStates\(\) {) s
5 35 M
(            return _subObjects.iterator\(\);) s
5 24 M
(        }) s
5 13 M
(        ) s
5 2 M
(        public String toString\(\) {) s
_R
S
%%Page: (4) 332
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 4 def
/fname (src/utility/CompositeIterator.java) def
/fdir (src/utility/) def
/ftail (CompositeIterator.java) def
% User defined strings:
/fmodstr (Tue Oct 18 19:34:27 2011) def
/pagenumstr (4) def
/user_header_p true def
/user_header_left_str (CompositeIterator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 4 of 4) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(            String s="";) s
5 497 M
(            s+="CompositeIterator.State BEGIN\\n";) s
5 486 M
(            for \(Iterator it=_subObjects.iterator\(\);it.hasNext\(\);\) {) s
5 475 M
(                Object subobj = it.next\(\);) s
5 464 M
(                s += subobj;) s
5 453 M
(                if \(it.hasNext\(\)\) s += ",";) s
5 442 M
(            }) s
5 431 M
(            s+="CompositeIterator.State END\\n";) s
5 420 M
(            return s;) s
5 409 M
(        }) s
5 398 M
(    }) s
5 387 M
(}) s
_R
S
%%Page: (1) 333
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/utility/IDecorable.java) def
/fdir (src/utility/) def
/ftail (IDecorable.java) def
% User defined strings:
/fmodstr (Tue Oct 18 14:28:15 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (IDecorable.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package utility;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public interface IDecorable {) s
5 376 M
(    void attachDecorator\(String name, IDecorator dec\);) s
5 365 M
(    void detachDecorator\(IDecorator dec\);) s
5 343 M
(    String lookupDecoratorName\(IDecorator dec\);) s
5 332 M
(}) s
_R
S
%%Page: (1) 334
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/utility/IDecorator.java) def
/fdir (src/utility/) def
/ftail (IDecorator.java) def
% User defined strings:
/fmodstr (Tue Oct 18 14:28:15 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (IDecorator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 1) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package utility;) s
5 431 M
(import utility.IDecorable;) s
5 409 M
(/**) s
5 398 M
( *) s
5 387 M
( * @author grouptheory) s
5 376 M
( */) s
5 365 M
(public interface IDecorator {) s
5 354 M
(    void setOwner\(IDecorable owner\);) s
5 343 M
(}) s
_R
S
%%Page: (1) 335
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/utility/IntegerComposableIterator.java) def
/fdir (src/utility/) def
/ftail (IntegerComposableIterator.java) def
% User defined strings:
/fmodstr (Thu Oct 13 16:23:19 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (IntegerComposableIterator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package utility;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public class IntegerComposableIterator ) s
5 376 M
(        extends AbstractComposableIterator) s
5 365 M
(        implements ComposableIterator {) s
5 343 M
(    private int _base;) s
5 332 M
(    private int _depth;) s
5 321 M
(    private int _value;) s
5 310 M
(    ) s
5 299 M
(    IntegerComposableIterator\(int base, int depth\) {) s
5 288 M
(        _base = base;) s
5 277 M
(        _depth = depth;) s
5 266 M
(        _value = -1;) s
5 255 M
(        ) s
5 244 M
(        setState\(null\);) s
5 233 M
(    }) s
5 211 M
(    public ComposableIterator newComposableIterator\(ComposableIterator parent\) {) s
5 200 M
(        setParent\(parent\);) s
5 189 M
(        if \(_depth > 1\) {) s
5 178 M
(            return new IntegerComposableIterator\(_base, _depth-1\);) s
5 167 M
(        }) s
5 156 M
(        else {) s
5 145 M
(            return null;) s
5 134 M
(        }) s
5 123 M
(    }) s
5 101 M
(    public boolean hasNext\(\) {) s
5 90 M
(        if \(_value < _base-1\) return true;) s
5 79 M
(        else return false;) s
5 68 M
(    }) s
5 46 M
(    public Object next\(\) {) s
5 35 M
(        _value++;) s
5 24 M
(        return new Integer\(_value\);) s
5 13 M
(    }) s
_R
S
%%Page: (2) 336
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/utility/IntegerComposableIterator.java) def
/fdir (src/utility/) def
/ftail (IntegerComposableIterator.java) def
% User defined strings:
/fmodstr (Thu Oct 13 16:23:19 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (IntegerComposableIterator.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(    public void remove\(\) {) s
5 497 M
(        throw new RuntimeException\("CompositeIterator.remove: not implemented"\);) s
5 486 M
(    }) s
5 453 M
(    public String toString\(\) {) s
5 442 M
(        String s="";) s
5 431 M
(        s += " ICI\("+_value+"\)";) s
5 420 M
(        return s;) s
5 409 M
(    }) s
5 398 M
(}) s
_R
S
%%Page: (1) 337
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 1 def
/fname (src/utility/Main.java) def
/fdir (src/utility/) def
/ftail (Main.java) def
% User defined strings:
/fmodstr (Thu Oct 13 14:05:18 2011) def
/pagenumstr (1) def
/user_header_p true def
/user_header_left_str (Main.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 1 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 508 M
(/*) s
5 497 M
( * To change this template, choose Tools | Templates) s
5 486 M
( * and open the template in the editor.) s
5 475 M
( */) s
5 453 M
(package utility;) s
5 431 M
(/**) s
5 420 M
( *) s
5 409 M
( * @author grouptheory) s
5 398 M
( */) s
5 387 M
(public class Main {) s
5 365 M
(    /**) s
5 354 M
(     * @param args the command line arguments) s
5 343 M
(     */) s
5 332 M
(    public static void main\(String[] args\) {) s
5 321 M
(        // TODO code application logic here) s
5 299 M
(        IntegerComposableIterator ici = new IntegerComposableIterator\(2, 6\);) s
5 288 M
(        CompositeIterator compiter = new CompositeIterator\(ici, false\);) s
5 277 M
(        // System.out.println\("INITIAL compiter="+compiter.toString\(\)\);) s
5 255 M
(        int i=1;) s
5 244 M
(        while \(compiter.hasNext\(\)\) {) s
5 233 M
(            // System.out.println\("LOOP-preNEXT "+i+" compiter="+compiter.toString\(\)\);) s
5 222 M
(            Object o = compiter.next\(\);) s
5 211 M
(            // System.out.println\("LOOP-postNEXT "+i+" compiter="+compiter.toString\(\)\);) s
5 200 M
(            System.out.println\("STATE: "+o.toString\(\)\);) s
5 189 M
(            i++;) s
5 178 M
(        }) s
5 156 M
(        // System.out.println\("FINAL compiter="+compiter.toString\(\)\);) s
5 123 M
(        IntegerComposableIterator ici2 = new IntegerComposableIterator\(6,2\);) s
5 112 M
(        CompositeIterator compiter2 = new CompositeIterator\(ici2, false\);) s
5 101 M
(        // System.out.println\("INITIAL compiter="+compiter.toString\(\)\);) s
5 79 M
(        int i2=1;) s
5 68 M
(        while \(compiter2.hasNext\(\)\) {) s
5 57 M
(            // System.out.println\("LOOP-preNEXT "+i+" compiter="+compiter.toString\(\)\);) s
5 46 M
(            Object o2 = compiter2.next\(\);) s
5 35 M
(            // System.out.println\("LOOP-postNEXT "+i+" compiter="+compiter.toString\(\)\);) s
5 24 M
(            System.out.println\("STATE: "+o2.toString\(\)\);) s
5 13 M
(            i2++;) s
5 2 M
(        }) s
_R
S
%%Page: (2) 338
%%BeginPageSetup
_S
90 rotate
24 -574 translate
/pagenum 2 def
/fname (src/utility/Main.java) def
/fdir (src/utility/) def
/ftail (Main.java) def
% User defined strings:
/fmodstr (Thu Oct 13 14:05:18 2011) def
/pagenumstr (2) def
/user_header_p true def
/user_header_left_str (Main.java) def
/user_header_center_str (Makanin-Razborov H98230-06-1-0042) def
/user_header_right_str (Page 2 of 2) def
/user_footer_p false def
%%EndPageSetup
do_header
5 497 M
(        // System.out.println\("FINAL compiter="+compiter.toString\(\)\);) s
5 486 M
(    }) s
5 475 M
(}) s
_R
S
%%Trailer
%%Pages: 338
%%DocumentNeededResources: font Courier-Bold Courier 
%%EOF
